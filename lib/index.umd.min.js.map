{"version":3,"sources":["webpack://index/webpack/universalModuleDefinition","webpack://index/webpack/bootstrap","webpack://index/./node_modules/core-js/internals/to-string-tag-support.js","webpack://index/./node_modules/core-js/internals/function-bind-context.js","webpack://index/./node_modules/core-js/modules/es.array.flat.js","webpack://index/./node_modules/core-js/internals/object-get-own-property-names-external.js","webpack://index/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://index/./node_modules/core-js/internals/ie8-dom-define.js","webpack://index/./node_modules/core-js/modules/es.date.to-string.js","webpack://index/./node_modules/core-js/modules/es.string.split.js","webpack://index/./node_modules/core-js/internals/regexp-exec-abstract.js","webpack://index/./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack://index/./node_modules/core-js/internals/array-for-each.js","webpack://index/./node_modules/core-js/internals/an-instance.js","webpack://index/./node_modules/core-js/internals/html.js","webpack://index/./node_modules/core-js/internals/a-function.js","webpack://index/./node_modules/core-js/internals/check-correctness-of-iteration.js","webpack://index/./node_modules/core-js/internals/engine-is-ios.js","webpack://index/./node_modules/core-js/modules/es.object.define-properties.js","webpack://index/./node_modules/core-js/internals/require-object-coercible.js","webpack://index/./node_modules/core-js/internals/array-method-has-species-support.js","webpack://index/./node_modules/core-js/internals/iterate.js","webpack://index/./node_modules/core-js/internals/to-absolute-index.js","webpack://index/./node_modules/core-js/internals/export.js","webpack://index/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://index/./node_modules/core-js/modules/es.string.includes.js","webpack://index/./node_modules/core-js/modules/es.regexp.to-string.js","webpack://index/./node_modules/core-js/internals/set-species.js","webpack://index/./node_modules/core-js/modules/es.array.reverse.js","webpack://index/./node_modules/core-js/modules/es.array.is-array.js","webpack://index/./node_modules/core-js/internals/iterator-close.js","webpack://index/./node_modules/core-js/internals/task.js","webpack://index/./node_modules/core-js/internals/engine-v8-version.js","webpack://index/./node_modules/core-js/internals/engine-user-agent.js","webpack://index/./node_modules/core-js/internals/get-iterator-method.js","webpack://index/./node_modules/core-js/internals/object-define-properties.js","webpack://index/./node_modules/core-js/internals/a-possible-prototype.js","webpack://index/./node_modules/core-js/modules/es.string.iterator.js","webpack://index/./node_modules/core-js/internals/iterators.js","webpack://index/./node_modules/core-js/modules/es.array.for-each.js","webpack://index/./node_modules/core-js/internals/path.js","webpack://index/./node_modules/core-js/internals/indexed-object.js","webpack://index/./node_modules/core-js/internals/add-to-unscopables.js","webpack://index/./node_modules/core-js/internals/host-report-errors.js","webpack://index/./node_modules/core-js/internals/is-regexp.js","webpack://index/./node_modules/core-js/internals/species-constructor.js","webpack://index/./node_modules/core-js/internals/native-symbol.js","webpack://index/./node_modules/core-js/internals/array-includes.js","webpack://index/./node_modules/core-js/modules/es.array.filter.js","webpack://index/./node_modules/core-js/internals/array-from.js","webpack://index/./node_modules/core-js/modules/es.map.js","webpack://index/./node_modules/core-js/internals/to-length.js","webpack://index/./node_modules/core-js/internals/has.js","webpack://index/./node_modules/core-js/internals/shared.js","webpack://index/./node_modules/core-js/internals/own-keys.js","webpack://index/./node_modules/core-js/internals/whitespaces.js","webpack://index/./node_modules/core-js/internals/string-trim.js","webpack://index/./node_modules/core-js/internals/not-a-regexp.js","webpack://index/./node_modules/core-js/internals/create-property-descriptor.js","webpack://index/./node_modules/core-js/internals/engine-is-node.js","webpack://index/./node_modules/core-js/modules/es.set.js","webpack://index/./node_modules/core-js/internals/object-assign.js","webpack://index/./node_modules/core-js/internals/string-multibyte.js","webpack://index/./node_modules/core-js/internals/collection-strong.js","webpack://index/./node_modules/core-js/internals/array-species-create.js","webpack://index/./node_modules/core-js/internals/internal-state.js","webpack://index/./node_modules/core-js/internals/collection.js","webpack://index/./node_modules/core-js/internals/redefine.js","webpack://index/./node_modules/core-js/internals/inherit-if-required.js","webpack://index/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://index/./node_modules/core-js/internals/define-well-known-symbol.js","webpack://index/./node_modules/core-js/internals/enum-bug-keys.js","webpack://index/./node_modules/core-js/modules/es.object.define-property.js","webpack://index/./node_modules/core-js/internals/to-object.js","webpack://index/./node_modules/core-js/internals/object-create.js","webpack://index/./node_modules/core-js/modules/es.array.find.js","webpack://index/./node_modules/core-js/internals/define-iterator.js","webpack://index/./node_modules/core-js/internals/native-weak-map.js","webpack://index/./node_modules/core-js/internals/an-object.js","webpack://index/./node_modules/core-js/internals/descriptors.js","webpack://index/./node_modules/core-js/internals/create-property.js","webpack://index/./node_modules/core-js/internals/is-object.js","webpack://index/./node_modules/@soda/get-current-script/index.js","webpack://index/./node_modules/core-js/internals/inspect-source.js","webpack://index/./node_modules/core-js/internals/advance-string-index.js","webpack://index/external {\"commonjs\":\"vue\",\"commonjs2\":\"vue\",\"root\":\"Vue\"}","webpack://index/./node_modules/core-js/internals/uid.js","webpack://index/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://index/./node_modules/core-js/internals/regexp-exec.js","webpack://index/./node_modules/core-js/internals/is-forced.js","webpack://index/./node_modules/core-js/modules/es.array.concat.js","webpack://index/./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack://index/./node_modules/core-js/internals/object-define-property.js","webpack://index/./node_modules/core-js/internals/create-iterator-constructor.js","webpack://index/./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack://index/./node_modules/core-js/internals/flatten-into-array.js","webpack://index/./node_modules/core-js/internals/engine-is-webos-webkit.js","webpack://index/./node_modules/core-js/modules/es.symbol.js","webpack://index/./node_modules/core-js/modules/es.array.from.js","webpack://index/./node_modules/core-js/internals/array-method-is-strict.js","webpack://index/./node_modules/core-js/internals/to-integer.js","webpack://index/./node_modules/core-js/modules/es.number.constructor.js","webpack://index/./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack://index/./node_modules/core-js/modules/es.regexp.exec.js","webpack://index/./node_modules/core-js/internals/regexp-flags.js","webpack://index/./node_modules/core-js/internals/iterators-core.js","webpack://index/./node_modules/core-js/internals/object-to-string.js","webpack://index/./node_modules/core-js/modules/es.function.name.js","webpack://index/./node_modules/core-js/internals/microtask.js","webpack://index/./node_modules/core-js/internals/well-known-symbol.js","webpack://index/./node_modules/core-js/modules/es.object.keys.js","webpack://index/./node_modules/core-js/internals/array-iteration.js","webpack://index/./node_modules/core-js/internals/freezing.js","webpack://index/./node_modules/core-js/internals/to-primitive.js","webpack://index/./node_modules/core-js/internals/is-pure.js","webpack://index/./node_modules/core-js/internals/classof-raw.js","webpack://index/./node_modules/core-js/internals/shared-store.js","webpack://index/./node_modules/core-js/modules/es.array.find-index.js","webpack://index/(webpack)/buildin/global.js","webpack://index/./node_modules/core-js/internals/object-keys-internal.js","webpack://index/./node_modules/core-js/modules/es.array.includes.js","webpack://index/./node_modules/core-js/internals/document-create-element.js","webpack://index/./node_modules/core-js/modules/es.object.assign.js","webpack://index/./node_modules/core-js/internals/promise-resolve.js","webpack://index/./node_modules/core-js/internals/set-global.js","webpack://index/./node_modules/core-js/internals/hidden-keys.js","webpack://index/./node_modules/core-js/internals/fails.js","webpack://index/./node_modules/core-js/internals/get-built-in.js","webpack://index/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://index/./node_modules/core-js/modules/es.symbol.iterator.js","webpack://index/./node_modules/core-js/internals/object-set-prototype-of.js","webpack://index/./node_modules/core-js/modules/es.object.to-string.js","webpack://index/./node_modules/core-js/internals/set-to-string-tag.js","webpack://index/./node_modules/konva/lib/Global.js","webpack://index/./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack://index/./node_modules/core-js/modules/es.array.map.js","webpack://index/./node_modules/core-js/internals/global.js","webpack://index/./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack://index/./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack://index/./node_modules/core-js/internals/object-keys.js","webpack://index/./node_modules/core-js/modules/es.symbol.description.js","webpack://index/./node_modules/core-js/internals/object-get-prototype-of.js","webpack://index/./node_modules/core-js/internals/correct-prototype-getter.js","webpack://index/./node_modules/core-js/modules/es.array.iterator.js","webpack://index/./node_modules/core-js/internals/redefine-all.js","webpack://index/./node_modules/core-js/modules/es.object.get-own-property-descriptor.js","webpack://index/./node_modules/core-js/internals/well-known-symbol-wrapped.js","webpack://index/./node_modules/core-js/internals/perform.js","webpack://index/./node_modules/core-js/modules/es.promise.js","webpack://index/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://index/./node_modules/core-js/internals/is-array.js","webpack://index/./node_modules/core-js/internals/is-array-iterator-method.js","webpack://index/./node_modules/core-js/internals/new-promise-capability.js","webpack://index/./node_modules/core-js/internals/internal-metadata.js","webpack://index/./packages/interModel/src/interModel.vue?4388","webpack://index/./node_modules/core-js/internals/classof.js","webpack://index/./node_modules/core-js/internals/shared-key.js","webpack://index/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://index/./packages/interModel/src/interModel.vue","webpack://index/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://index/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://index/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://index/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://index/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://index/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://index/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://index/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://index/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://index/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://index/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://index/./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack://index/./node_modules/konva/lib/Util.js","webpack://index/./node_modules/konva/lib/Validators.js","webpack://index/./node_modules/konva/lib/Factory.js","webpack://index/./node_modules/konva/lib/Context.js","webpack://index/./node_modules/konva/lib/Canvas.js","webpack://index/./node_modules/konva/lib/DragAndDrop.js","webpack://index/./node_modules/konva/lib/Node.js","webpack://index/./node_modules/konva/lib/Container.js","webpack://index/./node_modules/konva/lib/PointerEvents.js","webpack://index/./node_modules/konva/lib/Stage.js","webpack://index/./node_modules/konva/lib/Shape.js","webpack://index/./node_modules/konva/lib/Layer.js","webpack://index/./node_modules/konva/lib/FastLayer.js","webpack://index/./node_modules/konva/lib/Group.js","webpack://index/./node_modules/konva/lib/Animation.js","webpack://index/./node_modules/konva/lib/Tween.js","webpack://index/./node_modules/konva/lib/_CoreInternals.js","webpack://index/./node_modules/konva/lib/shapes/Arc.js","webpack://index/./node_modules/konva/lib/shapes/Line.js","webpack://index/./node_modules/konva/lib/shapes/Path.js","webpack://index/./node_modules/konva/lib/shapes/Arrow.js","webpack://index/./node_modules/konva/lib/shapes/Circle.js","webpack://index/./node_modules/konva/lib/shapes/Ellipse.js","webpack://index/./node_modules/konva/lib/shapes/Image.js","webpack://index/./node_modules/konva/lib/shapes/Label.js","webpack://index/./node_modules/konva/lib/shapes/Rect.js","webpack://index/./node_modules/konva/lib/shapes/RegularPolygon.js","webpack://index/./node_modules/konva/lib/shapes/Ring.js","webpack://index/./node_modules/konva/lib/shapes/Sprite.js","webpack://index/./node_modules/konva/lib/shapes/Star.js","webpack://index/./node_modules/konva/lib/shapes/Text.js","webpack://index/./node_modules/konva/lib/shapes/TextPath.js","webpack://index/./node_modules/konva/lib/shapes/Transformer.js","webpack://index/./node_modules/konva/lib/shapes/Wedge.js","webpack://index/./node_modules/konva/lib/filters/Blur.js","webpack://index/./node_modules/konva/lib/filters/Brighten.js","webpack://index/./node_modules/konva/lib/filters/Contrast.js","webpack://index/./node_modules/konva/lib/filters/Emboss.js","webpack://index/./node_modules/konva/lib/filters/Enhance.js","webpack://index/./node_modules/konva/lib/filters/Grayscale.js","webpack://index/./node_modules/konva/lib/filters/HSL.js","webpack://index/./node_modules/konva/lib/filters/HSV.js","webpack://index/./node_modules/konva/lib/filters/Invert.js","webpack://index/./node_modules/konva/lib/filters/Kaleidoscope.js","webpack://index/./node_modules/konva/lib/filters/Mask.js","webpack://index/./node_modules/konva/lib/filters/Noise.js","webpack://index/./node_modules/konva/lib/filters/Pixelate.js","webpack://index/./node_modules/konva/lib/filters/Posterize.js","webpack://index/./node_modules/konva/lib/filters/RGB.js","webpack://index/./node_modules/konva/lib/filters/RGBA.js","webpack://index/./node_modules/konva/lib/filters/Sepia.js","webpack://index/./node_modules/konva/lib/filters/Solarize.js","webpack://index/./node_modules/konva/lib/filters/Threshold.js","webpack://index/./node_modules/konva/lib/_FullInternals.js","webpack://index/./node_modules/konva/lib/index.js","webpack://index/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://index/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://index/./packages/interModel/src/js/interModel.ts","webpack://index/./packages/interModel/src/js/flowPoint.ts","webpack://index/./packages/interModel/src/js/common.ts","webpack://index/./packages/interModel/src/assets/iconBase64.ts","webpack://index/./packages/interModel/src/interModel.vue?705e","webpack://index/./packages/interModel/src/interModel.vue?c04f","webpack://index/./packages/interModel/index.ts","webpack://index/./packages/index.ts","webpack://index/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js","webpack://index/./node_modules/core-js/modules/es.array.slice.js","webpack://index/./node_modules/core-js/internals/to-indexed-object.js","webpack://index/./node_modules/core-js/internals/dom-iterables.js","webpack://index/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://index/./node_modules/core-js/internals/native-promise-constructor.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE__8bbf__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","wellKnownSymbol","TO_STRING_TAG","test","String","aFunction","fn","that","length","undefined","a","b","apply","arguments","$","flattenIntoArray","toObject","toLength","toInteger","arraySpeciesCreate","target","proto","flat","depthArg","O","sourceLen","A","toIndexedObject","nativeGetOwnPropertyNames","f","toString","windowNames","window","getOwnPropertyNames","getWindowNames","it","error","slice","DESCRIPTORS","propertyIsEnumerableModule","createPropertyDescriptor","toPrimitive","has","IE8_DOM_DEFINE","nativeGetOwnPropertyDescriptor","getOwnPropertyDescriptor","P","fails","createElement","redefine","DatePrototype","Date","INVALID_DATE","TO_STRING","nativeDateToString","getTime","NaN","fixRegExpWellKnownSymbolLogic","isRegExp","anObject","requireObjectCoercible","speciesConstructor","advanceStringIndex","callRegExpExec","regexpExec","arrayPush","push","min","Math","MAX_UINT32","SUPPORTS_Y","RegExp","SPLIT","nativeSplit","maybeCallNative","internalSplit","split","separator","limit","string","lim","match","lastIndex","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","separatorCopy","source","index","splitter","regexp","res","done","rx","S","C","unicodeMatching","q","e","z","classof","R","exec","result","TypeError","global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","$forEach","arrayMethodIsStrict","STRICT_METHOD","callbackfn","Constructor","getBuiltIn","ITERATOR","SAFE_CLOSING","called","iteratorWithReturn","next","Array","from","SKIP_CLOSING","ITERATION_SUPPORT","userAgent","defineProperties","stat","forced","sham","V8_VERSION","SPECIES","METHOD_NAME","array","constructor","foo","Boolean","isArrayIteratorMethod","getIteratorMethod","iteratorClose","Result","stopped","iterable","unboundFunction","options","iterator","iterFn","step","AS_ENTRIES","IS_ITERATOR","INTERRUPTED","stop","condition","callFn","max","integer","setGlobal","copyConstructorProperties","isForced","FORCED","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","noTargetGet","internalObjectKeys","enumBugKeys","hiddenKeys","concat","notARegExp","correctIsRegExpLogic","includes","searchString","indexOf","RegExpPrototype","nativeToString","NOT_GENERIC","INCORRECT_NAME","rf","unsafe","definePropertyModule","CONSTRUCTOR_NAME","configurable","isArray","nativeReverse","reverse","returnMethod","defer","channel","port","html","IS_IOS","IS_NODE","location","set","setImmediate","clear","clearImmediate","process","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","run","id","runner","listener","event","data","post","postMessage","protocol","host","args","Function","nextTick","now","port2","port1","onmessage","addEventListener","importScripts","appendChild","removeChild","setTimeout","version","versions","v8","Iterators","objectKeys","Properties","keys","isObject","charAt","InternalStateModule","defineIterator","STRING_ITERATOR","setInternalState","getInternalState","getterFor","iterated","type","point","state","propertyIsEnumerable","UNSCOPABLES","ArrayPrototype","console","MATCH","defaultConstructor","getOwnPropertySymbols","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","el","fromIndex","$filter","filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","callWithSafeIterationClosing","createProperty","arrayLike","argumentsLength","mapfn","mapping","iteratorMethod","collection","collectionStrong","init","argument","IS_PURE","store","copyright","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","whitespaces","whitespace","ltrim","rtrim","TYPE","replace","start","end","trim","bitmap","writable","IndexedObject","nativeAssign","assign","B","symbol","alphabet","chr","join","T","j","CONVERT_TO_STRING","pos","first","second","position","size","charCodeAt","codeAt","redefineAll","anInstance","iterate","setSpecies","fastKey","internalStateGetterFor","getConstructor","wrapper","IS_MAP","ADDER","last","previous","entry","getEntry","removed","prev","boundFunction","add","setStrong","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","kind","originalArray","NATIVE_WEAK_MAP","objectHas","shared","sharedKey","WeakMap","enforce","wmget","wmhas","wmset","metadata","facade","STATE","InternalMetadataModule","checkCorrectnessOfIteration","setToStringTag","inheritIfRequired","common","IS_WEAK","NativeConstructor","NativePrototype","exported","fixMethod","KEY","nativeMethod","REPLACE","entries","REQUIRED","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","dummy","inspectSource","enforceInternalState","TEMPLATE","simple","setPrototypeOf","Wrapper","NewTarget","NewTargetPrototype","path","wrappedWellKnownSymbolModule","NAME","objectDefinePropertyModile","activeXDocument","documentCreateElement","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","NullProtoObjectViaActiveX","write","close","temp","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","style","display","src","contentWindow","document","open","F","NullProtoObject","domain","ActiveXObject","$find","find","addToUnscopables","FIND","SKIPS_HOLES","createIteratorConstructor","getPrototypeOf","IteratorsCore","IteratorPrototype","BUGGY_SAFARI_ITERATORS","KEYS","VALUES","ENTRIES","returnThis","Iterable","IteratorConstructor","DEFAULT","IS_SET","CurrentIteratorPrototype","methods","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","values","propertyKey","getCurrentScript","currentScript","Error","err","pageSource","inlineScriptSourceRegExp","inlineScriptSource","ieStackRegExp","ffStackRegExp","stackDetails","stack","scriptLocation","line","currentLocation","href","hash","scripts","getElementsByTagName","documentElement","outerHTML","readyState","innerHTML","functionToString","postfix","random","regexpFlags","stickyHelpers","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","PATCH","str","reCopy","re","charsAdded","strCopy","input","replacement","feature","detection","normalize","POLYFILL","NATIVE","toLowerCase","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","arg","k","len","E","nativeDefineProperty","Attributes","RE","original","depth","mapper","thisArg","element","targetIndex","sourceIndex","mapFn","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","nativeObjectCreate","getOwnPropertyNamesExternal","getOwnPropertyDescriptorModule","uid","defineWellKnownSymbol","HIDDEN","SYMBOL","TO_PRIMITIVE","ObjectPrototype","$Symbol","$stringify","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","WellKnownSymbolsStore","QObject","USE_SETTER","findChild","setSymbolDescriptor","ObjectPrototypeDescriptor","wrap","tag","description","isSymbol","$defineProperty","$defineProperties","properties","$getOwnPropertySymbols","$propertyIsEnumerable","$create","V","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","IS_OBJECT_PROTOTYPE","setter","keyFor","sym","useSetter","useSimple","FORCED_JSON_STRINGIFY","stringify","replacer","space","$replacer","valueOf","INCORRECT_ITERATION","method","ceil","floor","isNaN","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","third","radix","maxCode","digits","code","parseInt","NumberWrapper","error1","error2","dotAll","PrototypeOfArrayIteratorPrototype","arrayIterator","NEW_ITERATOR_PROTOTYPE","TO_STRING_TAG_SUPPORT","FunctionPrototype","FunctionPrototypeToString","nameRE","flush","head","notify","toggle","node","promise","then","macrotask","IS_WEBOS_WEBKIT","MutationObserver","WebKitMutationObserver","Promise","queueMicrotaskDescriptor","queueMicrotask","parent","exit","enter","resolve","createTextNode","observe","characterData","task","createWellKnownSymbol","withoutSetter","nativeKeys","FAILS_ON_PRIMITIVES","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_OUT","NO_HOLES","specificCreate","map","some","every","findIndex","filterOut","isExtensible","preventExtensions","PREFERRED_STRING","val","SHARED","$findIndex","FIND_INDEX","g","$includes","EXISTS","newPromiseCapability","x","promiseCapability","variable","namespace","NASHORN_BUG","1","aPossiblePrototype","CORRECT_SETTER","__proto__","TAG","PI_OVER_180","PI","detectBrowser","glob","WorkerGlobalScope","Konva","_global","isBrowser","isUnminified","param","dblClickWindow","angle","angleDeg","enableTrace","pointerEventsEnabled","autoDrawEnabled","hitOnDragEnabled","capturePointerEventsEnabled","_mouseListenClick","_touchListenClick","_pointerListenClick","_mouseInDblClickWindow","_touchInDblClickWindow","_pointerInDblClickWindow","_mouseDblClickPointerId","_touchDblClickPointerId","_pointerDblClickPointerId","pixelRatio","devicePixelRatio","dragDistance","showWarnings","dragButtons","isDragging","_registerNode","NodeClass","getClassName","_injectGlobal","REPLACE_SUPPORTS_NAMED_GROUPS","groups","REPLACE_KEEPS_$0","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","arg2","forceStringMethod","stringMethod","regexMethod","$map","check","globalThis","ownKeys","getOwnPropertyDescriptors","ArrayIteratorMethods","ArrayValues","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","desc","CORRECT_PROTOTYPE_GETTER","ARRAY_ITERATOR","Arguments","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","NativePromise","microtask","promiseResolve","hostReportErrors","newPromiseCapabilityModule","perform","PROMISE","getInternalPromiseState","PromiseConstructor","$fetch","newGenericPromiseCapability","DISPATCH_EVENT","createEvent","dispatchEvent","NATIVE_REJECTION_EVENT","PromiseRejectionEvent","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","GLOBAL_CORE_JS_PROMISE","FakePromise","all","isThenable","isReject","notified","chain","reactions","ok","exited","reaction","handler","fail","reject","rejection","onHandleUnhandled","onUnhandled","reason","initEvent","IS_UNHANDLED","isUnhandled","emit","unwrap","internalReject","internalResolve","executor","onFulfilled","onRejected","fetch","capability","$promiseResolve","remaining","alreadyCalled","race","PromiseCapability","$$resolve","$$reject","FREEZING","METADATA","setMetadata","objectID","weakData","getWeakData","onFreeze","meta","classofRaw","CORRECT_ARGUMENTS","tryGet","callee","class","ref","phaseWidth","drawOption","drawPhase","_arrayWithHoles","arr","_iterableToArrayLimit","_arr","_n","_d","_e","_s","_i","_arrayLikeToArray","arr2","_unsupportedIterableToArray","minLen","arrayLikeToArray","_nonIterableRest","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","_arrayWithoutHoles","_iterableToArray","iter","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","_defineProperty","obj","enumerableOnly","symbols","_objectSpread2","Transform","dirty","tr","y","sx","sy","rad","cos","sin","m11","m12","m21","m22","matrix","dx","dy","m0","m1","m2","m3","m4","m5","delta","rotation","scaleX","scaleY","skewX","skewY","sqrt","acos","Util","_getRotation","OBJECT_ARRAY","OBJECT_NUMBER","OBJECT_STRING","OBJECT_BOOLEAN","PI_OVER_DEG180","DEG180_OVER_PI","HASH","EMPTY_STRING","ZERO","KONVA_WARNING","KONVA_ERROR","RGB_PAREN","COLORS","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","transparent","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","RGB_REGEX","animQueue","req","requestAnimationFrame","nodeType","isFinite","selector","firstChar","toUpperCase","number","callback","cb","canvas","parentNode","url","imageObj","createImageElement","onload","hex","bigint","randColor","color","rgb","_hexToRgb","substring","substr","_namedColorToRBA","_hex3ColorToRGBA","_hex6ColorToRGBA","_rgbColorToRGBA","_rgbaColorToRGBA","_hslColorToRGBA","parts","Number","_","hsl","h","t2","t3","round","t1","r1","r2","width","height","retObj","_isPlainObject","cloneObject","_isArray","cloneArray","deg","warn","degToRad","radToDeg","radians","func","left","right","x1","y1","x2","y2","x3","y3","dist","pd2","u","pt","isClosed","pc","MAX_VALUE","p1","p2","proj","_getProjectionToSegment","px","py","pdist","startArray","endArray","newStart","pr","_getProjectionToLine","visitedByCircularReferenceRemoval","_isElement","_prepareToStringify","evt","touches","changedTouches","identifier","pointerId","_formatValue","_isString","_isBoolean","RGBComponent","getNumberValidator","attr","_isNumber","getNumberOrArrayOfNumbersValidator","noOfElements","isNumber","isValidArray","getNumberOrAutoValidator","isAuto","getStringValidator","getStringOrGradientValidator","isString","isGradient","addColorStop","getNumberArrayValidator","item","getBooleanValidator","isBool","getComponentValidator","components","GET","SET","Factory","def","validator","after","addGetter","addSetter","addOverloadedGetterSetter","_capitalize","attrs","overWriteSetter","_setAttr","component","capitalize","ret","getAttr","basicValidator","oldVal","_fireChangeEvent","capitalizedAttr","message","each","oldMethodName","newMethodName","oldGetter","oldSetter","deprecated","_filterUpToDate","simplifyArray","retArr","util","COMMA","OPEN_PAREN","CLOSE_PAREN","OPEN_PAREN_BRACKET","CLOSE_BRACKET_PAREN","SEMICOLON","DOUBLE_PAREN","EQUALS","CONTEXT_METHODS","CONTEXT_PROPERTIES","traceArrMax","_context","_canvas","getContext","traceArr","_enableTrace","shape","fillEnabled","_fill","hasStroke","_stroke","fillAfterStrokeEnabled","strokeShape","fillShape","relaxed","rounded","trace","shift","getCanvas","getPixelRatio","setTransform","bounds","clearRect","getWidth","getHeight","lineCap","getLineCap","setAttr","absOpacity","getAbsoluteOpacity","lineJoin","a0","a1","a2","a3","a4","a5","arc","arcTo","beginPath","bezierCurveTo","clip","closePath","createImageData","createLinearGradient","createPattern","createRadialGradient","a6","a7","a8","drawImage","ellipse","isPointInPath","path2d","fill","fillRect","strokeRect","text","maxWidth","fillText","measureText","getImageData","lineTo","moveTo","rect","putImageData","quadraticCurveTo","restore","rotate","save","scale","setLineDash","getLineDash","stroke","strokeText","transform","translate","origSetter","methodName","origMethod","_trace","prop","op","globalCompositeOperation","SceneContext","_fillFunc","_getFillPattern","grd","_getLinearGradient","_getRadialGradient","hasColor","fillPriority","getFillPriority","_fillColor","hasPattern","getFillPatternImage","_fillPattern","hasLinearGradient","getFillLinearGradientColorStops","_fillLinearGradient","hasRadialGradient","getFillRadialGradientColorStops","_fillRadialGradient","getStrokeLinearGradientStartPoint","getStrokeLinearGradientEndPoint","colorStops","getStrokeLinearGradientColorStops","dash","strokeScaleEnabled","getStrokeScaleEnabled","_applyLineCap","dashEnabled","dashOffset","strokeWidth","getShadowForStrokeEnabled","_strokeLinearGradient","_strokeFunc","_a","_b","_c","getShadowRGBA","blur","getShadowBlur","offset","getShadowOffset","getAbsoluteScale","ratio","abs","HitContext","colorKey","_fillFuncHit","hasHitStroke","hitStrokeWidth","_strokeFuncHit","_pixelRatio","getDevicePixelRatio","createCanvasElement","context","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","config","isCache","conf","padding","margin","border","background","top","previousRatio","setSize","setWidth","setHeight","mimeType","quality","toDataURL","addGetterSetter","super","hitCanvas","DD","flag","_dragElements","elem","dragStatus","justDragged","Map","nodesToFireEvents","stage","getStage","setPointersPositions","_getFirstPointerId","_changedPointerPositions","distance","startPointerPos","startDrag","_setDragPosition","fire","drawNode","getLayer","batchDraw","delete","_endDragBefore","_drag","_endDragAfter","ABSOLUTE_OPACITY","ALL_LISTENERS","ABSOLUTE_TRANSFORM","ABSOLUTE_SCALE","CANVAS","CHANGE","CHILDREN","KONVA","LISTENING","MOUSEENTER","MOUSELEAVE","SHAPE","SPACE","STAGE","TRANSFORM","UPPER_STAGE","VISIBLE","TRANSFORM_CHANGE_STR","idCounter","_id","eventListeners","_allEventListeners","_cache","_attachedDepsListeners","_lastPos","_batchingTransformChange","_needClearTransformCache","_isUnderCache","_dragEventId","_shouldFireChangeEvents","setAttrs","privateGetter","cache","isTransform","invalid","deps","depsString","dep","on","_clearCache","_getCache","_clearSelfAndDescendantCache","_requestDraw","getClientRect","skipTransform","relativeTo","getParent","drawBorder","hitCanvasPixelRatio","cachedSceneCanvas","cachedFilterCanvas","cachedHitCanvas","sceneContext","hitContext","imageSmoothingEnabled","drawScene","drawHit","scene","hit","minX","minY","maxX","maxY","points","trans","getAbsoluteTransform","transformed","_applyOpacity","_applyGlobalCompositeOperation","canvasCache","_getCanvasCache","cacheCanvas","_getCachedSceneCanvas","imageData","filters","cachedCanvas","sceneCanvas","filterCanvas","filterContext","evtStr","_delegate","baseEvent","events","_off","off","stopNode","targets","findAncestors","currentTarget","stopDrag","_remove","_clearCaches","children","splice","_setChildrenIndices","remove","_isFunction","ancestors","_batchTransformChanges","_isListening","listening","_isVisible","visible","skipDragCheck","layer","layerUnderDrag","dragSkip","isListening","isVisible","nodes","child","getDepth","addChildren","getChildren","getPointerPosition","copy","invert","haveCachedParent","isCached","absoluteMatrix","getMatrix","absoluteTransform","getTranslation","origTrans","_clearTransform","_getAbsoluteTransform","_setTransform","setPosition","offsetX","offsetY","change","changeX","changeY","family","unshift","theta","zIndex","_getAbsoluteOpacity","opacity","newContainer","defaultValue","nonPlainObject","getAttrs","className","JSON","includeSelf","_isMatch","ancestor","sel","selectorArr","isValidSelector","hasName","_getStage","eventType","bubble","_fireAndBubble","_fire","at","_eachAncestorReverse","transformsEnabled","multiply","getTransform","copyInto","reset","decompose","_getTransform","getAngle","skew","allListeners","box","_toKonvaCanvas","_urlToImage","img","getDragDistance","evtName","evtListeners","newVal","oldName","newName","fullName","compareShape","shouldStop","isAncestorOf","stopBubble","cancelBubble","listeners","newEvents","oldEvents","topListeners","_getProtoListeners","selfListeners","ap","getAbsolutePosition","_getPointerById","bubbleEvent","_createDragElement","newNodePos","dbf","dragBoundFunc","bounded","setAbsolutePosition","draggable","_dragChange","_dragCleanup","shouldCheckButton","canDrag","hasDraggingChild","_listenDrag","dragElement","isReady","screenRect","haveIntersection","container","parse","_createNode","no","Class","_attrsAffectingSize","addComponentsGetterSetter","backCompat","rotateDeg","setRotationDeg","getRotationDeg","filterFunc","results","destroy","_validateAdd","hasChildren","destroyChildren","_generalFind","findOne","_descendants","valid","clone","intersects","can","caching","_drawCachedSceneCanvas","_drawChildren","shouldDrawHit","_drawCachedHitCanvas","drawMethod","clipWidth","clipHeight","clipFunc","hasClip","selfCache","clipX","clipY","hasComposition","selfRect","Infinity","skipShadow","skipStroke","shapes","hasVisible","_transformedRect","Captures","SUPPORT_POINTER_EVENTS","getCapturedShape","hasPointerCapture","setPointerCapture","releaseCapture","PointerEvent","STRING","PX","MOUSEOUT","MOUSEOVER","MOUSEMOVE","MOUSEDOWN","MOUSEUP","POINTERMOVE","POINTERDOWN","POINTERUP","POINTERCANCEL","LOSTPOINTERCAPTURE","POINTEROUT","POINTERLEAVE","POINTEROVER","POINTERENTER","CONTEXTMENU","TOUCHSTART","TOUCHEND","TOUCHMOVE","TOUCHCANCEL","WHEEL","MAX_LAYERS_NUMBER","EVENTS","EVENTS_MAP","mouse","pointerclick","pointerdblclick","touch","pointer","getEventType","getEventsMap","checkNoClip","NO_POINTERS_MESSAGE","stages","_pointerPositions","_buildDOM","_bindContentEvents","_resizeDOM","_checkVisibility","isLayer","getType","isFastLayer","throw","getElementsByClassName","getElementById","parentElement","layers","_isInDocument","layerCanvas","getIntersection","bufferCanvas","bufferHitCanvas","draw","rest","pointerenter","pointerover","evenType","targetShape","_getTargetShape","eventsEnabled","pointerout","pointerleave","pointerPos","triggeredOnShape","hasShape","pointerdown","isTouch","preventDefault","cancelable","processedShapesIds","differentTarget","pointermove","clickStartShape","clickEndShape","fireDblClick","clearTimeout","pointerup","contentPosition","_getContentPosition","clientX","clientY","getBoundingClientRect","clientWidth","clientHeight","userSelect","setAttribute","HAS_SHADOW","SHADOW_RGBA","patternImage","linearGradient","radialGradient","dummyContext","getDummyContext","_clearHasShadowCache","_clearGetShadowRGBACache","_clearFillPatternCache","_clearLinearGradientCache","_clearRadialGradientCache","getRandomColor","sceneFunc","hitFunc","_hasShadow","shadowEnabled","shadowOpacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","__getFillPattern","fillPatternImage","ctx","pattern","fillPatternRepeat","fillPatternX","fillPatternY","fillPatternRotation","fillPatternScaleX","fillPatternScaleY","fillPatternOffsetX","fillPatternOffsetY","DOMMatrix","__getLinearGradient","fillLinearGradientColorStops","fillLinearGradientStartPoint","fillLinearGradientEndPoint","__getRadialGradient","fillRadialGradientColorStops","fillRadialGradientStartPoint","fillRadialGradientEndPoint","fillRadialGradientStartRadius","fillRadialGradientEndRadius","_getShadowRGBA","hasShadow","rgba","colorToRGBA","_calculate","strokeEnabled","strokeLinearGradientColorStops","forceFill","perfectDrawEnabled","hasFill","isTransparent","strokeForShadow","shadowForStrokeEnabled","_centroid","getSelfRect","applyStroke","fillAndStrokeWidth","fillAndStrokeHeight","applyShadow","preWidth","preHeight","blurRadius","bufferContext","drawFunc","getSceneFunc","skipBuffer","cachingSelf","_useBufferCanvas","_applyLineJoin","_applyShadow","alphaThreshold","hitImageData","hitData","rgbColorKey","alpha","hitWidth","hitHeight","dashArray","getDashArray","setDashArray","getDrawFunc","setDrawFunc","drawHitFunc","getDrawHitFunc","setDrawHitFunc","BEFORE_DRAW","DRAW","INTERSECTION_OFFSETS","INTERSECTION_OFFSETS_LEN","_waitingForDraw","_setSmoothEnabled","createPNGStream","getHitCanvas","setZIndex","getNativeCanvasElement","insertBefore","moveToTop","moved","moveUp","moveDown","moveToBottom","requestAnimFrame","spiralSearchDistance","continueSearch","intersectionOffset","_getIntersection","antialiased","p3","_rgbToHex","clearBeforeDraw","hitGraphEnabled","added","performance","animIdCounter","frame","time","timeDiff","lastTime","frameRate","setLayers","lays","animations","_addAnimation","_removeAnimation","anim","_handleAnimation","layersLen","needRedraw","layerHash","_updateFrameObject","Anim","_runFrames","_animationLoop","animRunning","blacklist","duration","easing","onFinish","yoyo","PAUSED","PLAYING","REVERSING","colorAttrs","TweenEngine","propFunc","begin","finish","_pos","_change","prevPos","_time","_position","_startTime","_finish","pause","play","update","getTimer","onEnterFrame","getPosition","setTime","nodeId","Easings","Linear","getLayers","tween","_tweenFunc","_addListeners","tweens","_addAttr","onReset","onUpdate","diff","tweenId","trueEnd","trueStart","endRGBA","_prepareArrayForTween","closed","startRGBA","onPlay","onReverse","onPause","seek","thisId","to","params","asin","pow","BounceEaseOut","BounceEaseIn","_assign","Global","Node","Container","Stage","Layer","FastLayer","Group","Shape","Animation","Tween","Context","Canvas","clockwise","outerRadius","innerRadius","fillStrokeShape","boundLeftRatio","boundRightRatio","boundTopRatio","boundBottomRatio","boundLeft","boundRight","boundTop","boundBottom","getControlPoints","x0","y0","d01","d12","fa","fb","p1x","p1y","p2x","p2y","expandPoints","tension","cp","allPoints","tp","bezier","getTensionPoints","_getTensionPoints","_getTensionPointsClosed","firstControlPoints","lastControlPoints","middle","dataArray","pathLength","parsePathData","ca","command","cx","cy","ry","dTheta","psi","fs","inc","getPointOnEllipticalArc","getPointOnCubicBezier","ii","getPointOnLine","getPointOnQuadraticBezier","P1x","P1y","P2x","P2y","fromX","fromY","rise","ix","iy","getLineLength","pRise","pRun","pct","P3x","P3y","P4x","P4y","CB1","CB2","CB3","CB4","QB1","QB2","QB3","cosPsi","sinPsi","cs","cc","coords","cpx","cpy","jlen","parsed","parseFloat","prevCmd","ctlPtx","ctlPty","cmd","startX","startY","idx","convertEndpointToCenterParameterization","calcLength","psiDeg","xp","yp","lambda","cxp","cyp","vMag","v","vRatio","vAngle","_sceneFunc","PI2","fromTension","pointerLength","lp","atan2","pointerWidth","pointerAtEnding","__fillStroke","pointerAtBeginning","isDashEnabled","lineRect","radius","radiusX","radiusY","_setImageLoad","image","complete","cropWidth","cropHeight","cropX","cropY","onError","onerror","crossOrigin","ATTR_CHANGE_LIST","CHANGE_KONVA","NONE","UP","RIGHT","DOWN","LEFT","attrChangeListLen","_sync","getText","pointerDirection","pointerHeight","getTag","cornerRadius","topLeft","topRight","bottomLeft","bottomRight","direction","_getPoints","sides","PIx2","_updated","updated","frameIndex","isRunning","clearInterval","interval","_setInterval","animation","ix4","offsets","frameOffsets","ix2","setInterval","_updateIndex","getIndex","setIndex","numPoints","stringToArray","AUTO","CENTER","JUSTIFY","CONTEXT_2D","DASH","TEXT","TEXT_UPPER","TOP","BOTTOM","MIDDLE","NORMAL","PX_SPACE","WORD","CHAR","ELLIPSIS","normalizeFontFamily","fontFamily","hasSpace","hasQuotes","_partialText","_partialTextX","_partialTextY","checkDefaultFill","_setTextData","textArr","textArrLen","fontSize","lineHeightPx","lineHeight","verticalAlign","alignY","align","totalWidth","letterSpacing","textDecoration","shouldUnderline","shouldLineThrough","translateY","lineTranslateX","lineTranslateY","_getContextFont","spacesNumber","oneWord","lineWidth","lastLine","lastInParagraph","strokeStyle","li","letter","measureSize","getTextWidth","textWidth","textHeight","metrics","font","fontStyle","fontVariant","_getTextWidth","lines","fixedWidth","fixedHeight","maxHeightPx","currentHeightPx","shouldWrap","wrapAtWord","shouldAddEllipsis","ellipsis","additionalWidth","low","high","matchWidth","mid","substrWidth","wrapIndex","nextChar","nextIsSpaceOrDash","lastIndexOf","trimRight","_addTextLine","haveSpace","trimLeft","partialText","dummyCanvas","textBaseline","glyphInfo","p0","setText","_getTextSize","kerningFunc","textFullWidth","fullPathWidth","pathCmd","charArr","pIndex","currentT","getNextPathSegment","pathData","findSegmentToFitCharacter","glyphWidth","currLen","attempts","cumulativePathLength","needNewSegment","testChar","lettersInOffset","kern","midpoint","transposeX","transposeY","info","EVENTS_NAME","NODES_RECT","ANGLES","TOUCH_DEVICE","getCursor","anchorName","_inRange","ANCHORS_NAMES","getCenter","rotateAroundPoint","angleRad","rotateAroundCenter","deltaRad","center","getSnap","snaps","newRotationRad","tol","snapped","absDiff","dif","_transforming","_createElements","_handleMouseMove","_handleMouseUp","getNode","setNode","setNodes","_nodes","detach","useSingleNodeRotation","getAbsoluteRotation","onChange","_resetTransformCache","additionalEvents","_getEventNamespace","_proxyDrag","elementsCreated","lastPos","otherNode","otherAbs","_movingAnchorName","__getNodeRect","rot","relative","ignoreStroke","absScale","absPos","totalPoints","_getNodeRect","_createBack","_createAnchor","anchor","_handleMouseDown","cursor","_cursorChange","back","rotateEnabled","rotateAnchorOffset","_sign","shouldOverdrawWholeArea","hypotenuse","_anchorDragOffset","newHypotenuse","anchorNode","pp","oldAbs","anchorDragBoundFunc","newAbs","keepProportion","keepRatio","shiftKey","centeredScaling","altKey","comparePoint","reverseX","reverseY","topOffsetX","topOffsetY","bottomOffsetX","bottomOffsetY","move","_fitNodesInto","oldRotation","newRotation","rotationSnapTolerance","snappedRot","rotationSnaps","_removeEvents","removeEventListener","newAttrs","oldAttrs","minSize","allowNegativeScale","flipEnabled","boundBoxFunc","baseSize","oldTr","newTr","parentTransform","localTransform","newLocalTransform","enabledAnchors","resizeEnabled","anchorSize","anchorStroke","anchorStrokeWidth","anchorFill","anchorCornerRadius","_batchChangeChild","borderEnabled","borderStroke","borderStrokeWidth","borderDash","validateAnchors","lineEnabled","rotateHandlerOffset","enabledHandlers","BlurStack","getAngleDeg","setAngleDeg","mul_table","shg_table","filterGaussBlurRGBA","yi","yw","r_sum","g_sum","b_sum","a_sum","r_out_sum","g_out_sum","b_out_sum","a_out_sum","r_in_sum","g_in_sum","b_in_sum","a_in_sum","pg","pb","pa","rbs","pixels","div","widthMinus1","heightMinus1","radiusPlus1","sumFactor","stackStart","stackEnd","stackIn","stackOut","mul_sum","shg_sum","Blur","afterSetFilter","Brighten","brightness","Contrast","adjust","contrast","nPixels","Emboss","strength","embossStrength","greyLevel","embossWhiteLevel","embossDirection","blend","embossBlend","dirY","dirX","w","w4","otherY","offsetYOther","otherX","offsetOther","dR","dG","dB","absDif","absG","absB","remap","fromValue","fromMin","fromMax","toMin","toMax","toValue","fromRange","toRange","Enhance","nSubPixels","rMin","rMax","gMin","gMax","bMin","bMax","enhanceAmount","enhance","rMid","rGoalMax","rGoalMin","gMid","gGoalMax","gGoalMin","bMid","bGoalMax","bGoalMin","Grayscale","HSL","saturation","hue","luminance","vsu","vsw","rr","rg","rb","gr","gg","gb","br","bg","bb","HSV","Invert","ToPolar","dst","opt","srcPixels","dstPixels","xSize","ySize","xMid","polarCenterX","yMid","polarCenterY","rSize","tSize","conversion","FromPolar","phaseShift","polarRotation","Kaleidoscope","xoff","srcPos","dstPos","power","kaleidoscopePower","kaleidoscopeAngle","tempCanvas","scratchData","minSectionSize","sectionSize","xStart","xEnd","xDelta","pixelAt","idata","rgbDistance","rgbMean","pTab","backgroundMask","threshold","rgbv_no","rgbv_ne","rgbv_so","rgbv_se","thres","mean","mask","applyMask","erodeMask","sw","sh","weights","side","halfSide","maskResult","so","scy","scx","srcOff","wt","dilateMask","smoothEdgeMask","Mask","Noise","amount","noise","half","Pixelate","xBinStart","xBinEnd","yBinStart","yBinEnd","xBin","yBin","pixelsInBin","pixelSize","nBinsX","nBinsY","Posterize","levels","RGB","RGBA","ia","Sepia","Solarize","Threshold","level","Arc","Arrow","Circle","Ellipse","Image","Label","Tag","Line","Path","Rect","RegularPolygon","Ring","Sprite","Star","Text","TextPath","Transformer","Wedge","Filters","_classCallCheck","_defineProperties","props","_createClass","protoProps","staticProps","CrossConstBase","roadWidth","bicycleLaneWidth","greenWidth","doubleYellowLineInterval","defaultSolidRoadLength","defaultRoadLength","defaultRoadNumber","manRadianLength","manRoadLength","manRoadInterval","manRoadLineWidth","manCarInterval","walkwayWidth","dashLength","busDashLength","tidalDashLength","roadPole","CrossConst","CrossAngle","radian","RoadCenterMode","doubleYellowLine","greenArea","singleYellowLine","toAngle","toRadian","pointRotateByPoint","rotateCenter","angleXY","atan","L","pointRotateAngel","getDistance","twoBezier","getArcPoint","pointA","pointB","angelA","pointList","erPoint","calculateAngle","leftDegree","rightDegree","degree","degreeToAngle","agree","calculateLeftRightRadian","degreeRadia","getSplitPoint","point1","point2","spliceLength","spliteArr","option","entrances","origin","centerLineMode","is_have_son","baseWidth","expandManRadian","roadNumber","entranceArray","entranceNum","secondIn","motor_lanes","degreeLeft","degreeRight","widthLeft","rightWidth","widthRight","leftWidth","setLeftAndRight","en_id","in","inBicycleLane","out","outBicycleLane","road_center_mode","canalization","roadLength","centerToManRoadDistance","exit_lanes","twice_crossing_street","calculation","correctPoint","pointData","lineData","polygonData","angleLeft","angleRight","angleLeft2","angleRight2","toLeftAngle","toRightAngle","dw","AL","AR","CL","CR","BLO","BRO","BL","BR","roadPoleL","B1L","B1R","C1L","C1R","roadName","E1","F1","FToE","angleIndex","rightPoint","BToDR","B1ToD1R","X1","OOO","ALToAR","BLToBR","H0","H1","H2","dInterval","dGreeny","pointLaneFlow","laneFlowPoints","getLaneFlowPoint","lane_flow","has_waiting_area","waitAreaFlowPoints","waitAreaPoints","pointRoadFlow","pointRoadFlowText","getRoadFlowPoint","roadFlowPoints","flowTextPoint","pointWaitArea","getWaitAreaPoint","right_lane_type","lane_type","left_lane_type","lineDate","leftIndex","rightIndex","leftH0","leftH2","rightH0","rightH2","lineDate1","lineDate2","lineDate3","lineDate4","fdLaneNum","itt","getDegreeByEnId","degreeMap","2","3","walkwayPolygonL","walkwayPolygonR","manRoadLine","greenPolygon","laneNumber","laneFlow","laneFlowOffetStopLine","cenY","leftY","rightY","flowType","manOffsetY","manOffsetX","leftX","getRealPhasePoint","phaseNum","baseLayerWidth","fd_flow","getInterPhaseflowData","entrance","laneOffset","motorWidth","nonWidth","getDrawFlowData","originPoint","oriBaseWidth","getFootLightData","getDirectionLightData","pointInfo","polygon1","polygon2","polygon3","phaseMap","enterFlowMap","enterDirectionMap","adjacentIcon","bikeIcon","default","setup","slots","expose","modelStage","baseLayer","realLayer","phaseStage","phaseLayer","cross","hoverBack","hoverText","ctrlWay","nearImg","bikeImg","tfInterModel","scTfInterBox","scTfPhaseBox","showRoadAsideLine","showLaneDashedLine","showManRoadLine","showStopLine","showManRoad","showLaneFlow","showRoadName","routeNameColor","defaultFlowColor","HighLightFlowColor","saturationFlowColor","phaseBackColor","laneBackColor","phaseNumColor","redColor","greenColor","yellowColor","greyColor","interType","getDrawOption","clearHandler","interData","log","drawInter","drawInterData","resetInterData","roadPolygonShape","roadPolygon","RoadPolygon","drawMethods","drawRoundabout","whitePolygonShape","carRoadLine0","carRoadLine1","carRoadLine2","yellowPolygonShape","carRoadLine4","drawLine","fdsplitLine","greenLine","manRoadPolygonShape","drawPolygon","carRoadLine3","roadText","getTextRotationByDegree","offsetText","laneFlowPolygonShape","laneFlowPolygon","drawCanalization","drawTwiceIsland","drawBikeLogo","newData","initLayer","getEnidWithDirection","enter_port_direction","orientation","drawRoadFlow","movements","sortMovement","getSortMovement","flowList","if_control","startPoint","getStartPoint","movements_type","flowData","rotateFlowData","getRotateData","drawRoadFlowWithData","fdflowList","roadFlowPolygonShape","if_release","rotatePoins","getEntranceLaneNum","enterInfo","mainIn","fdIn","movementsType","laneFlowTotal","fdlaneFlowTotal","enterMove","leftArray","leftFdArray","centerArray","centerFdArray","rightArray","rightFdArray","manArray","nonArray","drawFlowSaturation","flowSaturation","roadFlowPolygon","saturationText","fillEntranceOrLaneBack","fillData","inNum","outNum","index1","index2","fillType","fillDirection","getOutLineOffset","point3","point4","roadCenterMode","drawEntranceHighLight","lightData","lineDatas","drawAdjacentInfo","adjacentList","me","adjacentMap","entrance_id","adjacentInfo","getNearPoint","getImgRotationByDegree","offsetImg","drawHoverText","curEntrance","calDegree","imageList","drawLaneImg","laneImgs","loadImg","getStopLinePointByLaneNum","rotateType","loadImgs","imgload","imgUrl","laneDirection","orgPoint","offetStopLine","armPoint","drawVariableLane","variableLaneData","click","lane_id","status","drawVariableFlow","clickPoint","drawVariableClickPoint","x4","y4","rightEntrance","topPoint","bottomPoint","canalizationPoints","circlePoint","quhuaArea","lineNum","stepX3","stepY3","stepX1","stepY1","rowLine","offsetDistanceY","offsetDistanceX","colPoints","itX","rowPoints","getGtdPolygonData","getGtdLineData","rangeArea","circlePoint0","circlePoint1","circlePoint2","circlePoint3","gtdGreenPolygon","gtdRoadPolygon","gtdNonMotorPolygon","polygonShape","circlrRadia","circle","dashCircle","drawRealMethods","drawRealInfo","realInfo","setRealBaseInfo","drawPhases","drawPhaseRemainTime","current_phase_remaining_time","drawWalkMan","drawInterPhase","drawGreenRedLight","ctrl_way","phase_num","phaseBack","phase_movements_info","phaseList","getEntrancePhaseList","fdPhaseList","darwPhaseWithPhaseList","slideToCurPhase","current_phase_num","road_type","phasePolygonShap","enterFlowPoint","phasePoints","rotatePoints","rotatePoint","drawPhaseBox","currentPhaseNum","scrollTop","realPhasePolygonShap","currentPhase","phase","phaseCode","phaseFlowPolygonShape","ittt","DecMovements","movementParas","moveList","movenents","getPhaseListWithBin","movementMap","num_movements","list","flow","bool","phaseMovemenes","getPhaseMovementType","getTypePhaseListWithBin","fdFlow","movemenes","baseFlowType","Set","phaseCenterPoint","movements_state","drawInterPhaseWithPhaseList","getInterPhaseFlowColor","drawInterPhaseFlow","greenFlowList","greenPhaseMovemenes","interPhaseFlowPolygonShape","remainTime","greyPhaseList","redPhaseList","yellowPhaseList","greenPhaseList","greyPhases","redPhases","yellowPhases","greenPhases","runColor","getRuncolor","run1Color","run2Color","manPoint","getEntranceManPoint","drawFootLight","laneOffsetHeight","outOfsset","pointIndex","centerPoint","manData","drawGreenRedLightWithType","getEntranceLightPoint","xAngle","getxAngle","drawLightHandler","leftColor","getLightcolor","centerColor","rightColor","nonLeftColor","nonCenterColor","enNum","drawEntrance","calculateEntranceLightPoint","prevEntrance","nextEntrance","calculateEntranceFaceLightPoint","calculateCircleLightPoint","fdOffset","offsetHeight","leftPoint","nonLeftPoint","nonCenterPoint","drawType","lightBack","centerCircle","rotateLightData","lightPolygonShape","ponitInfo","rotatePoint1","rotatePoint2","rotatePolygon1","rotatePolygon2","rotatePolygon3","circle1","circle2","circle3","circle4","polygonShape1","polygonShape2","polygonShape3","P1","P2","getRotateLightData2","rotateLightData2","imageLoadMethods","initImg","render","interModel","install","app","nativeSlice","fin","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList"],"mappings":"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GAAO,aAAa,GAC5CvM,GAAQ8b,WAAW,GAAO,CACtB/5B,SAAU,QACVmoD,YAAa,WACbC,YAAa,aC1BjB,IAAIC,GAAY,CACZ,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEAC,GAAY,CACZ,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GAC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","file":"index.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"index\"] = factory(require(\"vue\"));\n\telse\n\t\troot[\"index\"] = factory(root[\"Vue\"]);\n})((typeof self !== 'undefined' ? self : this), function(__WEBPACK_EXTERNAL_MODULE__8bbf__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"fb15\");\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flat` method\n// https://tc39.es/ecma262/#sec-array.prototype.flat\n$({ target: 'Array', proto: true }, {\n  flat: function flat(/* depthArg = 1 */) {\n    var depthArg = arguments.length ? arguments[0] : undefined;\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg));\n    return A;\n  }\n});\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var redefine = require('../internals/redefine');\n\nvar DatePrototype = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar nativeDateToString = DatePrototype[TO_STRING];\nvar getTime = DatePrototype.getTime;\n\n// `Date.prototype.toString` method\n// https://tc39.es/ecma262/#sec-date.prototype.tostring\nif (new Date(NaN) + '' != INVALID_DATE) {\n  redefine(DatePrototype, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare -- NaN check\n    return value === value ? nativeDateToString.call(this) : INVALID_DATE;\n  });\n}\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    // eslint-disable-next-line regexp/no-empty-group -- required for testing\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    // eslint-disable-next-line regexp/no-assertion-capturing-group, regexp/no-empty-group -- required for testing\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.es/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineProperties = require('../internals/object-define-properties');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperties: defineProperties\n});\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator);\n      throw error;\n    }\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\n\nvar nativeReverse = [].reverse;\nvar test = [1, 2];\n\n// `Array.prototype.reverse` method\n// https://tc39.es/ecma262/#sec-array.prototype.reverse\n// fix for Safari 12.0 bug\n// https://bugs.webkit.org/show_bug.cgi?id=188794\n$({ target: 'Array', proto: true, forced: String(test) === String(test.reverse()) }, {\n  reverse: function reverse() {\n    // eslint-disable-next-line no-self-assign -- dirty hack\n    if (isArray(this)) this.length = this.length;\n    return nativeReverse.call(this);\n  }\n});\n","var $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\n\n// `Array.isArray` method\n// https://tc39.es/ecma262/#sec-array.isarray\n$({ target: 'Array', stat: true }, {\n  isArray: isArray\n});\n","var anObject = require('../internals/an-object');\n\nmodule.exports = function (iterator) {\n  var returnMethod = iterator['return'];\n  if (returnMethod !== undefined) {\n    return anObject(returnMethod.call(iterator)).value;\n  }\n};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func -- spec requirement\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    location && location.protocol !== 'file:' &&\n    !fails(post)\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","module.exports = {};\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var IS_NODE = require('../internals/engine-is-node');\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  /* global Symbol -- required for testing */\n  return !Symbol.sham &&\n    // Chrome 38 Symbol has incorrect toString conversion\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    (IS_NODE ? V8_VERSION === 38 : V8_VERSION > 37 && V8_VERSION < 41);\n});\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Map` constructor\n// https://tc39.es/ecma262/#sec-map-objects\nmodule.exports = collection('Map', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.9.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.es/ecma262/#sec-set-objects\nmodule.exports = collection('Set', function (init) {\n  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\nvar nativeAssign = Object.assign;\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\nmodule.exports = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  /* global Symbol -- required for testing */\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/function-bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.1.3.6 Map.prototype.get(key)\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // 23.1.3.9 Map.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // 23.2.3.1 Set.prototype.add(value)\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(C.prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return C;\n  },\n  setStrong: function (C, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    defineIterator(C, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var nativeMethod = NativePrototype[KEY];\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        nativeMethod.call(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        nativeMethod.call(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  var REPLACE = isForced(\n    CONSTRUCTOR_NAME,\n    typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n      new NativeConstructor().entries().next();\n    }))\n  );\n\n  if (REPLACE) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.REQUIRED = true;\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new -- required for testing\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, Constructor, CONSTRUCTOR_NAME);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar objectDefinePropertyModile = require('../internals/object-define-property');\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\n$({ target: 'Object', stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {\n  defineProperty: objectDefinePropertyModile.f\n});\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject -- old IE */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","// addapted from the document.currentScript polyfill by Adam Miller\n// MIT license\n// source: https://github.com/amiller-gh/currentScript-polyfill\n\n// added support for Firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1620505\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = factory();\n  } else {\n    root.getCurrentScript = factory();\n  }\n}(typeof self !== 'undefined' ? self : this, function () {\n  function getCurrentScript () {\n    var descriptor = Object.getOwnPropertyDescriptor(document, 'currentScript')\n    // for chrome\n    if (!descriptor && 'currentScript' in document && document.currentScript) {\n      return document.currentScript\n    }\n\n    // for other browsers with native support for currentScript\n    if (descriptor && descriptor.get !== getCurrentScript && document.currentScript) {\n      return document.currentScript\n    }\n  \n    // IE 8-10 support script readyState\n    // IE 11+ & Firefox support stack trace\n    try {\n      throw new Error();\n    }\n    catch (err) {\n      // Find the second match for the \"at\" string to get file src url from stack.\n      var ieStackRegExp = /.*at [^(]*\\((.*):(.+):(.+)\\)$/ig,\n        ffStackRegExp = /@([^@]*):(\\d+):(\\d+)\\s*$/ig,\n        stackDetails = ieStackRegExp.exec(err.stack) || ffStackRegExp.exec(err.stack),\n        scriptLocation = (stackDetails && stackDetails[1]) || false,\n        line = (stackDetails && stackDetails[2]) || false,\n        currentLocation = document.location.href.replace(document.location.hash, ''),\n        pageSource,\n        inlineScriptSourceRegExp,\n        inlineScriptSource,\n        scripts = document.getElementsByTagName('script'); // Live NodeList collection\n  \n      if (scriptLocation === currentLocation) {\n        pageSource = document.documentElement.outerHTML;\n        inlineScriptSourceRegExp = new RegExp('(?:[^\\\\n]+?\\\\n){0,' + (line - 2) + '}[^<]*<script>([\\\\d\\\\D]*?)<\\\\/script>[\\\\d\\\\D]*', 'i');\n        inlineScriptSource = pageSource.replace(inlineScriptSourceRegExp, '$1').trim();\n      }\n  \n      for (var i = 0; i < scripts.length; i++) {\n        // If ready state is interactive, return the script tag\n        if (scripts[i].readyState === 'interactive') {\n          return scripts[i];\n        }\n  \n        // If src matches, return the script tag\n        if (scripts[i].src === scriptLocation) {\n          return scripts[i];\n        }\n  \n        // If inline source matches, return the script tag\n        if (\n          scriptLocation === currentLocation &&\n          scripts[i].innerHTML &&\n          scripts[i].innerHTML.trim() === inlineScriptSource\n        ) {\n          return scripts[i];\n        }\n      }\n  \n      // If no match, return null\n      return null;\n    }\n  };\n\n  return getCurrentScript\n}));\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__8bbf__;","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\n// eslint-disable-next-line regexp/no-assertion-capturing-group, regexp/no-empty-group -- required for testing\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","var anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    iteratorClose(iterator);\n    throw error;\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg, 3) : false;\n  var element;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1FFFFFFFFFFFFF) throw TypeError('Exceed the acceptable array length');\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /web0s(?!.*chrome)/i.test(userAgent);\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.es/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.es/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.es/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.es/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = IteratorPrototype == undefined || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif ((!IS_PURE || NEW_ITERATOR_PROTOTYPE) && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_WEBOS_WEBKIT = require('../internals/engine-is-webos-webkit');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar document = global.document;\nvar process = global.process;\nvar Promise = global.Promise;\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898\n  if (!IS_IOS && !IS_NODE && !IS_WEBOS_WEBKIT && MutationObserver && document) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // Node.js without promises\n  } else if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_OUT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterOut\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterOut` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterOut: createMethod(7)\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","module.exports = false;\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","module.exports = {};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","/* eslint-disable no-proto -- safe */\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","var PI_OVER_180 = Math.PI / 180;\nfunction detectBrowser() {\n    return (typeof window !== 'undefined' &&\n        ({}.toString.call(window) === '[object Window]' ||\n            {}.toString.call(window) === '[object global]'));\n}\nexport const glob = typeof global !== 'undefined'\n    ? global\n    : typeof window !== 'undefined'\n        ? window\n        : typeof WorkerGlobalScope !== 'undefined'\n            ? self\n            : {};\nexport const Konva = {\n    _global: glob,\n    version: '8.3.8',\n    isBrowser: detectBrowser(),\n    isUnminified: /param/.test(function (param) { }.toString()),\n    dblClickWindow: 400,\n    getAngle(angle) {\n        return Konva.angleDeg ? angle * PI_OVER_180 : angle;\n    },\n    enableTrace: false,\n    pointerEventsEnabled: true,\n    autoDrawEnabled: true,\n    hitOnDragEnabled: false,\n    capturePointerEventsEnabled: false,\n    _mouseListenClick: false,\n    _touchListenClick: false,\n    _pointerListenClick: false,\n    _mouseInDblClickWindow: false,\n    _touchInDblClickWindow: false,\n    _pointerInDblClickWindow: false,\n    _mouseDblClickPointerId: null,\n    _touchDblClickPointerId: null,\n    _pointerDblClickPointerId: null,\n    pixelRatio: (typeof window !== 'undefined' && window.devicePixelRatio) || 1,\n    dragDistance: 3,\n    angleDeg: true,\n    showWarnings: true,\n    dragButtons: [0, 1],\n    isDragging() {\n        return Konva['DD'].isDragging;\n    },\n    isDragReady() {\n        return !!Konva['DD'].node;\n    },\n    document: glob.document,\n    _injectGlobal(Konva) {\n        glob.Konva = Konva;\n    },\n};\nexport const _registerNode = (NodeClass) => {\n    Konva[NodeClass.prototype.getClassName()] = NodeClass;\n};\nKonva._injectGlobal(Konva);\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  // eslint-disable-next-line regexp/no-empty-group -- required for testing\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  /* global globalThis -- safe */\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_NODE = require('../internals/engine-is-node');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar NATIVE_REJECTION_EVENT = typeof PromiseRejectionEvent == 'function';\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && !NATIVE_REJECTION_EVENT) return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, wrapper, state),\n            bind(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars -- required for `.length`\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.es/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.es/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.es/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.es/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./interModel.vue?vue&type=style&index=0&id=53dddc24&lang=scss\"","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","<template>\n  <div class=\"sc-tf-inter-model\"\n       ref=\"tfInterModel\">\n    <!-- 路口模型 -->\n    <div class=\"sc-tf-inter-box\"\n         ref=\"scTfInterBox\"></div>\n    <!-- 实时相位 -->\n    <div class=\"overflow-box\"\n         v-show=\"drawOption.drawPhase\"\n         :style=\"{ width: phaseWidth + 'px' }\">\n      <div class=\"sc-tf-phase-box\"\n           ref=\"scTfPhaseBox\"></div>\n    </div>\n  </div>\n</template>\n \n<script lang=\"ts\">\nimport Konva from \"konva\";\nimport { defineComponent, reactive, toRefs, ref } from \"vue\";\nimport {\n  getDrawFlowData,\n  getLaneFlowPoint,\n  getRealPhasePoint,\n  getInterPhaseflowData,\n  getFootLightData,\n  getDirectionLightData,\n} from \"./js/flowPoint\";\nimport { CrossInfo, Util, CrossConst } from \"./js/interModel\";\nimport { phaseMap } from \"./js/common\";\nimport { adjacentIcon, bikeIcon } from \"./assets/iconBase64\";\nexport default defineComponent({\n  name: \"tf-inter-model\",\n  props: {\n    // 绘制配置参数\n    option: {\n      type: Object,\n      default: () => {\n        return {};\n      },\n    },\n  },\n  setup(props, { attrs, slots, emit, expose }) {\n    let modelStage: any = null,\n      baseLayer: any = null,\n      realLayer: any = null,\n      phaseStage: any = null,\n      phaseLayer: any = null,\n      cross: any = null,\n      clientWidth: number = 0,\n      clientHeight: number = 0,\n      baseLayerWidth: number = 0,\n      phaseWidth: number = 0,\n      hoverBack: any = null,\n      hoverText: any = null,\n      ctrlWay: any = null,\n      nearImg: any = null,\n      bikeImg: any = null;\n    const tfInterModel = ref();\n    const scTfInterBox = ref();\n    const scTfPhaseBox = ref();\n    const state = reactive({\n      phaseWidth: 100,\n      drawOption: {\n        centerLineMode: false, // 是否道路中线对齐\n        drawPhase: true, // 是否绘制左侧相位\n        showRoadAsideLine: true, // 显示道路边线\n        showLaneDashedLine: true, // 显示道路虚线\n        showManRoadLine: true, // 显示斑马线\n        showStopLine: true, // 显示停车线\n        showManRoad: true, // 显示行人车道\n        showLaneFlow: true, // 显示车道流向\n        showRoadName: true, // 显示路口名称\n        laneFlowOffetStopLine: 0, // 车道流向离停车线的距离 车道宽度的倍数\n\n        routeNameColor: \"#000000\", // 默认路口名称颜色\n        defaultFlowColor: \"#008aaf\", // 默认流向颜色\n        HighLightFlowColor: \"#00ec00\", // 高亮流向颜色\n        saturationFlowColor: \"#ffffff\", // 饱和度流向颜色\n        phaseBackColor: \"#ffffff\", // 相位背景颜色\n        laneBackColor: \"#283349\", // 车道背景颜色\n        phaseNumColor: \"#446a86\", // 相位号颜色\n        redColor: \"#FF0000\", // 红色\n        greenColor: \"#00EC00\", // 绿色\n        yellowColor: \"#E1E100\", // 黄色\n        greyColor: \"#cccccc\", // 灰色\n      },\n      interType: 0, // 0：普通路口  1：父子路口 2：匝道路口\n    });\n    const methods = {\n      /**\n       * @name wsx\n       * @Date 2021-08-03 09:48:24\n       * @introduction 初始化配置参数\n       * @description 详细描述\n       * @param {参数类型} 参数 参数说明\n       * @return {返回类型说明}\n       * @exception [违例类型] [违例类型说明]\n       */\n      getDrawOption() {\n        state.drawOption = Object.assign(\n          {\n            centerLineMode: false, // 是否道路中线对齐\n            drawPhase: true, // 是否绘制左侧相位\n            showRoadAsideLine: true, // 显示道路边线\n            showLaneDashedLine: true, // 显示道路虚线\n            showManRoadLine: true, // 显示斑马线\n            showStopLine: true, // 显示停车线\n            showManRoad: true, // 显示行人车道\n            showLaneFlow: true, // 显示车道流向\n            showRoadName: true, // 显示路口名称\n            laneFlowOffetStopLine: 0, // 车道流向离停车线的距离 车道宽度的倍数\n\n            routeNameColor: \"#000000\", // 默认路口名称颜色\n            defaultFlowColor: \"#008aaf\", // 默认流向颜色\n            HighLightFlowColor: \"#00ec00\", // 高亮流向颜色\n            saturationFlowColor: \"#ffffff\", // 饱和度流向颜色\n            phaseBackColor: \"#ffffff\", // 相位背景颜色\n            laneBackColor: \"#283349\", // 车道背景颜色\n            phaseNumColor: \"#446a86\", // 相位号颜色\n            redColor: \"#FF0000\", // 红色\n            greenColor: \"#00EC00\", // 绿色\n            yellowColor: \"#E1E100\", // 黄色\n            greyColor: \"#cccccc\", // 灰色\n          },\n          props.option\n        );\n      },\n\n      clearHandler() {\n        modelStage && modelStage.destroy();\n        // 基础\n        baseLayer && baseLayer.destroy();\n        // 实时信息\n        realLayer && realLayer.destroy();\n        phaseStage && phaseStage.destroy();\n        phaseLayer && phaseLayer.destroy();\n        // 相邻路口\n        // this.adjacentLayrt && this.adjacentLayrt.destroy()\n        modelStage = null;\n        baseLayer = null;\n        realLayer = null;\n        phaseStage = null;\n        phaseLayer = null;\n        // 路口数据\n        cross = null;\n      },\n      /**\n       * @name wsx\n       * @Date 2021-07-21 19:37:23\n       * @introduction 绘制路口模型\n       * @description 详细描述\n       * @param {参数类型} 参数 参数说明\n       * @return {返回类型说明}\n       * @exception [违例类型] [违例类型说明]\n       */\n      init(interData: any) {\n        if (modelStage) {\n          this.clearHandler();\n        }\n        state.interType = interData.is_have_son;\n        methods.getDrawOption();\n        console.log();\n        clientWidth = tfInterModel.value.clientWidth;\n        clientHeight = tfInterModel.value.clientHeight;\n        if (!clientWidth || !clientHeight) {\n          return;\n        }\n        baseLayerWidth = Math.min(clientWidth, clientHeight);\n        // 1、初始化canvas场景：Stage\n        modelStage = new Konva.Stage({\n          // scale: { x: 1, y: -1 },\n          // container: this.$el,\n          container: scTfInterBox.value,\n          width: clientWidth,\n          height: clientHeight,\n        });\n        // 1.1 保障路口基础图层是正方形，居中\n        let width, height;\n        let x = 0;\n        let y = 0;\n        // eslint-disable-next-line prefer-const\n        width = height = baseLayerWidth;\n        if (clientWidth > clientHeight) {\n          x = (clientWidth - clientHeight) / 2;\n        } else {\n          y = -(clientWidth - clientHeight) / 2;\n        }\n        baseLayer = new Konva.Layer({\n          x: state.drawOption.drawPhase\n            ? x + width / 2 + width / 12\n            : x + width / 2,\n          y: y + height / 2,\n        });\n        baseLayer.height = height;\n        baseLayer.width = height;\n        modelStage.add(baseLayer);\n        methods.drawInter(interData);\n      },\n      /**\n       * @name wsx\n       * @Date 2021-07-26 13:21:03\n       * @introduction 简述\n       * @description 详细描述\n       * @param {参数类型} interData 路口模型数据\n       * @return {返回类型说明}\n       * @exception [违例类型] [违例类型说明]\n       */\n      drawInter(interData: any) {\n        const me = this;\n        const drawInterData = this.resetInterData(interData);\n        cross = new CrossInfo(drawInterData);\n        // 根据数据绘画\n        const roadPolygonShape = new Konva.Shape({\n          stroke: \"#23324b\",\n          strokeWidth: 5,\n          fill: state.drawOption.laneBackColor,\n          // a Konva.Canvas renderer is passed into the sceneFunc function\n          sceneFunc(context: any, shape: any) {\n            context.beginPath();\n            const roadPolygon = cross.entranceArray\n              .map((info: any) => {\n                return info.polygonData.RoadPolygon;\n              })\n              .flat();\n            roadPolygon.forEach((element: any, index: number) => {\n              if (index === 0) {\n                context.moveTo(element[0], -element[1]);\n              } else {\n                context.lineTo(element[0], -element[1]);\n              }\n            });\n            context.closePath();\n            context.fillStrokeShape(shape);\n          },\n        });\n        baseLayer.add(roadPolygonShape);\n\n        // 过滤匝道\n        if (state.interType === 3) {\n          drawMethods.drawRoundabout();\n        }\n\n        cross.entranceArray.map((info: any, index: number) => {\n          // 1、白色划线部分：人行道、车道线、虚线\n          const whitePolygonShape = new Konva.Shape({\n            stroke: \"#ffffff\",\n            fill: \"#ffffff\",\n            strokeWidth: 1,\n            opacity: 1,\n            sceneFunc(context: any, shape: any) {\n              context.beginPath();\n              // 人行道\n              if (state.drawOption.showManRoadLine) {\n                info.lineData.manRoadLine.forEach((info: any) => {\n                  info.forEach((element: any, index: number) => {\n                    if (index === 0) {\n                      context.moveTo(element[0], -element[1]);\n                    } else {\n                      context.lineTo(element[0], -element[1]);\n                    }\n                  });\n                });\n              }\n              // 车道边线\n              if (state.drawOption.showRoadAsideLine) {\n                info.lineData.carRoadLine0.forEach((info: any, i: number) => {\n                  info.forEach((element: any, index: number) => {\n                    if (index === 0) {\n                      context.moveTo(element[0], -element[1]);\n                    } else {\n                      context.lineTo(element[0], -element[1]);\n                    }\n                  });\n                });\n              }\n              // 车道停车线\n              if (state.drawOption.showStopLine) {\n                info.lineData.carRoadLine1.forEach((info: any, i: number) => {\n                  info.forEach((element: any, index: any) => {\n                    if (index === 0) {\n                      context.moveTo(element[0], -element[1]);\n                    } else {\n                      context.lineTo(element[0], -element[1]);\n                    }\n                  });\n                });\n              }\n              // 虚线\n              if (\n                state.drawOption.showLaneDashedLine &&\n                state.interType !== 2\n              ) {\n                info.lineData.carRoadLine2.forEach((info: any) => {\n                  info.forEach((element: any, index: any) => {\n                    if (index === 0) {\n                      context.moveTo(element[0], -element[1]);\n                    } else {\n                      context.lineTo(element[0], -element[1]);\n                    }\n                  });\n                });\n              }\n              context.closePath();\n              context.fillStrokeShape(shape);\n            },\n          });\n          baseLayer.add(whitePolygonShape);\n\n          // 普通路口-父子路口\n          if (state.interType !== 2) {\n            // 显示道路虚线\n            if (state.drawOption.showLaneDashedLine) {\n              // 绘制公交专用车道/潮汐车道\n              const yellowPolygonShape = new Konva.Shape({\n                stroke: state.drawOption.yellowColor,\n                fill: state.drawOption.yellowColor,\n                strokeWidth: 1,\n                opacity: 1,\n                sceneFunc(context: any, shape: any) {\n                  context.beginPath();\n                  info.lineData.carRoadLine4.forEach((info: any) => {\n                    info.forEach((element: any, index: any) => {\n                      if (index === 0) {\n                        context.moveTo(element[0], -element[1]);\n                      } else {\n                        context.lineTo(element[0], -element[1]);\n                      }\n                    });\n                  });\n                  context.closePath();\n                  context.fillStrokeShape(shape);\n                },\n              });\n              baseLayer.add(yellowPolygonShape);\n\n              // 进口绘制辅道分割线\n              const option = {\n                stroke: state.drawOption.greenColor,\n                strokeWidth: 2,\n              };\n              drawMethods.drawLine(info.lineData.fdsplitLine, option);\n\n              // 待驶区\n              info.correctPoint.pointWaitArea.forEach((it: any) => {\n                const lineData: any = [];\n                it.forEach((itt: any) => {\n                  lineData.push(itt.x);\n                  lineData.push(-itt.y);\n                });\n                let greenLine = new Konva.Line({\n                  points: lineData,\n                  stroke: \"#ffffff\",\n                  strokeWidth: 1,\n                  lineJoin: \"round\",\n                  dash: [3, 5],\n                  lineCap: \"round\",\n                  // tension: 0.5\n                });\n                baseLayer.add(greenLine);\n              });\n            }\n\n            // 绘制人行道\n            if (state.drawOption.showManRoad) {\n              const manRoadPolygonShape = new Konva.Shape({\n                fill: \"black\",\n                sceneFunc(context: any, shape: any) {\n                  context.beginPath();\n                  const data = [\n                    info.polygonData.walkwayPolygonR,\n                    cross.entranceArray[\n                      index === 0 ? cross.entranceArray.length - 1 : index - 1\n                    ].polygonData.walkwayPolygonL,\n                  ].flat();\n                  data.forEach((element, index) => {\n                    if (index === 0) {\n                      context.moveTo(element[0], -element[1]);\n                    } else {\n                      context.lineTo(element[0], -element[1]);\n                    }\n                  });\n                  context.closePath();\n                  context.fillStrokeShape(shape);\n                },\n              });\n              baseLayer.add(manRoadPolygonShape);\n            }\n          } else {\n            // 匝道\n            if (state.drawOption.showLaneDashedLine) {\n              info.lineData.carRoadLine2.forEach((info: any) => {\n                var dash = new Konva.Line({\n                  points: [info[0][0], -info[0][1], info[1][0], -info[1][1]],\n                  stroke: \"#ffffff\",\n                  strokeWidth: 1,\n                  lineJoin: \"round\",\n                  dash: [8, 8],\n                });\n                baseLayer.add(dash);\n              });\n            }\n          }\n\n          // 车道分割线部分：单黄线/双黄线/绿化带\n          if (info.road_center_mode === \"greenArea\") {\n            drawMethods.drawPolygon(info.lineData.carRoadLine3[0], {\n              fill: state.drawOption.greenColor,\n              stroke: state.drawOption.greenColor,\n            });\n          } else {\n            drawMethods.drawLine(info.lineData.carRoadLine3, {\n              stroke: state.drawOption.yellowColor,\n            });\n          }\n\n          // 4、车道名称\n          if (state.drawOption.showRoadName) {\n            var roadText = new Konva.Text({\n              x: info.correctPoint.roadName.x,\n              y: -info.correctPoint.roadName.y,\n              text: info.name,\n              fontSize: 12,\n              fontFamily: \"Calibri\",\n              fill: state.drawOption.routeNameColor,\n              rotation: drawMethods.getTextRotationByDegree(info.degree),\n            });\n            drawMethods.offsetText(roadText, info.degree);\n            baseLayer.add(roadText);\n          }\n          // 绘制车道流向\n          if (state.drawOption.showLaneFlow) {\n            // 车道流向\n            const laneFlowPolygonShape = new Konva.Shape({\n              stroke: \"white\",\n              strokeWidth: 1.5,\n              sceneFunc(context: any, shape: any) {\n                const data = info.polygonData.laneFlowPolygon;\n                data.forEach((it: any, i: any) => {\n                  context.beginPath();\n                  it.forEach((itt: any, j: any) => {\n                    if (j === 0) {\n                      context.moveTo(itt[0], -itt[1]);\n                    } else {\n                      context.lineTo(itt[0], -itt[1]);\n                    }\n                  });\n                  context.closePath();\n                  context.fillStrokeShape(shape);\n                });\n              },\n            });\n            baseLayer.add(laneFlowPolygonShape);\n          }\n        });\n        // 要在后面绘制，防止覆盖\n        cross.entranceArray.map((info: any, index: any) => {\n          if (state.interType !== 2) {\n            // 绘制右转渠化\n            info.canalization && drawMethods.drawCanalization(info.en_id);\n            // 二次过街绘制 安全岛\n            info.twice_crossing_street &&\n              drawMethods.drawTwiceIsland(info.en_id);\n            // 添加非机动车标志\n            drawMethods.drawBikeLogo(info);\n          }\n        });\n        baseLayer.draw();\n      },\n\n      // 重置路口数据\n      resetInterData(interData: any) {\n        // 判断是否有右转渠化\n        const newData = JSON.parse(\n          JSON.stringify({\n            ...interData,\n            drawOption: state.drawOption,\n            baseWidth: baseLayerWidth,\n            clientWidth: clientWidth,\n            clientHeight: clientHeight,\n            expandManRadian: false,\n            centerLineMode: state.drawOption.centerLineMode,\n          })\n        );\n        if (state.interType === 3) {\n          newData.expandManRadian = true;\n        }\n        newData.entrances.forEach((it: any, i: any) => {\n          if (it.canalization && it.canalization !== 0) {\n            newData.expandManRadian = true;\n            // 有单独出口的要添加右出口的出口车道\n            if (it.canalization === 2 || it.canalization === 4) {\n              const entrance =\n                newData.entrances[i > 0 ? i - 1 : newData.entrances.length - 1];\n              entrance.exit_lanes.push({\n                id: entrance.exit_lanes.length + 1,\n                lane_flow: 2,\n              });\n            }\n          }\n        });\n        return newData;\n      },\n    };\n    //---------------------------------------------drawMixins---------------------------------------------\n    const drawMethods = {\n      initLayer() {\n        realLayer && realLayer.destroy();\n        let width, height;\n        let x = 0;\n        let y = 0;\n        width = height = baseLayerWidth;\n        if (clientWidth > clientHeight) {\n          x = (clientWidth - clientHeight) / 2;\n        } else {\n          y = -(clientWidth - clientHeight) / 2;\n        }\n        realLayer = new Konva.Layer({\n          x: state.drawOption.drawPhase\n            ? x + width / 2 + width / 12\n            : x + width / 2,\n          y: y + height / 2,\n        });\n        realLayer.height = height;\n        realLayer.width = height;\n        modelStage.add(realLayer);\n      },\n      // 根据方向id获取进口id\n      getEnidWithDirection(enter_port_direction: any) {\n        let en_id = null;\n        const item: any = cross.entrances.find((it: any) => {\n          return it.orientation === enter_port_direction;\n        });\n        if (item) {\n          en_id = item.en_id;\n        }\n        return en_id;\n      },\n      // 绘制进口流向\n      drawRoadFlow(movements: any, cb: any) {\n        const sortMovement = this.getSortMovement(movements);\n        sortMovement.forEach((it: any, i: any) => {\n          if (cross.entranceArray[i].in) {\n            // 主道流向\n            it.flowList.forEach((itt: any, j: any) => {\n              if (itt.if_control) {\n                const entrance = cross.entranceArray[it.en_id - 1];\n                const startPoint = this.getStartPoint(\n                  itt.movements_type,\n                  j,\n                  it,\n                  \"main\"\n                );\n                const flowData = getDrawFlowData(\n                  startPoint,\n                  CrossConst.roadWidth,\n                  itt.movements_type,\n                  entrance\n                );\n                const rotateFlowData = this.getRotateData(\n                  flowData,\n                  entrance.angle\n                );\n                this.drawRoadFlowWithData(rotateFlowData, itt, cb);\n              }\n            });\n            // 辅道流向\n            it.fdflowList.forEach((itt: any, j: any) => {\n              if (itt.if_control) {\n                const entrance = cross.entranceArray[it.en_id - 1];\n                const startPoint = this.getStartPoint(\n                  itt.movements_type,\n                  j,\n                  it,\n                  \"fd\"\n                );\n                const flowData = getDrawFlowData(\n                  startPoint,\n                  CrossConst.roadWidth,\n                  itt.movements_type,\n                  entrance,\n                  \"fd\"\n                );\n                const rotateFlowData = this.getRotateData(\n                  flowData,\n                  entrance.angle\n                );\n                this.drawRoadFlowWithData(rotateFlowData, itt, cb);\n              }\n            });\n          }\n        });\n      },\n\n      // 绘制进口流向\n      drawRoadFlowWithData(rotateFlowData: any, itt: any, cb: any) {\n        let roadFlowPolygonShape = new Konva.Shape({\n          stroke: itt.if_release\n            ? state.drawOption.HighLightFlowColor\n            : state.drawOption.defaultFlowColor,\n          fill: itt.if_release\n            ? state.drawOption.HighLightFlowColor\n            : state.drawOption.defaultFlowColor,\n          strokeWidth: 1,\n          info: itt,\n          sceneFunc(context: any, shape: any) {\n            context.beginPath();\n            rotateFlowData.forEach((itt: any, j: any) => {\n              if (j === 0) {\n                context.moveTo(itt.x, -itt.y);\n              } else {\n                context.lineTo(itt.x, -itt.y);\n              }\n            });\n            context.closePath();\n            context.fillStrokeShape(shape);\n          },\n        });\n        if (cb) {\n          roadFlowPolygonShape.on(\"click\", function (e: any) {\n            cb(e.target.attrs.info);\n          });\n        }\n        baseLayer.add(roadFlowPolygonShape);\n      },\n\n      // 获取旋转后点位\n      getRotateData(flowData: any, angle: any) {\n        let rotatePoins: any = [];\n        if (Array.isArray(flowData)) {\n          rotatePoins = [];\n          flowData.forEach((info, index) => {\n            if (Array.isArray(info)) {\n              rotatePoins[index] = [];\n              info.map((it) => {\n                rotatePoins[index].push(\n                  Util.pointRotateAngel(it, -angle, [0, 0])\n                );\n              });\n            } else {\n              rotatePoins.push(Util.pointRotateAngel(info, -angle, [0, 0]));\n            }\n          });\n        } else {\n          rotatePoins = Util.pointRotateAngel(flowData, -angle, [0, 0]);\n        }\n        return rotatePoins;\n      },\n\n      // 获取进口主道数量以及辅道数量\n      getEntranceLaneNum(enterInfo: any) {\n        let mainIn = enterInfo.in;\n        let fdIn = 0;\n        const index = enterInfo.motor_lanes.findIndex(\n          (it: any) => it.lane_type === 4\n        );\n        if (index > -1) {\n          fdIn = mainIn - index - 1;\n          mainIn = index + 1;\n        }\n        return { mainIn, fdIn };\n      },\n\n      /**\n       * @name wsx\n       * @Date 2021-08-24 17:15:03\n       * @introduction 获取绘制路口流向起始点位 左下角点位\n       * @description 详细描述\n       * @param {参数类型} 参数 en_id 进口id  movementsType 流向类型 j第几个流向  laneFlowTotal车道流向数量 ,type:主道'main'辅道'fd'\n       * @return {返回类型说明}\n       * @exception [违例类型] [违例类型说明]\n       */\n      getStartPoint(movementsType: any, j: any, it: any, type: any) {\n        const { en_id, laneFlowTotal, fdlaneFlowTotal } = it;\n        let enterInfo = cross.entranceArray[en_id - 1];\n        const { mainIn } = this.getEntranceLaneNum(enterInfo);\n        // 绘制的顶点\n        const { x: x1, y: y1 } = enterInfo.point.H0[enterInfo.in];\n        const { y: y2 } = enterInfo.point.H0[enterInfo.in - 1];\n        const roadWidth = CrossConst.roadWidth;\n        let laneOffset = y2 - y1;\n        let offsetX = 0;\n        let offsetY = -2 * roadWidth;\n        let startPoint = [0, 0];\n        if (\n          movementsType === 4 ||\n          movementsType === 10 ||\n          movementsType === 11\n        ) {\n          // 人行流向\n          offsetX = 0;\n          offsetY +=\n            CrossConst.manCarInterval +\n            CrossConst.manRoadLength / 2 +\n            2 * roadWidth;\n        } else if (\n          movementsType === 12 ||\n          movementsType === 13 ||\n          movementsType === 14\n        ) {\n          if (fdlaneFlowTotal) {\n            // 存在辅道流向\n            if (enterInfo.in <= laneFlowTotal + fdlaneFlowTotal) {\n              offsetX =\n                (laneFlowTotal + fdlaneFlowTotal) * roadWidth +\n                (roadWidth * (j - laneFlowTotal) * 3) / 4;\n              offsetY +=\n                laneOffset * (laneFlowTotal + fdlaneFlowTotal) +\n                (laneOffset * (j - laneFlowTotal) * 3) / 4;\n            } else {\n              offsetX =\n                enterInfo.in * roadWidth +\n                (roadWidth * (j - laneFlowTotal) * 3) / 4;\n              offsetY +=\n                laneOffset * enterInfo.in +\n                (laneOffset * (j - laneFlowTotal) * 3) / 4;\n            }\n          } else {\n            // 不存在辅道流向\n            if (enterInfo.in <= laneFlowTotal) {\n              offsetX =\n                laneFlowTotal * roadWidth +\n                (roadWidth * (j - laneFlowTotal) * 3) / 4;\n              offsetY +=\n                laneOffset * laneFlowTotal +\n                (laneOffset * (j - laneFlowTotal) * 3) / 4;\n            } else {\n              offsetX =\n                enterInfo.in * roadWidth +\n                (roadWidth * (j - laneFlowTotal) * 3) / 4;\n              offsetY +=\n                laneOffset * enterInfo.in +\n                (laneOffset * (j - laneFlowTotal) * 3) / 4;\n            }\n          }\n        } else {\n          if (fdlaneFlowTotal) {\n            // 存在辅道流向\n            if (enterInfo.in <= laneFlowTotal + fdlaneFlowTotal) {\n              if (type === \"main\") {\n                offsetX += CrossConst.roadWidth * j;\n                offsetY += laneOffset * j;\n              } else if (type === \"fd\") {\n                offsetX += CrossConst.roadWidth * (j + laneFlowTotal);\n                offsetY += laneOffset * (j + laneFlowTotal);\n              }\n            } else {\n              // 只有一个流向的话，根据流向确定位置\n              if (type === \"main\") {\n                if (laneFlowTotal === 1) {\n                  // 流向直\n                  if (movementsType === 2 || movementsType === 7) {\n                    offsetX += (CrossConst.roadWidth * (mainIn - 1)) / 2;\n                    offsetY +=\n                      laneOffset * ((CrossConst.roadWidth * (mainIn - 1)) / 2);\n                  }\n                  // 流向带右边\n                  if (movementsType === 3 || movementsType === 6) {\n                    offsetX += CrossConst.roadWidth * (mainIn - 1);\n                    offsetY += laneOffset * (mainIn - 1);\n                  }\n                }\n                if (laneFlowTotal > 1) {\n                  offsetX +=\n                    ((CrossConst.roadWidth * (enterInfo.in - 1)) /\n                      (laneFlowTotal - 1)) *\n                    j;\n                  offsetY +=\n                    ((laneOffset * (enterInfo.in - 1)) / (laneFlowTotal - 1)) *\n                    j;\n                }\n              } else if (type === \"fd\") {\n                offsetX +=\n                  ((CrossConst.roadWidth * (enterInfo.in - 1)) /\n                    (laneFlowTotal + fdlaneFlowTotal - 1)) *\n                  (j + laneFlowTotal);\n                offsetY +=\n                  ((laneOffset * (enterInfo.in - 1)) /\n                    (laneFlowTotal + fdlaneFlowTotal - 1)) *\n                  (j + laneFlowTotal);\n              }\n            }\n          } else {\n            // 不存在辅道流向\n            if (enterInfo.in <= laneFlowTotal) {\n              offsetX += CrossConst.roadWidth * j;\n              offsetY += laneOffset * j;\n            } else {\n              // 只有一个流向的话，根据流向确定位置\n              if (laneFlowTotal === 1) {\n                // 流向直\n                if (movementsType === 2 || movementsType === 7) {\n                  offsetX += (CrossConst.roadWidth * (enterInfo.in - 1)) / 2;\n                  offsetY +=\n                    laneOffset *\n                    ((CrossConst.roadWidth * (enterInfo.in - 1)) / 2);\n                }\n                // 流向带右边\n                if (movementsType === 3 || movementsType === 6) {\n                  offsetX += CrossConst.roadWidth * (enterInfo.in - 1);\n                  offsetY += laneOffset * (enterInfo.in - 1);\n                }\n              }\n              if (laneFlowTotal > 1) {\n                offsetX +=\n                  ((CrossConst.roadWidth * (enterInfo.in - 1)) /\n                    (laneFlowTotal - 1)) *\n                  j;\n                offsetY +=\n                  ((laneOffset * (enterInfo.in - 1)) / (laneFlowTotal - 1)) * j;\n              }\n            }\n          }\n        }\n        startPoint = [x1 + offsetX, y1 + offsetY];\n        return startPoint;\n      },\n\n      // 流向按照进口-左至右绘制顺序排序 enter_port_direction\n      getSortMovement(movements: any) {\n        let sortMovement: any = [];\n        cross.entranceArray.forEach((it: any, i: any) => {\n          const enterMove = movements.filter((itt: any) => {\n            const en_id = drawMethods.getEnidWithDirection(\n              itt.enter_port_direction\n            );\n            return en_id === it.en_id && itt.if_control;\n          });\n          // 流向带左\n          const leftArray = enterMove.filter((itt: any) => {\n            return (\n              (itt.movements_type === 1 ||\n                itt.movements_type === 5 ||\n                itt.movements_type === 8 ||\n                itt.movements_type === 9) &&\n              !itt.fd_flow\n            );\n          });\n          // 辅道流向左边\n          const leftFdArray = enterMove.filter((itt: any) => {\n            return (\n              (itt.movements_type === 1 ||\n                itt.movements_type === 5 ||\n                itt.movements_type === 8 ||\n                itt.movements_type === 9) &&\n              itt.fd_flow\n            );\n          });\n          // 流向直\n          const centerArray = enterMove.filter((itt: any) => {\n            return (\n              (itt.movements_type === 2 || itt.movements_type === 7) &&\n              !itt.fd_flow\n            );\n          });\n          // 辅道流向直\n          const centerFdArray = enterMove.filter((itt: any) => {\n            return (\n              (itt.movements_type === 2 || itt.movements_type === 7) &&\n              itt.fd_flow\n            );\n          });\n          // 流向带右\n          const rightArray = enterMove.filter((itt: any) => {\n            return (\n              (itt.movements_type === 3 || itt.movements_type === 6) &&\n              !itt.fd_flow\n            );\n          });\n          // 辅道流向带右\n          const rightFdArray = enterMove.filter((itt: any) => {\n            return (\n              (itt.movements_type === 3 || itt.movements_type === 6) &&\n              itt.fd_flow\n            );\n          });\n          // 流向人行\n          const manArray = enterMove.filter((itt: any) => {\n            return (\n              (itt.movements_type === 4 ||\n                itt.movements_type === 10 ||\n                itt.movements_type === 11) &&\n              !itt.fd_flow\n            );\n          });\n          // 非机动车左  直  左直\n          const nonArray = enterMove.filter((itt: any) => {\n            return (\n              (itt.movements_type === 12 ||\n                itt.movements_type === 13 ||\n                itt.movements_type === 14) &&\n              !itt.fd_flow\n            );\n          });\n          sortMovement.push({\n            en_id: it.en_id,\n            laneFlowTotal:\n              leftArray.length + centerArray.length + rightArray.length,\n            flowList: [\n              ...leftArray,\n              ...centerArray,\n              ...rightArray,\n              ...nonArray,\n              ...manArray,\n            ],\n            fdlaneFlowTotal:\n              leftFdArray.length + centerFdArray.length + rightFdArray.length,\n            fdflowList: [...leftFdArray, ...centerFdArray, ...rightFdArray],\n          });\n        });\n        return sortMovement;\n      },\n\n      // 绘制流向饱和度\n      drawFlowSaturation(flowSaturation: any) {\n        flowSaturation.forEach((it: any, i: any) => {\n          const enterInfo = cross.entranceArray[it.enter_port_direction - 1];\n          if (enterInfo.in) {\n            const flowData =\n              enterInfo.polygonData.roadFlowPolygon[it.movements_type - 1];\n            // 绘制饱和度流向\n            const roadFlowPolygonShape = new Konva.Shape({\n              stroke: state.drawOption.saturationFlowColor,\n              fill: state.drawOption.saturationFlowColor,\n              strokeWidth: 1,\n              info: it,\n              sceneFunc(context: any, shape: any) {\n                context.beginPath();\n                flowData.forEach((itt: any, j: any) => {\n                  if (j === 0) {\n                    context.moveTo(itt[0], -itt[1]);\n                  } else {\n                    context.lineTo(itt[0], -itt[1]);\n                  }\n                });\n                context.closePath();\n                context.fillStrokeShape(shape);\n              },\n            });\n            baseLayer.add(roadFlowPolygonShape);\n\n            const { x, y } =\n              enterInfo.correctPoint.pointRoadFlowText[it.movements_type - 1];\n            // 绘制饱和度\n            let saturationText = new Konva.Text({\n              x: x,\n              y: -y,\n              text: it.data,\n              fontSize: 12,\n              fontFamily: \"Calibri\",\n              fill: state.drawOption.saturationFlowColor,\n              rotation: this.getTextRotationByDegree(enterInfo.degree),\n            });\n            this.offsetText(saturationText, enterInfo.degree);\n            baseLayer.add(saturationText);\n          }\n        });\n      },\n      // 绘制车道或者进出口背景\n      fillEntranceOrLaneBack(fillData: any) {\n        fillData.forEach((it: any) => {\n          const enterInfo = cross.entranceArray[it.en_id - 1];\n          const inNum = enterInfo.in;\n          const outNum = enterInfo.out;\n          let index1 = 0;\n          let index2 = 0;\n          let polygonData = [];\n          // 1进口填充\n          if (it.fillType === 1) {\n            // 进口方向\n            if (it.fillDirection === 1) {\n              index1 = 0;\n              index2 = inNum;\n            } else if (it.fillDirection === 2) {\n              // 出口方向\n              index1 =\n                inNum + this.getOutLineOffset(enterInfo.road_center_mode);\n              index2 =\n                inNum +\n                outNum +\n                this.getOutLineOffset(enterInfo.road_center_mode);\n            }\n          } else if (it.fillType === 2) {\n            // 2车道填充\n            if (it.fillDirection === 1) {\n              index1 = inNum - it.laneNumber + 1;\n              index2 = inNum - it.laneNumber;\n            } else if (it.fillDirection === 2) {\n              // 出口方向\n              index1 =\n                inNum +\n                it.laneNumber +\n                this.getOutLineOffset(enterInfo.road_center_mode);\n              index2 =\n                inNum +\n                it.laneNumber +\n                this.getOutLineOffset(enterInfo.road_center_mode) -\n                1;\n            }\n          }\n          const H0 = enterInfo.point.H0;\n          const H2 = enterInfo.point.H2;\n          let point1 = Util.pointRotateAngel(H0[index1], -enterInfo.angle);\n          let point2 = Util.pointRotateAngel(H0[index2], -enterInfo.angle);\n          let point3 = Util.pointRotateAngel(H2[index2], -enterInfo.angle);\n          let point4 = Util.pointRotateAngel(H2[index1], -enterInfo.angle);\n          if (it.length) {\n            point3 = Util.pointRotateAngel(\n              {\n                x: H0[index2].x,\n                y: H0[index2].y - CrossConst.roadWidth * it.length,\n              },\n              -enterInfo.angle\n            );\n            point4 = Util.pointRotateAngel(\n              {\n                x: H0[index1].x,\n                y: H0[index1].y - CrossConst.roadWidth * it.length,\n              },\n              -enterInfo.angle\n            );\n          }\n          polygonData = [\n            [point1.x, point1.y],\n            [point2.x, point2.y],\n            [point3.x, point3.y],\n            [point4.x, point4.y],\n          ];\n          this.drawPolygon(polygonData, it.style);\n        });\n      },\n\n      getOutLineOffset(roadCenterMode: any) {\n        let offset = 0;\n        if (roadCenterMode && roadCenterMode !== \"singleYellowLine\") {\n          offset = 1;\n        }\n        return offset;\n      },\n\n      // 绘制进口高亮\n      drawEntranceHighLight(lightData: any) {\n        lightData.forEach((it: any) => {\n          const enterInfo = cross.entranceArray[it.en_id - 1];\n          const inNum = enterInfo.in;\n          let lineDatas = [];\n          const H0 = enterInfo.point.H0;\n          const H2 = enterInfo.point.H2;\n          let point1 = Util.pointRotateAngel(H0[0], -enterInfo.angle);\n          let point2 = Util.pointRotateAngel(H0[inNum], -enterInfo.angle);\n          let point3 = Util.pointRotateAngel(H2[inNum], -enterInfo.angle);\n          let point4 = Util.pointRotateAngel(H2[0], -enterInfo.angle);\n          if (it.length) {\n            point3 = Util.pointRotateAngel(\n              {\n                x: H0[inNum].x,\n                y: H0[inNum].y - CrossConst.roadWidth * it.length,\n              },\n              -enterInfo.angle\n            );\n            point4 = Util.pointRotateAngel(\n              { x: H0[0].x, y: H0[0].y - CrossConst.roadWidth * it.length },\n              -enterInfo.angle\n            );\n          }\n          lineDatas = [\n            [\n              [point1.x, point1.y],\n              [point2.x, point2.y],\n            ],\n            [\n              [point2.x, point2.y],\n              [point3.x, point3.y],\n            ],\n            [\n              [point1.x, point1.y],\n              [point4.x, point4.y],\n            ],\n          ];\n          this.drawLine(lineDatas, it.style);\n        });\n      },\n\n      // 绘制相邻关系\n      drawAdjacentInfo(adjacentList: any, cb: any) {\n        const me = this;\n        const adjacentMap: any = {};\n        adjacentList.forEach((it: any) => {\n          adjacentMap[it.entrance_id] = it;\n        });\n        cross.entranceArray.forEach((info: any) => {\n          const adjacentInfo = adjacentMap[info.en_id];\n          if (adjacentInfo) {\n            const point = this.getNearPoint(info);\n            let img = new Konva.Image({\n              image: nearImg,\n              width: CrossConst.roadWidth * 1.5,\n              height: CrossConst.roadWidth * 1.5,\n              x: point.x,\n              y: -point.y,\n              info: adjacentInfo,\n              rotation: this.getImgRotationByDegree(info.degree, 2),\n            });\n            this.offsetImg(img, info.degree, 2);\n            if (cb) {\n              img.on(\"click\", function (e: any) {\n                const info = e.target.attrs.info;\n                cb(info);\n              });\n              img.on(\"mouseover\", function (e: any) {\n                const { x, y } = e.target.attrs;\n                me.drawHoverText(x, y, adjacentInfo.hoverText);\n              });\n              img.on(\"mouseout\", function (e: any) {\n                hoverText.remove();\n                hoverBack.remove();\n              });\n            }\n            baseLayer.add(img);\n          }\n        });\n      },\n      // 获取绘制相邻路口箭头的点位\n      getNearPoint(curEntrance: any) {\n        const { degree } = curEntrance;\n        const width =\n          (state.drawOption.drawPhase\n            ? (clientWidth * 5) / 12\n            : clientWidth / 2) -\n          2 * CrossConst.roadWidth;\n        const height = clientHeight / 2 - 2 * CrossConst.roadWidth;\n        let x = 0;\n        let y = 0;\n        if (degree >= 0 && degree < 45) {\n          x = width;\n          y = -width * Math.tan(Util.toRadian(degree));\n        } else if (degree >= 45 && degree < 90) {\n          const calDegree = 90 - degree;\n          x = height * Math.tan(Util.toRadian(calDegree));\n          y = -height;\n        } else if (degree >= 90 && degree < 135) {\n          const calDegree = degree - 90;\n          x = -height * Math.tan(Util.toRadian(calDegree));\n          y = -height;\n        } else if (degree >= 135 && degree < 180) {\n          const calDegree = 180 - degree;\n          x = -width;\n          y = -width * Math.tan(Util.toRadian(calDegree));\n        } else if (degree >= 180 && degree < 225) {\n          const calDegree = degree - 180;\n          x = -width;\n          y = width * Math.tan(Util.toRadian(calDegree));\n        } else if (degree >= 225 && degree < 270) {\n          const calDegree = 270 - degree;\n          x = -height * Math.tan(Util.toRadian(calDegree));\n          y = height;\n        } else if (degree >= 270 && degree < 315) {\n          const calDegree = degree - 270;\n          x = height * Math.tan(Util.toRadian(calDegree));\n          y = height;\n        } else if (degree >= 315 && degree <= 360) {\n          const calDegree = 360 - degree;\n          x = width;\n          y = width * Math.tan(Util.toRadian(calDegree));\n        }\n        return { x, y };\n      },\n\n      // 绘制非机动车标志\n      drawBikeLogo(info: any) {\n        const imageList = [\n          info.correctPoint.roadPole,\n          info.correctPoint.roadPoleL,\n        ];\n        imageList.forEach((it, i) => {\n          const { x, y } = it;\n          let img = new Konva.Image({\n            image: bikeImg,\n            width: 0.5 * CrossConst.roadWidth,\n            height: 0.5 * CrossConst.roadWidth,\n            x: x,\n            y: -y,\n            rotation: this.getImgRotationByDegree(info.degree, 2),\n          });\n          this.offsetImg(img, info.degree, 2);\n          baseLayer.add(img);\n        });\n      },\n\n      // 绘制车道图标\n      drawLaneImg(laneImgs: any, cb: any) {\n        this.loadImg(laneImgs, (res: any) => {\n          laneImgs.forEach((it: any, i: any) => {\n            const enterInfo = cross.entranceArray[it.en_id - 1];\n            if (enterInfo) {\n              const { x, y } = this.getStopLinePointByLaneNum(it, enterInfo);\n              let img = new Konva.Image({\n                image: res[i],\n                width: 1 * CrossConst.roadWidth,\n                height: 1 * CrossConst.roadWidth,\n                x: x,\n                y: -y,\n                info: it,\n                rotation: this.getImgRotationByDegree(\n                  enterInfo.degree,\n                  it.rotateType\n                ),\n              });\n              this.offsetImg(img, enterInfo.degree, it.rotateType);\n              if (cb) {\n                img.on(\"click\", function (e: any) {\n                  const info = e.target.attrs.info;\n                  cb(info);\n                });\n              }\n              baseLayer.add(img);\n            }\n          });\n        });\n      },\n\n      // 提前加载图片\n      loadImg(imageList: any, cb: any) {\n        const loadImgs: any = [];\n        imageList.forEach((it: any) => {\n          const imgload = new window.Promise((resolve, reject) => {\n            const image = new Image();\n            image.onload = function () {\n              resolve(image);\n            };\n            image.src = it.imgUrl;\n          });\n          loadImgs.push(imgload);\n        });\n        window.Promise.all(loadImgs)\n          .then((res) => {\n            if (cb) {\n              cb(res);\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      },\n\n      /**\n       * @name wsx\n       * @Date 2021-08-04 11:05:28\n       * @introduction 获取根据车道id获取车道中心跟停车线偏移一定距离的旋转后的点位\n       * @description 详细描述\n       * @param {参数类型} laneNumber：车道号\n       * @param {参数类型} inNumber：进口车道数\n       * @param {参数类型} offetStopLine：偏移量 车道宽度的倍数\n       * @param {参数类型} H0：停车线跟车道的交点数组\n       * @param {参数类型} angle：车道角度\n       * @return {返回类型说明}\n       * @exception [违例类型] [违例类型说明]\n       */\n      getStopLinePointByLaneNum(it: any, enterInfo: any) {\n        let index = enterInfo.in - it.laneNumber + 1;\n        if (it.laneDirection === 2) {\n          index =\n            enterInfo.in +\n            it.laneNumber +\n            this.getOutLineOffset(enterInfo.road_center_mode);\n        }\n        const { x, y } = enterInfo.point.H0[index];\n        const orgPoint = {\n          x: x + CrossConst.roadWidth / 2,\n          y: y - (it.offetStopLine + 0.5) * CrossConst.roadWidth,\n        };\n        const armPoint = Util.pointRotateAngel(orgPoint, -enterInfo.angle);\n        return armPoint;\n      },\n\n      // 获取图片旋转角度\n      getImgRotationByDegree(degree: any, rotateType = 1) {\n        if (rotateType === 2) {\n          return degree - 90;\n        }\n        let rotation = degree;\n        if (degree > 0 && degree <= 90) {\n          rotation = degree - 90;\n        } else if (degree > 90 && degree <= 180) {\n          rotation = degree - 180;\n        } else if (degree > 180 && degree <= 270) {\n          rotation = degree - 270;\n        }\n        return rotation;\n      },\n      // 添加图片偏移量\n      offsetImg(element: any, degree: any, rotateType = 1) {\n        if (rotateType === 1) {\n          if (degree > 0 && degree <= 90) {\n            element.offsetX(element.width() / 2);\n          } else if (degree > 90 && degree <= 180) {\n            element.offsetX(element.width());\n            element.offsetY(element.height() / 2);\n          } else if (degree > 180 && degree <= 270) {\n            element.offsetX(element.width() / 2);\n            element.offsetY(element.height());\n          } else {\n            element.offsetY(element.height() / 2);\n          }\n        } else if (rotateType === 2) {\n          if (degree >= 0 && degree <= 90) {\n            element.offsetX(element.width() / 2);\n          } else if (degree > 90 && degree <= 180) {\n            element.offsetX(element.width() / 2);\n          } else if (degree > 180 && degree <= 270) {\n            element.offsetX(element.width() / 2);\n          } else {\n            element.offsetX(element.width() / 2);\n          }\n        }\n      },\n\n      // 获取文字旋转角度\n      getTextRotationByDegree(degree: any) {\n        let rotation = degree;\n        if (degree > 90 && degree < 270) {\n          rotation = degree + 180;\n        }\n        return rotation;\n      },\n      // 添加字偏移量\n      offsetText(element: any, degree: any) {\n        if (degree > 90 && degree < 270) {\n          element.offsetX(element.width());\n          element.offsetY(element.height() / 2);\n        } else {\n          element.offsetY(element.height() / 2);\n        }\n      },\n      // 绘制可变车道-获取数据\n      drawVariableLane(variableLaneData: any, click = false, cb: any) {\n        variableLaneData.forEach((it: any, i: any) => {\n          const enterInfo = cross.entranceArray[it.entrance_id - 1];\n          if (enterInfo) {\n            const flowData = getLaneFlowPoint(\n              it.lane_id,\n              it.status,\n              CrossConst,\n              enterInfo,\n              null\n            );\n            const rotateFlowData = this.getRotateData(\n              flowData,\n              enterInfo.angle\n            );\n            this.drawVariableFlow(rotateFlowData);\n            if (click) {\n              const clickPoint = getLaneFlowPoint(\n                it.lane_id,\n                \"variableClick\",\n                CrossConst,\n                enterInfo,\n                null\n              );\n              const rotateFlowData = this.getRotateData(\n                clickPoint,\n                enterInfo.angle\n              );\n              this.drawVariableClickPoint(rotateFlowData[0], it, cb);\n            }\n          }\n        });\n      },\n      // 绘制可变车道 - 绘制\n      drawVariableFlow(rotateFlowData: any) {\n        // 车道流向\n        const laneFlowPolygonShape = new Konva.Shape({\n          stroke: state.drawOption.yellowColor,\n          strokeWidth: 2,\n          sceneFunc(context: any, shape: any) {\n            context.beginPath();\n            rotateFlowData.forEach((it: any, i: any) => {\n              if (i === 0) {\n                context.moveTo(it.x, -it.y);\n              } else {\n                context.lineTo(it.x, -it.y);\n              }\n            });\n            context.closePath();\n            context.fillStrokeShape(shape);\n          },\n        });\n        baseLayer.add(laneFlowPolygonShape);\n      },\n      // 绘制可变车道可以点击的点\n      drawVariableClickPoint(point: any, info: any, cb: any) {\n        let clickPoint = new Konva.Circle({\n          x: point.x,\n          y: -point.y,\n          radius: CrossConst.roadWidth / 4,\n          info: info,\n          fill: state.drawOption.yellowColor,\n        });\n        baseLayer.add(clickPoint);\n        if (cb) {\n          clickPoint.on(\"click\", function (e: any) {\n            const info = e.target.attrs.info;\n            cb(info);\n          });\n        }\n      },\n      // 绘制二次过街安全岛\n      drawTwiceIsland(en_id: any) {\n        let index = en_id - 1;\n        const curEntrance = cross.entranceArray[index];\n        // 获取绘制安全岛点位\n        const { y } = curEntrance.point.H0[curEntrance.in];\n        const greenWidth = CrossConst.greenWidth; // 绿化带宽度\n        // const doubleYellowLineInterval = CrossConst.doubleYellowLineInterval // 双黄线宽度\n        const manRoadLength = CrossConst.manRoadLength; // 双黄线宽度\n        const manCarInterval = CrossConst.manCarInterval; // 双黄线宽度\n        const points: any = [];\n        const width = greenWidth;\n        // 单黄线\n        if (curEntrance.road_center_mode === \"singleYellowLine\") {\n          // const { x: x, y: y } = Util.pointRotateAngel(topPoint, -curEntrance.angle)\n        }\n        this.drawPolygon(points, { fill: \"#2e8348\", opacity: 0.8 });\n        const { x: x1, y: y1 } = Util.pointRotateAngel(\n          { x: -width, y: y + manCarInterval },\n          -curEntrance.angle\n        );\n        const { x: x2, y: y2 } = Util.pointRotateAngel(\n          { x: width, y: y + manCarInterval },\n          -curEntrance.angle\n        );\n        const { x: x3, y: y3 } = Util.pointRotateAngel(\n          { x: width, y: y + manCarInterval + manRoadLength },\n          -curEntrance.angle\n        );\n        const { x: x4, y: y4 } = Util.pointRotateAngel(\n          { x: -width, y: y + manCarInterval + manRoadLength },\n          -curEntrance.angle\n        );\n        points.push([x1, y1]);\n        points.push([x2, y2]);\n        points.push([x3, y3]);\n        points.push([x4, y4]);\n        drawMethods.drawPolygon(points, { fill: \"#2e8348\", opacity: 0.8 });\n      },\n      // 绘制右转渠化 en_id 进口车道id 根据渠化类型，展示不通渠化\n      drawCanalization(en_id: any) {\n        let index = en_id - 1;\n        const len = cross.entranceArray.length;\n        const curEntrance = cross.entranceArray[index];\n        const rightEntrance =\n          cross.entranceArray[index > 0 ? index - 1 : len - 1];\n        let topPoint = curEntrance.point.AR;\n        if (curEntrance.canalization === 1 || curEntrance.canalization === 2) {\n          let bottomPoint = {\n            x: curEntrance.point.BRO.x,\n            y:\n              curEntrance.point.BRO.y +\n              CrossConst.manCarInterval +\n              CrossConst.manRoadLength +\n              CrossConst.roadWidth,\n          };\n          let rightPoint = {\n            x: rightEntrance.point.BLO.x,\n            y:\n              rightEntrance.point.BLO.y +\n              CrossConst.manCarInterval +\n              CrossConst.manRoadLength +\n              CrossConst.roadWidth,\n          };\n          if (curEntrance.canalization === 2) {\n            topPoint.y = topPoint.y + CrossConst.roadWidth;\n            rightPoint.x = rightPoint.x + CrossConst.roadWidth;\n            rightPoint.y = rightPoint.y - CrossConst.roadWidth;\n          }\n          const { x: x, y: y } = Util.pointRotateAngel(\n            topPoint,\n            -curEntrance.angle\n          );\n          const { x: x1, y: y1 } = Util.pointRotateAngel(\n            bottomPoint,\n            -curEntrance.angle\n          );\n          const { x: x3, y: y3 } = Util.pointRotateAngel(\n            rightPoint,\n            -rightEntrance.angle\n          );\n          let canalizationPoints = [[x, y]];\n          const circlePoint = Util.getArcPoint([x1, y1], [x3, y3]);\n          canalizationPoints = canalizationPoints.concat(circlePoint);\n          canalizationPoints.push([x, y]);\n\n          const quhuaArea = [];\n          quhuaArea.push(canalizationPoints);\n          const lineNum = 4;\n          const stepX3 = Math.floor(x3 - x) / lineNum;\n          const stepY3 = Math.floor(y3 - y) / lineNum;\n          const stepX1 = Math.floor(x1 - x) / lineNum;\n          const stepY1 = Math.floor(y1 - y) / lineNum;\n          for (let i = 1; i <= lineNum / 2; i++) {\n            const rowLine = [\n              [x + i * stepX3, y + i * stepY3],\n              [x + i * stepX1, y + i * stepY1],\n            ];\n            quhuaArea.push(rowLine);\n          }\n          this.drawLine(quhuaArea);\n        } else if (\n          curEntrance.canalization === 3 ||\n          curEntrance.canalization === 4\n        ) {\n          let offsetDistanceY = [\n            CrossConst.manCarInterval +\n              CrossConst.manRoadLength +\n              1.5 * CrossConst.roadWidth,\n            CrossConst.manCarInterval,\n            -1 * CrossConst.roadWidth,\n            -3 * CrossConst.roadWidth,\n            -3 * CrossConst.roadWidth,\n          ];\n          let offsetDistanceX = [0, 0, 0, 0, CrossConst.walkwayWidth];\n          const { x: cx, y: cy } = curEntrance.point.BR;\n          const colPoints = offsetDistanceY.map((it, i) => {\n            const itX = offsetDistanceX[i];\n            const { x: x, y: y } = Util.pointRotateAngel(\n              { x: cx - 1 + itX, y: cy + it },\n              -curEntrance.angle\n            );\n            return [x, y];\n          });\n\n          let { x: rx, y: ry } = rightEntrance.point.BL;\n          // 固体岛有专门出口\n          if (curEntrance.canalization === 4) {\n            rx += CrossConst.roadWidth;\n            offsetDistanceY = [\n              CrossConst.manCarInterval +\n                CrossConst.manRoadLength +\n                0.5 * CrossConst.roadWidth,\n              CrossConst.manCarInterval,\n              -1 * CrossConst.roadWidth,\n              -1 * CrossConst.roadWidth,\n              -1 * CrossConst.roadWidth,\n            ];\n            offsetDistanceX = [\n              0,\n              0,\n              0,\n              CrossConst.roadWidth,\n              CrossConst.roadWidth + CrossConst.walkwayWidth,\n            ];\n          }\n          const rowPoints = offsetDistanceY.map((it, i) => {\n            const itX = offsetDistanceX[i];\n            const { x: x, y: y } = Util.pointRotateAngel(\n              { x: rx + 1 - itX, y: ry + it },\n              -rightEntrance.angle\n            );\n            return [x, y];\n          });\n          this.getGtdPolygonData(rowPoints, colPoints);\n          this.getGtdLineData(rowPoints, colPoints);\n        }\n      },\n      // 获取绘制固体岛的数据\n      getGtdLineData(rowPoints: any, colPoints: any) {\n        const quhuaArea = [];\n        let rangeArea: any = [];\n        const circlePoint0 = Util.getArcPoint(colPoints[0], rowPoints[0]);\n        const circlePoint1 = Util.getArcPoint(colPoints[2], rowPoints[2]);\n        rangeArea = rangeArea.concat(circlePoint1);\n        for (let i = circlePoint0.length - 1; i > 0; i--) {\n          rangeArea.push(circlePoint0[i]);\n        }\n        rangeArea = rangeArea.concat(circlePoint1);\n        quhuaArea.push(rangeArea);\n        const circlePoint2 = Util.getArcPoint(colPoints[3], rowPoints[3]);\n        quhuaArea.push(circlePoint2);\n        // 绘制渠化白色线条\n        this.drawLine(quhuaArea);\n      },\n      // 获取绘制固体岛区域的数据\n      getGtdPolygonData(rowPoints: any, colPoints: any) {\n        const circlePoint0 = Util.getArcPoint(colPoints[0], rowPoints[0]);\n        const circlePoint1 = Util.getArcPoint(colPoints[2], rowPoints[2]);\n        const circlePoint2 = Util.getArcPoint(colPoints[3], rowPoints[3]);\n        const circlePoint3 = Util.getArcPoint(colPoints[4], rowPoints[4]);\n        // 固体岛绿色区域\n        let gtdGreenPolygon = [];\n        for (let i = circlePoint0.length - 1; i > 0; i--) {\n          gtdGreenPolygon.push(circlePoint0[i]);\n        }\n        gtdGreenPolygon = gtdGreenPolygon.concat(circlePoint1);\n        this.drawPolygon(gtdGreenPolygon, { fill: \"green\" });\n\n        // 固体岛红色区域\n        // const gtdRedPolygon = []\n        // 固体岛道路区域\n        let gtdRoadPolygon = [];\n        for (let i = circlePoint1.length - 1; i > 0; i--) {\n          gtdRoadPolygon.push(circlePoint1[i]);\n        }\n        gtdRoadPolygon = gtdRoadPolygon.concat(circlePoint2);\n        this.drawPolygon(gtdRoadPolygon, { fill: \"#23324b\" });\n        // 固体岛非机动车区域\n        let gtdNonMotorPolygon = [];\n        for (let i = circlePoint3.length - 1; i > 0; i--) {\n          gtdNonMotorPolygon.push(circlePoint3[i]);\n        }\n        gtdNonMotorPolygon = gtdNonMotorPolygon.concat(circlePoint2);\n        this.drawPolygon(gtdNonMotorPolygon, { fill: \"#000000\" });\n      },\n      // 绘制线条 color = '#fff'\n      drawLine(lineDatas: any, option = {}) {\n        const param = {\n          stroke: \"green\",\n          strokeWidth: 1,\n          ...option,\n        };\n        lineDatas.forEach((it: any) => {\n          const points: any = [];\n          it.forEach((itt: any) => {\n            points.push(itt[0]);\n            points.push(-itt[1]);\n          });\n          const line = new Konva.Line({\n            points: points,\n            ...param,\n          });\n          baseLayer.add(line);\n        });\n      },\n      // 绘制区域\n      drawPolygon(polygonData: any, option: any) {\n        if (!polygonData) {\n          return;\n        }\n        const param = {\n          fill: \"#fff\",\n          strokeWidth: 1,\n          // stroke: '#fff',\n          ...option,\n        };\n        const polygonShape = new Konva.Shape({\n          // stroke: borderColor ? borderColor : '',\n          strokeWidth: 1,\n          // opacity: 1,\n          ...param,\n          // a Konva.Canvas renderer is passed into the sceneFunc function\n          sceneFunc(context: any, shape: any) {\n            context.beginPath();\n            polygonData.forEach((element: any, index: any) => {\n              if (index === 0) {\n                context.moveTo(element[0], -element[1]);\n              } else {\n                context.lineTo(element[0], -element[1]);\n              }\n            });\n            context.closePath();\n            context.fillStrokeShape(shape);\n          },\n        });\n        baseLayer.add(polygonShape);\n      },\n\n      // 绘制hovertext\n      drawHoverText(x: any, y: any, text: any) {\n        hoverText = new Konva.Text({\n          x: x,\n          y: y,\n          text: text,\n          fontSize: 12,\n          fontFamily: \"Calibri\",\n          fill: \"#fff\",\n        });\n        let width = hoverText.width();\n        hoverBack = new Konva.Rect({\n          x: x,\n          y: y,\n          width: width + 10,\n          height: 20,\n          fill: \"#3b4859\",\n          shadowBlur: 10,\n          cornerRadius: 10,\n        });\n        if (x > 0) {\n          hoverText.offsetX(width);\n          hoverBack.offsetX(width + 5);\n        } else {\n          hoverBack.offsetX(5);\n        }\n        hoverBack.offsetY(4);\n        baseLayer.add(hoverBack);\n        baseLayer.add(hoverText);\n      },\n\n      // 绘制环岛\n      drawRoundabout() {\n        const { roadWidth, manRoadLength, manCarInterval } = CrossConst;\n        // 环岛半径\n        let circlrRadia = 5 * roadWidth;\n        // 进口环岛障碍物\n        cross.entranceArray.forEach((it: any) => {\n          let polygonData = [];\n          const { H0 } = it.point;\n          let { x, y } = H0[it.in];\n          y = y + manRoadLength + manCarInterval + 4;\n          const offsetY = Math.max((-y - 2 * roadWidth) / 3, 0);\n          circlrRadia = Math.min(circlrRadia, offsetY * 2);\n          const { x: x1, y: y1 } = Util.pointRotateAngel(\n            { x: x - roadWidth / 2, y: y + offsetY },\n            -it.angle\n          );\n          const { x: x2, y: y2 } = Util.pointRotateAngel({ x, y }, -it.angle);\n          const { x: x3, y: y3 } = Util.pointRotateAngel(\n            { x: x + roadWidth / 2, y: y + offsetY },\n            -it.angle\n          );\n          const circlePoint = Util.getArcPoint([x3, y3], [x1, y1]);\n          polygonData.push([x2, y2]);\n          polygonData = polygonData.concat(circlePoint);\n          this.drawPolygon(polygonData, { fill: \"#2e8348\", opacity: 0.8 });\n        });\n        // 环岛中心岛\n        let circle = new Konva.Circle({\n          x: 0,\n          y: 0,\n          radius: Math.max(circlrRadia, roadWidth),\n          fill: \"#2e8348\",\n        });\n        baseLayer.add(circle);\n\n        let dashCircle = new Konva.Circle({\n          x: 0,\n          y: 0,\n          radius: Math.max(circlrRadia, roadWidth) + roadWidth,\n          stroke: \"#fff\",\n          opacity: 0.5,\n          strokeWidth: 1,\n          dash: [6, 6],\n        });\n        baseLayer.add(dashCircle);\n      },\n    };\n    //---------------------------------------------drawRealMixins---------------------------------------------//\n    const drawRealMethods = {\n      // 绘制实时信息\n      drawRealInfo(realInfo: any, movements: any) {\n        drawMethods.initLayer();\n        // 设置实时信息基础信息\n        this.setRealBaseInfo(realInfo);\n        // 绘制左边相位\n        this.drawPhases(realInfo, movements);\n        // 绘制倒计时\n        this.drawPhaseRemainTime(realInfo.current_phase_remaining_time);\n        // 绘制行人灯\n        cross.is_have_son !== 2 && this.drawWalkMan(realInfo, movements);\n        // 绘制路口模型中间流向\n        this.drawInterPhase(realInfo, movements);\n        // 绘制红绿灯\n        this.drawGreenRedLight(realInfo, movements);\n      },\n      setRealBaseInfo(realInfo: any) {\n        const { ctrl_way } = realInfo;\n        ctrlWay = ctrl_way;\n      },\n      // 绘制左边相位\n      drawPhases(realInfo: any, movements: any) {\n        // 创建相位图层\n        phaseStage && phaseStage.destroy();\n        phaseLayer && phaseLayer.destroy();\n\n        phaseWidth = baseLayerWidth / 6;\n        phaseStage = new Konva.Stage({\n          container: scTfPhaseBox.value,\n          width: phaseWidth,\n          height: Math.max(clientHeight, phaseWidth * realInfo.phase_num),\n        });\n        phaseLayer = new Konva.Layer({\n          x: 0,\n          y: 0,\n        });\n        phaseLayer.width = phaseWidth;\n        phaseLayer.height = Math.max(\n          clientHeight,\n          phaseWidth * realInfo.phase_num\n        );\n        phaseStage.add(phaseLayer);\n        let phaseBack = new Konva.Rect({\n          x: 0,\n          y: 0,\n          width: phaseWidth,\n          height: Math.max(clientHeight, phaseWidth * realInfo.phase_num),\n          fill: state.drawOption.phaseBackColor,\n        });\n        phaseLayer.add(phaseBack);\n        // 如果关灯，就不要绘制具体相位了\n        if (realInfo.ctrl_way === 7) {\n          return;\n        }\n        realInfo.phase_movements_info.forEach((it: any, i: any) => {\n          if (it) {\n            const phaseNum = i + 1;\n            // 主道流向\n            const phaseList = this.getEntrancePhaseList(it, movements, \"main\");\n            // 辅道流向\n            const fdPhaseList = this.getEntrancePhaseList(it, movements, \"fd\");\n            this.darwPhaseWithPhaseList(realInfo, phaseList, phaseNum, \"main\");\n            this.darwPhaseWithPhaseList(realInfo, fdPhaseList, phaseNum, \"fd\");\n          }\n        });\n        this.slideToCurPhase(realInfo.current_phase_num);\n      },\n\n      // 绘制具体相位\n      darwPhaseWithPhaseList(\n        realInfo: any,\n        phaseList: any,\n        phaseNum: any,\n        road_type: any\n      ) {\n        const phasePolygonShap: any = [];\n        phaseList.forEach((it: any, i: any) => {\n          const enterFlowPoint: any = [];\n          if (cross.is_have_son !== 2 || i === 2) {\n            it.forEach((itt: any, j: any) => {\n              const phasePoints = getRealPhasePoint(\n                phaseNum,\n                itt,\n                phaseWidth,\n                road_type\n              );\n              enterFlowPoint.push(phasePoints);\n            });\n          }\n          const rotatePoints = this.rotatePoint(phaseNum, i, enterFlowPoint);\n          phasePolygonShap.push(rotatePoints);\n        });\n        this.drawPhaseBox(\n          phaseWidth,\n          phaseNum,\n          phasePolygonShap,\n          realInfo.current_phase_num\n        );\n      },\n\n      // 滚动到当前相位\n      slideToCurPhase(currentPhaseNum: any) {\n        scTfPhaseBox.value.scrollTop = phaseWidth * (currentPhaseNum - 1);\n      },\n      // 绘制每一个相位\n      drawPhaseBox(\n        phaseWidth: any,\n        phaseNum: any,\n        realPhasePolygonShap: any,\n        currentPhase: any\n      ) {\n        // 绘制相位框\n        let phase = new Konva.Rect({\n          x: 2,\n          y: (phaseNum - 1) * phaseWidth + 2,\n          width: phaseWidth - 4,\n          height: phaseWidth - 4,\n          // fill: '#000',\n          stroke: currentPhase === phaseNum ? \"#ff0000\" : \"#446a86\",\n          strokeWidth: 2,\n        });\n        phaseLayer.add(phase);\n\n        // 绘制相位编号 A B C\n        let phaseCode = new Konva.Text({\n          x: 2 + 2,\n          y: phaseNum * phaseWidth - 18,\n          text: phaseMap.get(phaseNum),\n          fontSize: 16,\n          fontFamily: \"Calibri\",\n          fill: state.drawOption.phaseNumColor,\n        });\n        phaseLayer.add(phaseCode);\n\n        // 绘制每个相位流向\n        realPhasePolygonShap.forEach((it: any) => {\n          it.forEach((itt: any) => {\n            let phaseFlowPolygonShape = new Konva.Shape({\n              stroke: state.drawOption.greenColor,\n              fill: state.drawOption.greenColor,\n              strokeWidth: 1,\n              sceneFunc(context: any, shape: any) {\n                context.beginPath();\n                itt.forEach((ittt: any, j: any) => {\n                  if (j === 0) {\n                    context.moveTo(ittt.x, -ittt.y);\n                  } else {\n                    context.lineTo(ittt.x, -ittt.y);\n                  }\n                });\n                context.closePath();\n                context.fillStrokeShape(shape);\n              },\n            });\n            phaseLayer.add(phaseFlowPolygonShape);\n          });\n        });\n      },\n      // 根据10进制的相位信息,以及流向配置/获取相位信息\n      getEntrancePhaseList(\n        DecMovements: any,\n        movementParas: any,\n        road_type: any\n      ) {\n        let moveList = DecMovements.toString(2).split(\"\");\n        moveList.reverse();\n        const movenents = this.getPhaseListWithBin(\n          moveList,\n          movementParas,\n          \"phase\",\n          road_type\n        );\n        return movenents;\n      },\n      /**\n       * @name wsx\n       * @Date 2022-03-03 16:25:52\n       * @introduction 根据二进制的相位信息,以及流向配置/获取相位信息\n       * @param {参数类型} 参数 参数说明\n       * @param {参数类型} type:'inter' 路口中央的流向1红/2黄/3绿  'phase'方案的流向1放行/2取消 flowType:main fd 主流向还是辅道流向\n       * @return {返回类型说明}\n       * @exception [违例类型] [违例类型说明]\n       */\n      getPhaseListWithBin(\n        moveList: any,\n        movementParas: any,\n        type = \"inter\",\n        road_type = \"main\"\n      ) {\n        const movenents: any = [];\n        let movementMap: any = {};\n        movementParas.forEach((it: any) => {\n          movementMap[it.num_movements] = it;\n        });\n        cross.entranceArray.forEach((it: any, i: any) => {\n          const list: any = [];\n          moveList.forEach((itt: any, j: any) => {\n            const flow = movementMap[j + 1];\n            let bool = false;\n            if (road_type === \"fd\") {\n              if (flow && flow.fd_flow) {\n                bool = true;\n              }\n            } else {\n              if (flow && !flow.fd_flow) {\n                bool = true;\n              }\n            }\n            if (\n              flow &&\n              flow.enter_port_direction === it.en_id &&\n              flow.if_control &&\n              bool\n            ) {\n              if (type === \"phase\") {\n                if (Number(itt)) {\n                  list.push(flow.movements_type);\n                }\n              } else if (type === \"run\") {\n                if (Number(itt) === 2 || Number(itt) === 3) {\n                  list.push(flow.movements_type);\n                }\n              } else {\n                if (Number(itt) !== 1 && Number(itt) !== 0) {\n                  list.push(flow.movements_type);\n                  // }\n                } else {\n                  if (Number(itt) !== 1 && Number(itt) !== 0) {\n                    list.push(flow.movements_type);\n                  }\n                }\n              }\n            }\n          });\n          const phaseMovemenes = this.getPhaseMovementType(list);\n          movenents.push(phaseMovemenes);\n        });\n        return movenents;\n        // return [[1, 2], [1, 2, 3, 4], [1, 2], [1, 2, 3, 4]]\n      },\n\n      /**\n       * @name wsx\n       * @Date 2022-03-03 17:23:22\n       * @introduction 简述\n       * @description  获取绿灯相位信息列表\n       * @param {参数类型} type 0灰/1红/2黄/3绿  road_type 主道辅道\n       * @return {返回类型说明}\n       * @exception [违例类型] [违例类型说明]\n       */\n      getTypePhaseListWithBin(\n        moveList: any,\n        movementParas: any,\n        type = 1,\n        road_type = \"main\"\n      ) {\n        const movenents: any = [];\n        let movementMap: any = {};\n        movementParas.forEach((it: any) => {\n          movementMap[it.num_movements] = it;\n        });\n        const fdFlow = road_type !== \"main\";\n        cross.entranceArray.forEach((it: any, i: any) => {\n          const list: any = [];\n          moveList.forEach((itt: any, j: any) => {\n            const flow = movementMap[j + 1];\n            if (flow) {\n              flow.fd_flow = !!flow.fd_flow;\n              const en_id = drawMethods.getEnidWithDirection(\n                flow.enter_port_direction\n              );\n              if (\n                en_id === it.en_id &&\n                flow.if_control &&\n                flow.fd_flow === fdFlow\n              ) {\n                if (Number(itt) === type) {\n                  list.push(flow.movements_type);\n                }\n              }\n            }\n          });\n          const phaseMovemenes = this.getPhaseMovementType(list);\n          movenents.push(phaseMovemenes);\n        });\n        return movenents;\n        // return [[1, 2], [1, 2, 3, 4], [1, 2], [1, 2, 3, 4]]\n      },\n\n      // 路口流向转换成相位流向\n      getPhaseMovementType(phaseMovemenes: any) {\n        const movemenes: any = [];\n        // 相位上展示的基础流向\n        const baseFlowType = [1, 2, 3, 4, 8, 10, 11, 12, 13];\n        phaseMovemenes.forEach((it: any) => {\n          if (baseFlowType.includes(it)) {\n            movemenes.push(it);\n          } else if (it === 5) {\n            movemenes.push(1);\n            movemenes.push(2);\n          } else if (it === 6) {\n            movemenes.push(2);\n            movemenes.push(3);\n          } else if (it === 7) {\n            movemenes.push(1);\n            movemenes.push(2);\n            movemenes.push(3);\n          } else if (it === 9) {\n            movemenes.push(1);\n            movemenes.push(8);\n          } else if (it === 14) {\n            movemenes.push(12);\n            movemenes.push(13);\n          }\n        });\n        /* eslint-disable */\n        return Array.from(new Set(movemenes));\n      },\n      // 实时相位信息旋转 i 0 / 1 /2  进口序号\n      rotatePoint(phaseNum: any, i: any, phasePoints: any) {\n        const enterInfo = cross.entranceArray[i];\n        const phaseCenterPoint = [\n          phaseWidth / 2 + 2,\n          -phaseWidth * (phaseNum - 0.5) - 2,\n        ];\n        let rotatePoins: any = [];\n        if (Array.isArray(phasePoints)) {\n          rotatePoins = [];\n          phasePoints.forEach((info, index) => {\n            if (Array.isArray(info)) {\n              rotatePoins[index] = [];\n              info.map((it) => {\n                rotatePoins[index].push(\n                  Util.pointRotateByPoint(\n                    it,\n                    -enterInfo.angle,\n                    phaseCenterPoint\n                  )\n                );\n              });\n            } else {\n              rotatePoins.push(\n                Util.pointRotateByPoint(\n                  info,\n                  -enterInfo.angle,\n                  phaseCenterPoint\n                )\n              );\n            }\n          });\n        } else {\n          rotatePoins = Util.pointRotateByPoint(\n            phasePoints,\n            -enterInfo.angle,\n            phaseCenterPoint\n          );\n        }\n        return rotatePoins;\n      },\n      // 绘制路口模型上当前流向 current_phase_num\n      drawInterPhase(realInfo: any, movements: any) {\n        const phaseList = this.getPhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          \"inter\",\n          \"main\"\n        );\n        const fdPhaseList = this.getPhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          \"inter\",\n          \"fd\"\n        );\n        this.drawInterPhaseWithPhaseList(\n          realInfo,\n          movements,\n          phaseList,\n          \"main\"\n        );\n        this.drawInterPhaseWithPhaseList(\n          realInfo,\n          movements,\n          fdPhaseList,\n          \"fd\"\n        );\n      },\n      drawInterPhaseWithPhaseList(\n        realInfo: any,\n        movements: any,\n        phaseList: any,\n        road_type: any\n      ) {\n        phaseList.forEach((it: any, i: any) => {\n          it.forEach((itt: any, j: any) => {\n            const entrance = cross.entranceArray[i];\n            // 匝道并且不是第三个进口就不绘制\n            if (cross.is_have_son !== 2 || entrance.en_id === 3) {\n              if (cross.entranceArray[i].in) {\n                const flowData = getInterPhaseflowData(\n                  itt,\n                  entrance,\n                  road_type\n                );\n                const rotateFlowData = drawMethods.getRotateData(\n                  flowData,\n                  entrance.angle\n                );\n                const color = this.getInterPhaseFlowColor(\n                  realInfo.movements_state,\n                  movements,\n                  i,\n                  itt,\n                  road_type\n                );\n                this.drawInterPhaseFlow(rotateFlowData, color);\n              }\n            }\n          });\n        });\n      },\n\n      // 获取绘制路口中流向的颜色\n      getInterPhaseFlowColor(\n        movements_state: any,\n        movementParas: any,\n        index: any,\n        flowType: any,\n        road_type: any\n      ) {\n        let color = state.drawOption.yellowColor;\n        // 当前进口\n        const curEntrance = cross.entranceArray[index];\n        const fdFlow = road_type !== \"main\";\n        let greenFlowList: any = [];\n        movementParas.forEach((it: any) => {\n          if (it.if_control) {\n            const en_id = drawMethods.getEnidWithDirection(\n              it.enter_port_direction\n            );\n            if (en_id === curEntrance.en_id && it.fd_flow === fdFlow) {\n              if (movements_state[it.num_movements - 1] === 3) {\n                greenFlowList.push(it.movements_type);\n              }\n            }\n          }\n        });\n        const greenPhaseMovemenes = this.getPhaseMovementType(greenFlowList);\n        if (greenPhaseMovemenes.includes(flowType)) {\n          color = state.drawOption.greenColor;\n        }\n        return color;\n      },\n\n      // 绘制路口上的相位的单个流向\n      drawInterPhaseFlow(rotateFlowData: any, color: any) {\n        let interPhaseFlowPolygonShape = new Konva.Shape({\n          stroke: color,\n          fill: color,\n          strokeWidth: 1,\n          sceneFunc(context: any, shape: any) {\n            context.beginPath();\n            rotateFlowData.forEach((it: any, i: any) => {\n              if (i === 0) {\n                context.moveTo(it.x, -it.y);\n              } else {\n                context.lineTo(it.x, -it.y);\n              }\n            });\n            context.closePath();\n            context.fillStrokeShape(shape);\n          },\n        });\n        // this.baseLayer.add(interPhaseFlowPolygonShape)\n        realLayer.add(interPhaseFlowPolygonShape);\n      },\n      // 绘制相位倒计时\n      drawPhaseRemainTime(time: any) {\n        let remainTime = new Konva.Text({\n          x: 0,\n          y: 0,\n          text: time,\n          fontSize: 14,\n          fontFamily: \"Calibri\",\n          fill: \"#ffffff\",\n          cornerRadius: 10,\n        });\n        remainTime.offsetX(remainTime.width() / 2);\n        remainTime.offsetY(remainTime.height() / 2);\n        let circle = new Konva.Circle({\n          x: 0,\n          y: 0,\n          radius: (CrossConst.roadWidth * 2) / 3,\n          fill: \"#3a3b45\",\n        });\n        realLayer.add(circle);\n        realLayer.add(remainTime);\n      },\n      // 绘制人行灯\n      drawWalkMan(realInfo: any, movements: any) {\n        const phaseList = this.getPhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          \"run\",\n          \"main\"\n        );\n        const greyPhaseList = drawRealMethods.getTypePhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          0,\n          \"main\"\n        );\n        const redPhaseList = drawRealMethods.getTypePhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          1,\n          \"main\"\n        );\n        const yellowPhaseList = drawRealMethods.getTypePhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          2,\n          \"main\"\n        );\n        const greenPhaseList = drawRealMethods.getTypePhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          3,\n          \"main\"\n        );\n        phaseList.forEach((it: any, i: any) => {\n          const greyPhases = greyPhaseList[i];\n          const redPhases = redPhaseList[i];\n          const yellowPhases = yellowPhaseList[i];\n          const greenPhases = greenPhaseList[i];\n          let runColor = this.getRuncolor(\n            \"run\",\n            greyPhases,\n            redPhases,\n            yellowPhases,\n            greenPhases\n          );\n          let run1Color = this.getRuncolor(\n            \"run1\",\n            greyPhases,\n            redPhases,\n            yellowPhases,\n            greenPhases\n          );\n          let run2Color = this.getRuncolor(\n            \"run2\",\n            greyPhases,\n            redPhases,\n            yellowPhases,\n            greenPhases\n          );\n          const entrance = cross.entranceArray[i];\n          const manPoint = this.getEntranceManPoint(entrance);\n          // 人行数据 绿灯\n          if (it.includes(4)) {\n            drawRealMethods.drawFootLight(\n              manPoint[0],\n              \"green\",\n              entrance.angle,\n              runColor\n            );\n            drawRealMethods.drawFootLight(\n              manPoint[3],\n              \"green\",\n              entrance.angle,\n              runColor\n            );\n          } else {\n            if (it.includes(10) || it.includes(11)) {\n              if (it.includes(10)) {\n                // 人行1\n                drawRealMethods.drawFootLight(\n                  manPoint[0],\n                  \"green\",\n                  entrance.angle,\n                  run1Color\n                );\n                drawRealMethods.drawFootLight(\n                  manPoint[1],\n                  \"green\",\n                  entrance.angle,\n                  run1Color\n                );\n              } else {\n                drawRealMethods.drawFootLight(\n                  manPoint[0],\n                  \"red\",\n                  entrance.angle,\n                  run1Color\n                );\n                drawRealMethods.drawFootLight(\n                  manPoint[1],\n                  \"red\",\n                  entrance.angle,\n                  run1Color\n                );\n              }\n              if (it.includes(11)) {\n                // 人行2\n                drawRealMethods.drawFootLight(\n                  manPoint[2],\n                  \"green\",\n                  entrance.angle,\n                  run2Color\n                );\n                drawRealMethods.drawFootLight(\n                  manPoint[3],\n                  \"green\",\n                  entrance.angle,\n                  run2Color\n                );\n              } else {\n                // 人行2\n                drawRealMethods.drawFootLight(\n                  manPoint[2],\n                  \"red\",\n                  entrance.angle,\n                  run2Color\n                );\n                drawRealMethods.drawFootLight(\n                  manPoint[3],\n                  \"red\",\n                  entrance.angle,\n                  run2Color\n                );\n              }\n            } else {\n              //红灯\n              drawRealMethods.drawFootLight(\n                manPoint[0],\n                \"red\",\n                entrance.angle,\n                runColor\n              );\n              drawRealMethods.drawFootLight(\n                manPoint[3],\n                \"red\",\n                entrance.angle,\n                runColor\n              );\n            }\n          }\n        });\n      },\n      // 获取每个车道的人行等绘制位置\n      getEntranceManPoint(entrance: any) {\n        // 车道相对高度差\n        const laneOffsetHeight =\n          (entrance.point.H0[0].y - entrance.point.H0[1].y) / 2;\n        const offsetY =\n          CrossConst.manCarInterval +\n          CrossConst.manRoadLength / 2 +\n          laneOffsetHeight;\n        const offsetX = CrossConst.roadWidth / 2;\n        const manPoint: any = [];\n        const outOfsset = drawMethods.getOutLineOffset(\n          entrance.road_center_mode\n        );\n        const pointIndex = [\n          1,\n          entrance.in,\n          entrance.in + 1 + outOfsset,\n          entrance.in + entrance.out + outOfsset,\n        ];\n        pointIndex.forEach((it) => {\n          manPoint.push([\n            entrance.point.H0[it].x + offsetX,\n            entrance.point.H0[it].y + offsetY,\n          ]);\n        });\n        return manPoint;\n      },\n      // 绘制绿灯通行/红灯禁止通行\n      drawFootLight(point: any, type: any, angle: any, color: any) {\n        const centerPoint = Util.pointRotateAngel(\n          { x: point[0], y: point[1] },\n          -angle,\n          [0, 0]\n        );\n        let circle = new Konva.Circle({\n          x: centerPoint.x,\n          y: -centerPoint.y,\n          radius: (CrossConst.roadWidth * 2) / 5,\n          fill: \"#000\",\n        });\n        realLayer.add(circle);\n        const manData = getFootLightData(centerPoint, type);\n\n        let interPhaseFlowPolygonShape = new Konva.Shape({\n          stroke: color,\n          fill: color,\n          strokeWidth: 0.2,\n          sceneFunc(context: any, shape: any) {\n            context.beginPath();\n            manData.forEach((it: any, k: any) => {\n              if (k === 0) {\n                context.moveTo(it.x, -it.y);\n              } else {\n                context.lineTo(it.x, -it.y);\n              }\n            });\n            context.closePath();\n            context.fillStrokeShape(shape);\n          },\n        });\n        realLayer.add(interPhaseFlowPolygonShape);\n      },\n      // 绘制红绿灯\n      drawGreenRedLight(realInfo: any, movements: any) {\n        // 主道红绿灯\n        this.drawGreenRedLightWithType(realInfo, movements, \"main\");\n        // 绘制辅道红绿灯\n        this.drawGreenRedLightWithType(realInfo, movements, \"fd\");\n      },\n      // 绘制红绿灯\n      drawGreenRedLightWithType(\n        realInfo: any,\n        movements: any,\n        road_type = \"main\"\n      ) {\n        const phaseList = this.getPhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          \"inter\",\n          road_type\n        );\n        const greyPhaseList = this.getTypePhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          0,\n          road_type\n        );\n        const redPhaseList = this.getTypePhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          1,\n          road_type\n        );\n        const yellowPhaseList = this.getTypePhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          2,\n          road_type\n        );\n        const greenPhaseList = this.getTypePhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          3,\n          road_type\n        );\n        phaseList.forEach((it: any, i: any) => {\n          if (it.length || road_type === \"main\") {\n            const greyPhases = greyPhaseList[i];\n            const redPhases = redPhaseList[i];\n            const yellowPhases = yellowPhaseList[i];\n            const greenPhases = greenPhaseList[i];\n            // 获取绘制红绿灯位置的点\n            const { points, angle } = this.getEntranceLightPoint(i, road_type);\n            const xAngle = this.getxAngle(points, angle);\n            // 绘制红绿灯背景\n            this.drawLightHandler(\n              points[1],\n              \"back\",\n              angle,\n              null,\n              xAngle,\n              road_type\n            );\n            let leftColor = this.getLightcolor(\n              \"left\",\n              greyPhases,\n              redPhases,\n              yellowPhases,\n              greenPhases\n            );\n            let centerColor = this.getLightcolor(\n              \"center\",\n              greyPhases,\n              redPhases,\n              yellowPhases,\n              greenPhases\n            );\n            let rightColor = this.getLightcolor(\n              \"right\",\n              greyPhases,\n              redPhases,\n              yellowPhases,\n              greenPhases\n            );\n            // 绘制红绿灯左转\n            this.drawLightHandler(points[0], \"left\", angle, leftColor, xAngle);\n            // 绘制红绿灯直行\n            this.drawLightHandler(points[1], \"center\", angle, centerColor);\n            // 绘制红绿灯右转\n            this.drawLightHandler(\n              points[2],\n              \"right\",\n              angle,\n              rightColor,\n              xAngle\n            );\n            // 绘制非机动车左转\n            if (\n              redPhases.includes(12) ||\n              yellowPhases.includes(12) ||\n              greenPhases.includes(12)\n            ) {\n              let nonLeftColor = this.getLightcolor(\n                \"nonLeft\",\n                greyPhases,\n                redPhases,\n                yellowPhases,\n                greenPhases\n              );\n              if (nonLeftColor) {\n                this.drawLightHandler(\n                  points[3],\n                  \"nonBack\",\n                  angle,\n                  null,\n                  xAngle,\n                  road_type\n                );\n                this.drawLightHandler(\n                  points[3],\n                  \"nonLeft\",\n                  angle,\n                  nonLeftColor,\n                  xAngle\n                );\n              }\n            }\n            // 绘制非机动车直行\n            if (\n              redPhases.includes(13) ||\n              yellowPhases.includes(13) ||\n              greenPhases.includes(13)\n            ) {\n              let nonCenterColor = this.getLightcolor(\n                \"nonCenter\",\n                greyPhases,\n                redPhases,\n                yellowPhases,\n                greenPhases\n              );\n              if (nonCenterColor) {\n                this.drawLightHandler(\n                  points[4],\n                  \"nonBack\",\n                  angle,\n                  null,\n                  xAngle,\n                  road_type\n                );\n                this.drawLightHandler(\n                  points[4],\n                  \"nonCenter\",\n                  angle,\n                  nonCenterColor,\n                  xAngle\n                );\n              }\n            }\n          }\n        });\n      },\n\n      // 获取红绿灯颜色\n      getLightcolor(\n        type: any,\n        greyPhases: any,\n        redPhases: any,\n        yellowPhases: any,\n        greenPhases: any\n      ) {\n        const phaseMap = [\n          { phase: greyPhases, color: state.drawOption.greyColor },\n          { phase: redPhases, color: state.drawOption.redColor },\n          { phase: yellowPhases, color: state.drawOption.yellowColor },\n          { phase: greenPhases, color: state.drawOption.greenColor },\n        ];\n        let color = \"\";\n        if (type === \"left\") {\n          // const flowMap = [1, 5, 7, 8, 9]\n          phaseMap.forEach((it) => {\n            if (\n              it.phase.includes(1) ||\n              it.phase.includes(5) ||\n              it.phase.includes(7) ||\n              it.phase.includes(8) ||\n              it.phase.includes(9)\n            ) {\n              color = it.color;\n            }\n          });\n        } else if (type === \"center\") {\n          // const flowMap = [2, 5, 6, 7]\n          phaseMap.forEach((it) => {\n            if (\n              it.phase.includes(2) ||\n              it.phase.includes(5) ||\n              it.phase.includes(6) ||\n              it.phase.includes(7)\n            ) {\n              color = it.color;\n            }\n          });\n        } else if (type === \"right\") {\n          // const flowMap = [3, 6, 7]\n          phaseMap.forEach((it) => {\n            if (\n              it.phase.includes(3) ||\n              it.phase.includes(6) ||\n              it.phase.includes(7)\n            ) {\n              color = it.color;\n            }\n          });\n        } else if (type === \"nonLeft\") {\n          // const flowMap = [12]\n          phaseMap.forEach((it) => {\n            if (it.phase.includes(12)) {\n              color = it.color;\n            }\n          });\n        } else if (type === \"nonCenter\") {\n          // const flowMap = [13]\n          phaseMap.forEach((it) => {\n            if (it.phase.includes(13)) {\n              color = it.color;\n            }\n          });\n        }\n        return color;\n      },\n\n      // 获取人行颜色\n      getRuncolor(\n        type: any,\n        greyPhases: any,\n        redPhases: any,\n        yellowPhases: any,\n        greenPhases: any\n      ) {\n        // 关灯\n        if (ctrlWay === 7) {\n          return state.drawOption.greyColor;\n        } else if (ctrlWay === 9) {\n          return state.drawOption.redColor;\n        }\n        const phaseMap = [\n          { phase: greenPhases, color: state.drawOption.greenColor },\n          { phase: yellowPhases, color: state.drawOption.yellowColor },\n          { phase: redPhases, color: state.drawOption.redColor },\n          { phase: greyPhases, color: state.drawOption.greyColor },\n        ];\n        let color = state.drawOption.redColor;\n        if (type === \"run\") {\n          phaseMap.forEach((it) => {\n            if (it.phase.includes(4)) {\n              color = it.color;\n            }\n          });\n        } else if (type === \"run1\") {\n          phaseMap.forEach((it) => {\n            if (it.phase.includes(10)) {\n              color = it.color;\n            }\n          });\n        } else if (type === \"run2\") {\n          phaseMap.forEach((it) => {\n            if (it.phase.includes(11)) {\n              color = it.color;\n            }\n          });\n        }\n        return color;\n      },\n\n      // 获取绘制红绿灯的绘制位置\n      getEntranceLightPoint(i: any, road_type = \"main\") {\n        const enNum = cross.entranceArray.length;\n        let points = [];\n        let angle = [];\n\n        if (enNum === 2) {\n          // 一字路口\n          // 获取到对面的进口\n          const drawEntrance = cross.entranceArray[(i + 1) % 2];\n          const pointInfo = this.calculateEntranceLightPoint(\n            drawEntrance,\n            road_type\n          );\n          points = pointInfo.points;\n          angle = pointInfo.angle;\n        } else if (enNum === 3) {\n          // T型路口\n          const entrance = cross.entranceArray[i];\n          const leftIndex = (i + 4) % 3;\n          const rightIndex = i - 1 >= 0 ? i - 1 : 2;\n          if ((entrance.degreeLeft + 360 - entrance.degree) % 360 >= 180) {\n            const drawEntrance = cross.entranceArray[leftIndex];\n            const pointInfo = this.calculateEntranceLightPoint(\n              drawEntrance,\n              road_type\n            );\n            points = pointInfo.points;\n            angle = pointInfo.angle;\n          } else if (\n            (entrance.degree + 360 - entrance.degreeRight) % 360 >=\n            180\n          ) {\n            const drawEntrance = cross.entranceArray[rightIndex];\n            const pointInfo = this.calculateEntranceLightPoint(\n              drawEntrance,\n              road_type\n            );\n            points = pointInfo.points;\n            angle = pointInfo.angle;\n          } else {\n            // 画路口对面\n            const drawEntrance = cross.entranceArray[i];\n            const prevEntrance = cross.entranceArray[rightIndex];\n            const nextEntrance = cross.entranceArray[leftIndex];\n            const pointInfo = this.calculateEntranceFaceLightPoint(\n              drawEntrance,\n              prevEntrance,\n              nextEntrance,\n              road_type\n            );\n            points = pointInfo.points;\n            angle = pointInfo.angle + 180;\n          }\n        } else if (enNum === 4) {\n          // 十字路口\n          // 获取到对面的进口\n          const drawEntrance = cross.entranceArray[(i + 2) % 4];\n          const pointInfo = this.calculateEntranceLightPoint(\n            drawEntrance,\n            road_type\n          );\n          points = pointInfo.points;\n          angle = pointInfo.angle;\n        } else {\n          // 五岔路口 以及以上\n          const drawEntrance = cross.entranceArray[i];\n          const pointInfo = this.calculateCircleLightPoint(\n            drawEntrance,\n            road_type\n          );\n          points = pointInfo.points;\n          angle = pointInfo.angle;\n        }\n        return { points, angle };\n      },\n      // 计算绘制在进口的点位\n      calculateEntranceLightPoint(drawEntrance: any, road_type: any) {\n        // 红绿灯半径\n        const radius = CrossConst.roadWidth / 3;\n        let points = [];\n        let angle = [];\n        const inNum = drawEntrance.in;\n        const outNum = drawEntrance.out;\n        const margin = 1;\n        const fdOffset = road_type === \"fd\" ? CrossConst.roadWidth : 0;\n        const laneOffsetHeight =\n          (drawEntrance.point.H0[0].y - drawEntrance.point.H0[1].y) / 2;\n        const offsetHeight =\n          (drawEntrance.point.H0[0].y - drawEntrance.point.H0[1].y) /\n          CrossConst.roadWidth;\n        const centerPoint = [\n          drawEntrance.point.H0[inNum].x - (CrossConst.roadWidth * outNum) / 2,\n          drawEntrance.point.H0[inNum].y -\n            laneOffsetHeight * outNum -\n            radius -\n            margin -\n            fdOffset,\n        ];\n        const rightPoint = [\n          centerPoint[0] - radius * 2 - margin,\n          centerPoint[1] - offsetHeight * (radius * 2 + margin),\n        ];\n        const leftPoint = [\n          centerPoint[0] + radius * 2 + margin,\n          centerPoint[1] + offsetHeight * (radius * 2 + margin),\n        ];\n        const nonLeftPoint = [\n          centerPoint[0] - radius * 6,\n          centerPoint[1] - offsetHeight * (radius * 5),\n        ]; //非机动车左\n        const nonCenterPoint = [\n          centerPoint[0] - radius * 8 - margin,\n          centerPoint[1] - offsetHeight * (radius * 8 + margin),\n        ]; //非机动车直\n        points = [\n          leftPoint,\n          centerPoint,\n          rightPoint,\n          nonLeftPoint,\n          nonCenterPoint,\n        ];\n        angle = drawEntrance.angle;\n        return { points, angle };\n      },\n      // 计算三岔路口对面红绿灯的点位\n      calculateEntranceFaceLightPoint(\n        drawEntrance: any,\n        prevEntrance: any,\n        nextEntrance: any,\n        road_type: any\n      ) {\n        const radius = CrossConst.roadWidth / 3;\n        let points = [];\n        let angle = [];\n        const inNum = drawEntrance.in;\n        const margin = 1;\n        const fdOffset = road_type === \"fd\" ? CrossConst.roadWidth : 0;\n        const offsetHeight =\n          (drawEntrance.point.H0[0].y - drawEntrance.point.H0[1].y) /\n          CrossConst.roadWidth;\n        const centerPoint = [\n          drawEntrance.point.H0[0].x - (CrossConst.roadWidth * inNum) / 2,\n          ((nextEntrance.out + prevEntrance.in) / 2) * CrossConst.roadWidth +\n            radius * 2 +\n            margin +\n            fdOffset,\n        ];\n        const rightPoint = [\n          centerPoint[0] - radius * 2 - margin,\n          centerPoint[1] - offsetHeight * (radius * 2 + margin),\n        ];\n        const leftPoint = [\n          centerPoint[0] + radius * 2 + margin,\n          centerPoint[1] + offsetHeight * (radius * 2 + margin),\n        ];\n        points = [leftPoint, centerPoint, rightPoint];\n        angle = drawEntrance.angle + 180;\n        return { points, angle };\n      },\n      // 计算五岔路口 以及以上红绿灯的点位\n      calculateCircleLightPoint(drawEntrance: any, road_type: any) {\n        // 红绿灯半径\n        const radius = CrossConst.roadWidth / 3;\n        let points = [];\n        let angle = [];\n        const margin = 1;\n        const offsetHeight =\n          (drawEntrance.point.H0[0].y - drawEntrance.point.H0[1].y) /\n          CrossConst.roadWidth;\n        const fdOffset = road_type === \"fd\" ? CrossConst.roadWidth : 0;\n        const centerPoint = [\n          // drawEntrance.point.H0[0].x - CrossConst.roadWidth * inNum / 2,\n          0 - CrossConst.roadWidth,\n          CrossConst.roadWidth * 2.8 - fdOffset,\n        ];\n        const rightPoint = [\n          centerPoint[0] - radius * 2 - margin,\n          centerPoint[1] - offsetHeight * (radius * 2 + margin),\n        ];\n        const leftPoint = [\n          centerPoint[0] + radius * 2 + margin,\n          centerPoint[1] + offsetHeight * (radius * 2 + margin),\n        ];\n        points = [leftPoint, centerPoint, rightPoint];\n        angle = drawEntrance.angle + 180;\n        return { points, angle };\n      },\n\n      // 获取绘制红绿灯\n      drawLightHandler(\n        point: any,\n        drawType: any,\n        angle: any,\n        color: any,\n        xAngle = 0,\n        road_type = \"main\"\n      ) {\n        // 红绿灯半径\n        const radius = CrossConst.roadWidth / 3;\n        const centerPoint = Util.pointRotateAngel(\n          { x: point[0], y: point[1] },\n          -angle,\n          [0, 0]\n        );\n        // 绘制红绿灯背景\n        if (drawType === \"back\") {\n          let lightBack = new Konva.Rect({\n            x: centerPoint.x,\n            y: -centerPoint.y,\n            width: radius * 6 + 8,\n            height: radius * 2 + 2,\n            fill: road_type === \"main\" ? \"#fff\" : \"#999\",\n            rotation: xAngle,\n            cornerRadius: radius,\n          });\n          lightBack.offsetX(lightBack.width() / 2);\n          lightBack.offsetY(lightBack.height() / 2);\n          realLayer.add(lightBack);\n        } else if (drawType === \"nonBack\") {\n          let lightBack = new Konva.Rect({\n            x: centerPoint.x,\n            y: -centerPoint.y,\n            width: radius * 2 + 2,\n            height: radius * 2 + 2,\n            fill: road_type === \"main\" ? \"#888\" : \"#666\",\n            rotation: xAngle,\n            cornerRadius: radius,\n          });\n          lightBack.offsetX(lightBack.width() / 2);\n          lightBack.offsetY(lightBack.height() / 2);\n          realLayer.add(lightBack);\n        } else {\n          // 红绿灯黑底\n          let circle = new Konva.Circle({\n            x: centerPoint.x,\n            y: -centerPoint.y,\n            radius: CrossConst.roadWidth / 3,\n            fill: \"#000\",\n          });\n          realLayer.add(circle);\n          if (drawType === \"center\") {\n            let centerCircle = new Konva.Circle({\n              x: centerPoint.x,\n              y: -centerPoint.y,\n              radius: CrossConst.roadWidth / 3,\n              fill: color,\n            });\n            realLayer.add(centerCircle);\n          } else if (drawType === \"left\" || drawType === \"right\") {\n            const lightData = getDirectionLightData(\n              { x: point[0], y: point[1] },\n              drawType\n            );\n            const rotateLightData = drawMethods.getRotateData(lightData, angle);\n            let lightPolygonShape = new Konva.Shape({\n              stroke: color,\n              fill: color,\n              strokeWidth: 0.2,\n              sceneFunc(context: any, shape: any) {\n                context.beginPath();\n                rotateLightData.forEach((it: any, k: any) => {\n                  if (k === 0) {\n                    context.moveTo(it.x, -it.y);\n                  } else {\n                    context.lineTo(it.x, -it.y);\n                  }\n                });\n                context.closePath();\n                context.fillStrokeShape(shape);\n              },\n            });\n            realLayer.add(lightPolygonShape);\n          } else if (drawType === \"nonLeft\" || drawType === \"nonCenter\") {\n            console.log(drawType);\n            const ponitInfo: any = getDirectionLightData(\n              { x: point[0], y: point[1] },\n              drawType\n            );\n            const { point1, point2, polygon1, polygon2, polygon3 } = ponitInfo;\n            const rotatePoint1 = drawMethods.getRotateData(point1, angle);\n            const rotatePoint2 = drawMethods.getRotateData(point2, angle);\n            const rotatePolygon1 = drawMethods.getRotateData(polygon1, angle);\n            const rotatePolygon2 = drawMethods.getRotateData(polygon2, angle);\n            const rotatePolygon3 = drawMethods.getRotateData(polygon3, angle);\n            // 绘制两个圆\n            let circle1 = new Konva.Circle({\n              x: rotatePoint1.x,\n              y: -rotatePoint1.y,\n              radius: ((CrossConst.roadWidth / 3) * 4) / 5 / 3,\n              fill: color,\n            });\n            let circle2 = new Konva.Circle({\n              x: rotatePoint1.x,\n              y: -rotatePoint1.y,\n              radius: ((CrossConst.roadWidth / 3) * 4) / 5 / 4,\n              fill: \"#000000\",\n            });\n            let circle3 = new Konva.Circle({\n              x: rotatePoint2.x,\n              y: -rotatePoint2.y,\n              radius: ((CrossConst.roadWidth / 3) * 4) / 5 / 3,\n              fill: color,\n            });\n            let circle4 = new Konva.Circle({\n              x: rotatePoint2.x,\n              y: -rotatePoint2.y,\n              radius: ((CrossConst.roadWidth / 3) * 4) / 5 / 4,\n              fill: \"#000000\",\n            });\n\n            let polygonShape1 = new Konva.Shape({\n              stroke: color,\n              fill: color,\n              strokeWidth: 0.2,\n              sceneFunc(context, shape) {\n                context.beginPath();\n                rotatePolygon1.forEach((it: any, k: any) => {\n                  if (k === 0) {\n                    context.moveTo(it.x, -it.y);\n                  } else {\n                    context.lineTo(it.x, -it.y);\n                  }\n                });\n                context.closePath();\n                context.fillStrokeShape(shape);\n              },\n            });\n            let polygonShape2 = new Konva.Shape({\n              stroke: color,\n              fill: color,\n              strokeWidth: 0.2,\n              sceneFunc(context, shape) {\n                context.beginPath();\n                rotatePolygon2.forEach((it: any, k: any) => {\n                  if (k === 0) {\n                    context.moveTo(it.x, -it.y);\n                  } else {\n                    context.lineTo(it.x, -it.y);\n                  }\n                });\n                context.closePath();\n                context.fillStrokeShape(shape);\n              },\n            });\n            let polygonShape3 = new Konva.Shape({\n              stroke: color,\n              fill: color,\n              strokeWidth: 0.2,\n              sceneFunc(context, shape) {\n                context.beginPath();\n                rotatePolygon3.forEach((it: any, k: any) => {\n                  if (k === 0) {\n                    context.moveTo(it.x, -it.y);\n                  } else {\n                    context.lineTo(it.x, -it.y);\n                  }\n                });\n                context.closePath();\n                context.fillStrokeShape(shape);\n              },\n            });\n\n            realLayer.add(circle1);\n            realLayer.add(circle2);\n            realLayer.add(circle3);\n            realLayer.add(circle4);\n            realLayer.add(polygonShape1);\n            realLayer.add(polygonShape2);\n            realLayer.add(polygonShape3);\n          }\n        }\n      },\n      // 获取红绿灯偏移角度\n      getxAngle(points: any, angle: any) {\n        const [point1, point2] = points;\n        const P1 = Util.pointRotateAngel(\n          { x: point1[0], y: point1[1] },\n          -angle,\n          [0, 0]\n        );\n        const P2 = Util.pointRotateAngel(\n          { x: point2[0], y: point2[1] },\n          -angle,\n          [0, 0]\n        );\n        // 因为点位y跟直角坐标系是相反的，所以P1.y - P2.y\n        const degree = Math.atan2(P1.y - P2.y, P2.x - P1.x);\n        return degree * (180 / Math.PI);\n      },\n      // 红绿灯点位旋转车道倾斜角度\n      getRotateLightData2(rotateLightData: any, xAngle: any, centerPoint: any) {\n        const rotateLightData2: any = [];\n        rotateLightData.forEach((it: any) => {\n          const point = Util.pointRotateByPoint(it, xAngle, [\n            centerPoint.x,\n            centerPoint.y,\n          ]);\n          rotateLightData2.push(point);\n        });\n        return rotateLightData2;\n      },\n    };\n    //---------------------------------------------imageLoadMixins---------------------------------------------//\n    const imageLoadMethods = {\n      initImg() {\n        // 相邻路口图片\n        nearImg = new Image();\n        nearImg.src = adjacentIcon;\n\n        // 非机动车道自行车图片\n        const bikeImg = new Image();\n        bikeImg.src = bikeIcon;\n      },\n    };\n    imageLoadMethods.initImg();\n    return {\n      ...toRefs(state),\n      tfInterModel,\n      scTfInterBox,\n      scTfPhaseBox,\n      ...methods,\n      ...drawMethods,\n      ...drawRealMethods,\n      ...imageLoadMethods,\n    };\n  },\n});\n</script>\n \n<style lang=\"scss\">\n.sc-tf-inter-model {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  .sc-tf-inter-box {\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 1;\n    width: 100%;\n    height: 100%;\n  }\n  .overflow-box {\n    position: absolute;\n    left: 0;\n    top: 0;\n    overflow: hidden;\n    width: auto;\n    height: 100%;\n    z-index: 2;\n    .sc-tf-phase-box {\n      width: calc(100% + 20px);\n      height: 100%;\n      overflow: auto;\n      display: flex;\n      flex-direction: column;\n    }\n  }\n}\n</style>","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import { Konva } from './Global.js';\nexport class Transform {\n    constructor(m = [1, 0, 0, 1, 0, 0]) {\n        this.dirty = false;\n        this.m = (m && m.slice()) || [1, 0, 0, 1, 0, 0];\n    }\n    reset() {\n        this.m[0] = 1;\n        this.m[1] = 0;\n        this.m[2] = 0;\n        this.m[3] = 1;\n        this.m[4] = 0;\n        this.m[5] = 0;\n    }\n    copy() {\n        return new Transform(this.m);\n    }\n    copyInto(tr) {\n        tr.m[0] = this.m[0];\n        tr.m[1] = this.m[1];\n        tr.m[2] = this.m[2];\n        tr.m[3] = this.m[3];\n        tr.m[4] = this.m[4];\n        tr.m[5] = this.m[5];\n    }\n    point(point) {\n        var m = this.m;\n        return {\n            x: m[0] * point.x + m[2] * point.y + m[4],\n            y: m[1] * point.x + m[3] * point.y + m[5],\n        };\n    }\n    translate(x, y) {\n        this.m[4] += this.m[0] * x + this.m[2] * y;\n        this.m[5] += this.m[1] * x + this.m[3] * y;\n        return this;\n    }\n    scale(sx, sy) {\n        this.m[0] *= sx;\n        this.m[1] *= sx;\n        this.m[2] *= sy;\n        this.m[3] *= sy;\n        return this;\n    }\n    rotate(rad) {\n        var c = Math.cos(rad);\n        var s = Math.sin(rad);\n        var m11 = this.m[0] * c + this.m[2] * s;\n        var m12 = this.m[1] * c + this.m[3] * s;\n        var m21 = this.m[0] * -s + this.m[2] * c;\n        var m22 = this.m[1] * -s + this.m[3] * c;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    }\n    getTranslation() {\n        return {\n            x: this.m[4],\n            y: this.m[5],\n        };\n    }\n    skew(sx, sy) {\n        var m11 = this.m[0] + this.m[2] * sy;\n        var m12 = this.m[1] + this.m[3] * sy;\n        var m21 = this.m[2] + this.m[0] * sx;\n        var m22 = this.m[3] + this.m[1] * sx;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    }\n    multiply(matrix) {\n        var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];\n        var m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];\n        var m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];\n        var m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];\n        var dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];\n        var dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        this.m[4] = dx;\n        this.m[5] = dy;\n        return this;\n    }\n    invert() {\n        var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);\n        var m0 = this.m[3] * d;\n        var m1 = -this.m[1] * d;\n        var m2 = -this.m[2] * d;\n        var m3 = this.m[0] * d;\n        var m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);\n        var m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);\n        this.m[0] = m0;\n        this.m[1] = m1;\n        this.m[2] = m2;\n        this.m[3] = m3;\n        this.m[4] = m4;\n        this.m[5] = m5;\n        return this;\n    }\n    getMatrix() {\n        return this.m;\n    }\n    decompose() {\n        var a = this.m[0];\n        var b = this.m[1];\n        var c = this.m[2];\n        var d = this.m[3];\n        var e = this.m[4];\n        var f = this.m[5];\n        var delta = a * d - b * c;\n        let result = {\n            x: e,\n            y: f,\n            rotation: 0,\n            scaleX: 0,\n            scaleY: 0,\n            skewX: 0,\n            skewY: 0,\n        };\n        if (a != 0 || b != 0) {\n            var r = Math.sqrt(a * a + b * b);\n            result.rotation = b > 0 ? Math.acos(a / r) : -Math.acos(a / r);\n            result.scaleX = r;\n            result.scaleY = delta / r;\n            result.skewX = (a * c + b * d) / delta;\n            result.skewY = 0;\n        }\n        else if (c != 0 || d != 0) {\n            var s = Math.sqrt(c * c + d * d);\n            result.rotation =\n                Math.PI / 2 - (d > 0 ? Math.acos(-c / s) : -Math.acos(c / s));\n            result.scaleX = delta / s;\n            result.scaleY = s;\n            result.skewX = 0;\n            result.skewY = (a * c + b * d) / delta;\n        }\n        else {\n        }\n        result.rotation = Util._getRotation(result.rotation);\n        return result;\n    }\n}\nvar OBJECT_ARRAY = '[object Array]', OBJECT_NUMBER = '[object Number]', OBJECT_STRING = '[object String]', OBJECT_BOOLEAN = '[object Boolean]', PI_OVER_DEG180 = Math.PI / 180, DEG180_OVER_PI = 180 / Math.PI, HASH = '#', EMPTY_STRING = '', ZERO = '0', KONVA_WARNING = 'Konva warning: ', KONVA_ERROR = 'Konva error: ', RGB_PAREN = 'rgb(', COLORS = {\n    aliceblue: [240, 248, 255],\n    antiquewhite: [250, 235, 215],\n    aqua: [0, 255, 255],\n    aquamarine: [127, 255, 212],\n    azure: [240, 255, 255],\n    beige: [245, 245, 220],\n    bisque: [255, 228, 196],\n    black: [0, 0, 0],\n    blanchedalmond: [255, 235, 205],\n    blue: [0, 0, 255],\n    blueviolet: [138, 43, 226],\n    brown: [165, 42, 42],\n    burlywood: [222, 184, 135],\n    cadetblue: [95, 158, 160],\n    chartreuse: [127, 255, 0],\n    chocolate: [210, 105, 30],\n    coral: [255, 127, 80],\n    cornflowerblue: [100, 149, 237],\n    cornsilk: [255, 248, 220],\n    crimson: [220, 20, 60],\n    cyan: [0, 255, 255],\n    darkblue: [0, 0, 139],\n    darkcyan: [0, 139, 139],\n    darkgoldenrod: [184, 132, 11],\n    darkgray: [169, 169, 169],\n    darkgreen: [0, 100, 0],\n    darkgrey: [169, 169, 169],\n    darkkhaki: [189, 183, 107],\n    darkmagenta: [139, 0, 139],\n    darkolivegreen: [85, 107, 47],\n    darkorange: [255, 140, 0],\n    darkorchid: [153, 50, 204],\n    darkred: [139, 0, 0],\n    darksalmon: [233, 150, 122],\n    darkseagreen: [143, 188, 143],\n    darkslateblue: [72, 61, 139],\n    darkslategray: [47, 79, 79],\n    darkslategrey: [47, 79, 79],\n    darkturquoise: [0, 206, 209],\n    darkviolet: [148, 0, 211],\n    deeppink: [255, 20, 147],\n    deepskyblue: [0, 191, 255],\n    dimgray: [105, 105, 105],\n    dimgrey: [105, 105, 105],\n    dodgerblue: [30, 144, 255],\n    firebrick: [178, 34, 34],\n    floralwhite: [255, 255, 240],\n    forestgreen: [34, 139, 34],\n    fuchsia: [255, 0, 255],\n    gainsboro: [220, 220, 220],\n    ghostwhite: [248, 248, 255],\n    gold: [255, 215, 0],\n    goldenrod: [218, 165, 32],\n    gray: [128, 128, 128],\n    green: [0, 128, 0],\n    greenyellow: [173, 255, 47],\n    grey: [128, 128, 128],\n    honeydew: [240, 255, 240],\n    hotpink: [255, 105, 180],\n    indianred: [205, 92, 92],\n    indigo: [75, 0, 130],\n    ivory: [255, 255, 240],\n    khaki: [240, 230, 140],\n    lavender: [230, 230, 250],\n    lavenderblush: [255, 240, 245],\n    lawngreen: [124, 252, 0],\n    lemonchiffon: [255, 250, 205],\n    lightblue: [173, 216, 230],\n    lightcoral: [240, 128, 128],\n    lightcyan: [224, 255, 255],\n    lightgoldenrodyellow: [250, 250, 210],\n    lightgray: [211, 211, 211],\n    lightgreen: [144, 238, 144],\n    lightgrey: [211, 211, 211],\n    lightpink: [255, 182, 193],\n    lightsalmon: [255, 160, 122],\n    lightseagreen: [32, 178, 170],\n    lightskyblue: [135, 206, 250],\n    lightslategray: [119, 136, 153],\n    lightslategrey: [119, 136, 153],\n    lightsteelblue: [176, 196, 222],\n    lightyellow: [255, 255, 224],\n    lime: [0, 255, 0],\n    limegreen: [50, 205, 50],\n    linen: [250, 240, 230],\n    magenta: [255, 0, 255],\n    maroon: [128, 0, 0],\n    mediumaquamarine: [102, 205, 170],\n    mediumblue: [0, 0, 205],\n    mediumorchid: [186, 85, 211],\n    mediumpurple: [147, 112, 219],\n    mediumseagreen: [60, 179, 113],\n    mediumslateblue: [123, 104, 238],\n    mediumspringgreen: [0, 250, 154],\n    mediumturquoise: [72, 209, 204],\n    mediumvioletred: [199, 21, 133],\n    midnightblue: [25, 25, 112],\n    mintcream: [245, 255, 250],\n    mistyrose: [255, 228, 225],\n    moccasin: [255, 228, 181],\n    navajowhite: [255, 222, 173],\n    navy: [0, 0, 128],\n    oldlace: [253, 245, 230],\n    olive: [128, 128, 0],\n    olivedrab: [107, 142, 35],\n    orange: [255, 165, 0],\n    orangered: [255, 69, 0],\n    orchid: [218, 112, 214],\n    palegoldenrod: [238, 232, 170],\n    palegreen: [152, 251, 152],\n    paleturquoise: [175, 238, 238],\n    palevioletred: [219, 112, 147],\n    papayawhip: [255, 239, 213],\n    peachpuff: [255, 218, 185],\n    peru: [205, 133, 63],\n    pink: [255, 192, 203],\n    plum: [221, 160, 203],\n    powderblue: [176, 224, 230],\n    purple: [128, 0, 128],\n    rebeccapurple: [102, 51, 153],\n    red: [255, 0, 0],\n    rosybrown: [188, 143, 143],\n    royalblue: [65, 105, 225],\n    saddlebrown: [139, 69, 19],\n    salmon: [250, 128, 114],\n    sandybrown: [244, 164, 96],\n    seagreen: [46, 139, 87],\n    seashell: [255, 245, 238],\n    sienna: [160, 82, 45],\n    silver: [192, 192, 192],\n    skyblue: [135, 206, 235],\n    slateblue: [106, 90, 205],\n    slategray: [119, 128, 144],\n    slategrey: [119, 128, 144],\n    snow: [255, 255, 250],\n    springgreen: [0, 255, 127],\n    steelblue: [70, 130, 180],\n    tan: [210, 180, 140],\n    teal: [0, 128, 128],\n    thistle: [216, 191, 216],\n    transparent: [255, 255, 255, 0],\n    tomato: [255, 99, 71],\n    turquoise: [64, 224, 208],\n    violet: [238, 130, 238],\n    wheat: [245, 222, 179],\n    white: [255, 255, 255],\n    whitesmoke: [245, 245, 245],\n    yellow: [255, 255, 0],\n    yellowgreen: [154, 205, 5],\n}, RGB_REGEX = /rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/, animQueue = [];\nconst req = (typeof requestAnimationFrame !== 'undefined' && requestAnimationFrame) ||\n    function (f) {\n        setTimeout(f, 60);\n    };\nexport const Util = {\n    _isElement(obj) {\n        return !!(obj && obj.nodeType == 1);\n    },\n    _isFunction(obj) {\n        return !!(obj && obj.constructor && obj.call && obj.apply);\n    },\n    _isPlainObject(obj) {\n        return !!obj && obj.constructor === Object;\n    },\n    _isArray(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_ARRAY;\n    },\n    _isNumber(obj) {\n        return (Object.prototype.toString.call(obj) === OBJECT_NUMBER &&\n            !isNaN(obj) &&\n            isFinite(obj));\n    },\n    _isString(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_STRING;\n    },\n    _isBoolean(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_BOOLEAN;\n    },\n    isObject(val) {\n        return val instanceof Object;\n    },\n    isValidSelector(selector) {\n        if (typeof selector !== 'string') {\n            return false;\n        }\n        var firstChar = selector[0];\n        return (firstChar === '#' ||\n            firstChar === '.' ||\n            firstChar === firstChar.toUpperCase());\n    },\n    _sign(number) {\n        if (number === 0) {\n            return 1;\n        }\n        if (number > 0) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    },\n    requestAnimFrame(callback) {\n        animQueue.push(callback);\n        if (animQueue.length === 1) {\n            req(function () {\n                const queue = animQueue;\n                animQueue = [];\n                queue.forEach(function (cb) {\n                    cb();\n                });\n            });\n        }\n    },\n    createCanvasElement() {\n        var canvas = document.createElement('canvas');\n        try {\n            canvas.style = canvas.style || {};\n        }\n        catch (e) { }\n        return canvas;\n    },\n    createImageElement() {\n        return document.createElement('img');\n    },\n    _isInDocument(el) {\n        while ((el = el.parentNode)) {\n            if (el == document) {\n                return true;\n            }\n        }\n        return false;\n    },\n    _urlToImage(url, callback) {\n        var imageObj = Util.createImageElement();\n        imageObj.onload = function () {\n            callback(imageObj);\n        };\n        imageObj.src = url;\n    },\n    _rgbToHex(r, g, b) {\n        return ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n    },\n    _hexToRgb(hex) {\n        hex = hex.replace(HASH, EMPTY_STRING);\n        var bigint = parseInt(hex, 16);\n        return {\n            r: (bigint >> 16) & 255,\n            g: (bigint >> 8) & 255,\n            b: bigint & 255,\n        };\n    },\n    getRandomColor() {\n        var randColor = ((Math.random() * 0xffffff) << 0).toString(16);\n        while (randColor.length < 6) {\n            randColor = ZERO + randColor;\n        }\n        return HASH + randColor;\n    },\n    getRGB(color) {\n        var rgb;\n        if (color in COLORS) {\n            rgb = COLORS[color];\n            return {\n                r: rgb[0],\n                g: rgb[1],\n                b: rgb[2],\n            };\n        }\n        else if (color[0] === HASH) {\n            return this._hexToRgb(color.substring(1));\n        }\n        else if (color.substr(0, 4) === RGB_PAREN) {\n            rgb = RGB_REGEX.exec(color.replace(/ /g, ''));\n            return {\n                r: parseInt(rgb[1], 10),\n                g: parseInt(rgb[2], 10),\n                b: parseInt(rgb[3], 10),\n            };\n        }\n        else {\n            return {\n                r: 0,\n                g: 0,\n                b: 0,\n            };\n        }\n    },\n    colorToRGBA(str) {\n        str = str || 'black';\n        return (Util._namedColorToRBA(str) ||\n            Util._hex3ColorToRGBA(str) ||\n            Util._hex6ColorToRGBA(str) ||\n            Util._rgbColorToRGBA(str) ||\n            Util._rgbaColorToRGBA(str) ||\n            Util._hslColorToRGBA(str));\n    },\n    _namedColorToRBA(str) {\n        var c = COLORS[str.toLowerCase()];\n        if (!c) {\n            return null;\n        }\n        return {\n            r: c[0],\n            g: c[1],\n            b: c[2],\n            a: 1,\n        };\n    },\n    _rgbColorToRGBA(str) {\n        if (str.indexOf('rgb(') === 0) {\n            str = str.match(/rgb\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map(Number);\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: 1,\n            };\n        }\n    },\n    _rgbaColorToRGBA(str) {\n        if (str.indexOf('rgba(') === 0) {\n            str = str.match(/rgba\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map((n, index) => {\n                if (n.slice(-1) === '%') {\n                    return index === 3 ? parseInt(n) / 100 : (parseInt(n) / 100) * 255;\n                }\n                return Number(n);\n            });\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: parts[3],\n            };\n        }\n    },\n    _hex6ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 7) {\n            return {\n                r: parseInt(str.slice(1, 3), 16),\n                g: parseInt(str.slice(3, 5), 16),\n                b: parseInt(str.slice(5, 7), 16),\n                a: 1,\n            };\n        }\n    },\n    _hex3ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 4) {\n            return {\n                r: parseInt(str[1] + str[1], 16),\n                g: parseInt(str[2] + str[2], 16),\n                b: parseInt(str[3] + str[3], 16),\n                a: 1,\n            };\n        }\n    },\n    _hslColorToRGBA(str) {\n        if (/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.test(str)) {\n            const [_, ...hsl] = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(str);\n            const h = Number(hsl[0]) / 360;\n            const s = Number(hsl[1]) / 100;\n            const l = Number(hsl[2]) / 100;\n            let t2;\n            let t3;\n            let val;\n            if (s === 0) {\n                val = l * 255;\n                return {\n                    r: Math.round(val),\n                    g: Math.round(val),\n                    b: Math.round(val),\n                    a: 1,\n                };\n            }\n            if (l < 0.5) {\n                t2 = l * (1 + s);\n            }\n            else {\n                t2 = l + s - l * s;\n            }\n            const t1 = 2 * l - t2;\n            const rgb = [0, 0, 0];\n            for (let i = 0; i < 3; i++) {\n                t3 = h + (1 / 3) * -(i - 1);\n                if (t3 < 0) {\n                    t3++;\n                }\n                if (t3 > 1) {\n                    t3--;\n                }\n                if (6 * t3 < 1) {\n                    val = t1 + (t2 - t1) * 6 * t3;\n                }\n                else if (2 * t3 < 1) {\n                    val = t2;\n                }\n                else if (3 * t3 < 2) {\n                    val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n                }\n                else {\n                    val = t1;\n                }\n                rgb[i] = val * 255;\n            }\n            return {\n                r: Math.round(rgb[0]),\n                g: Math.round(rgb[1]),\n                b: Math.round(rgb[2]),\n                a: 1,\n            };\n        }\n    },\n    haveIntersection(r1, r2) {\n        return !(r2.x > r1.x + r1.width ||\n            r2.x + r2.width < r1.x ||\n            r2.y > r1.y + r1.height ||\n            r2.y + r2.height < r1.y);\n    },\n    cloneObject(obj) {\n        var retObj = {};\n        for (var key in obj) {\n            if (this._isPlainObject(obj[key])) {\n                retObj[key] = this.cloneObject(obj[key]);\n            }\n            else if (this._isArray(obj[key])) {\n                retObj[key] = this.cloneArray(obj[key]);\n            }\n            else {\n                retObj[key] = obj[key];\n            }\n        }\n        return retObj;\n    },\n    cloneArray(arr) {\n        return arr.slice(0);\n    },\n    degToRad(deg) {\n        return deg * PI_OVER_DEG180;\n    },\n    radToDeg(rad) {\n        return rad * DEG180_OVER_PI;\n    },\n    _degToRad(deg) {\n        Util.warn('Util._degToRad is removed. Please use public Util.degToRad instead.');\n        return Util.degToRad(deg);\n    },\n    _radToDeg(rad) {\n        Util.warn('Util._radToDeg is removed. Please use public Util.radToDeg instead.');\n        return Util.radToDeg(rad);\n    },\n    _getRotation(radians) {\n        return Konva.angleDeg ? Util.radToDeg(radians) : radians;\n    },\n    _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    },\n    throw(str) {\n        throw new Error(KONVA_ERROR + str);\n    },\n    error(str) {\n        console.error(KONVA_ERROR + str);\n    },\n    warn(str) {\n        if (!Konva.showWarnings) {\n            return;\n        }\n        console.warn(KONVA_WARNING + str);\n    },\n    each(obj, func) {\n        for (var key in obj) {\n            func(key, obj[key]);\n        }\n    },\n    _inRange(val, left, right) {\n        return left <= val && val < right;\n    },\n    _getProjectionToSegment(x1, y1, x2, y2, x3, y3) {\n        var x, y, dist;\n        var pd2 = (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n        if (pd2 == 0) {\n            x = x1;\n            y = y1;\n            dist = (x3 - x2) * (x3 - x2) + (y3 - y2) * (y3 - y2);\n        }\n        else {\n            var u = ((x3 - x1) * (x2 - x1) + (y3 - y1) * (y2 - y1)) / pd2;\n            if (u < 0) {\n                x = x1;\n                y = y1;\n                dist = (x1 - x3) * (x1 - x3) + (y1 - y3) * (y1 - y3);\n            }\n            else if (u > 1.0) {\n                x = x2;\n                y = y2;\n                dist = (x2 - x3) * (x2 - x3) + (y2 - y3) * (y2 - y3);\n            }\n            else {\n                x = x1 + u * (x2 - x1);\n                y = y1 + u * (y2 - y1);\n                dist = (x - x3) * (x - x3) + (y - y3) * (y - y3);\n            }\n        }\n        return [x, y, dist];\n    },\n    _getProjectionToLine(pt, line, isClosed) {\n        var pc = Util.cloneObject(pt);\n        var dist = Number.MAX_VALUE;\n        line.forEach(function (p1, i) {\n            if (!isClosed && i === line.length - 1) {\n                return;\n            }\n            var p2 = line[(i + 1) % line.length];\n            var proj = Util._getProjectionToSegment(p1.x, p1.y, p2.x, p2.y, pt.x, pt.y);\n            var px = proj[0], py = proj[1], pdist = proj[2];\n            if (pdist < dist) {\n                pc.x = px;\n                pc.y = py;\n                dist = pdist;\n            }\n        });\n        return pc;\n    },\n    _prepareArrayForTween(startArray, endArray, isClosed) {\n        var n, start = [], end = [];\n        if (startArray.length > endArray.length) {\n            var temp = endArray;\n            endArray = startArray;\n            startArray = temp;\n        }\n        for (n = 0; n < startArray.length; n += 2) {\n            start.push({\n                x: startArray[n],\n                y: startArray[n + 1],\n            });\n        }\n        for (n = 0; n < endArray.length; n += 2) {\n            end.push({\n                x: endArray[n],\n                y: endArray[n + 1],\n            });\n        }\n        var newStart = [];\n        end.forEach(function (point) {\n            var pr = Util._getProjectionToLine(point, start, isClosed);\n            newStart.push(pr.x);\n            newStart.push(pr.y);\n        });\n        return newStart;\n    },\n    _prepareToStringify(obj) {\n        var desc;\n        obj.visitedByCircularReferenceRemoval = true;\n        for (var key in obj) {\n            if (!(obj.hasOwnProperty(key) && obj[key] && typeof obj[key] == 'object')) {\n                continue;\n            }\n            desc = Object.getOwnPropertyDescriptor(obj, key);\n            if (obj[key].visitedByCircularReferenceRemoval ||\n                Util._isElement(obj[key])) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n            else if (Util._prepareToStringify(obj[key]) === null) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n        }\n        delete obj.visitedByCircularReferenceRemoval;\n        return obj;\n    },\n    _assign(target, source) {\n        for (var key in source) {\n            target[key] = source[key];\n        }\n        return target;\n    },\n    _getFirstPointerId(evt) {\n        if (!evt.touches) {\n            return evt.pointerId || 999;\n        }\n        else {\n            return evt.changedTouches[0].identifier;\n        }\n    },\n};\n","import { Konva } from './Global.js';\nimport { Util } from './Util.js';\nfunction _formatValue(val) {\n    if (Util._isString(val)) {\n        return '\"' + val + '\"';\n    }\n    if (Object.prototype.toString.call(val) === '[object Number]') {\n        return val;\n    }\n    if (Util._isBoolean(val)) {\n        return val;\n    }\n    return Object.prototype.toString.call(val);\n}\nexport function RGBComponent(val) {\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    return Math.round(val);\n}\nexport function alphaComponent(val) {\n    if (val > 1) {\n        return 1;\n    }\n    else if (val < 0.0001) {\n        return 0.0001;\n    }\n    return val;\n}\nexport function getNumberValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util._isNumber(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number.');\n            }\n            return val;\n        };\n    }\n}\nexport function getNumberOrArrayOfNumbersValidator(noOfElements) {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            let isNumber = Util._isNumber(val);\n            let isValidArray = Util._isArray(val) && val.length == noOfElements;\n            if (!isNumber && !isValidArray) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number or Array<number>(' +\n                    noOfElements +\n                    ')');\n            }\n            return val;\n        };\n    }\n}\nexport function getNumberOrAutoValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            var isNumber = Util._isNumber(val);\n            var isAuto = val === 'auto';\n            if (!(isNumber || isAuto)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number or \"auto\".');\n            }\n            return val;\n        };\n    }\n}\nexport function getStringValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util._isString(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a string.');\n            }\n            return val;\n        };\n    }\n}\nexport function getStringOrGradientValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            const isString = Util._isString(val);\n            const isGradient = Object.prototype.toString.call(val) === '[object CanvasGradient]' ||\n                (val && val.addColorStop);\n            if (!(isString || isGradient)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a string or a native gradient.');\n            }\n            return val;\n        };\n    }\n}\nexport function getFunctionValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util._isFunction(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a function.');\n            }\n            return val;\n        };\n    }\n}\nexport function getNumberArrayValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util._isArray(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a array of numbers.');\n            }\n            else {\n                val.forEach(function (item) {\n                    if (!Util._isNumber(item)) {\n                        Util.warn('\"' +\n                            attr +\n                            '\" attribute has non numeric element ' +\n                            item +\n                            '. Make sure that all elements are numbers.');\n                    }\n                });\n            }\n            return val;\n        };\n    }\n}\nexport function getBooleanValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            var isBool = val === true || val === false;\n            if (!isBool) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a boolean.');\n            }\n            return val;\n        };\n    }\n}\nexport function getComponentValidator(components) {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util.isObject(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be an object with properties ' +\n                    components);\n            }\n            return val;\n        };\n    }\n}\n","import { Util } from './Util.js';\nimport { getComponentValidator } from './Validators.js';\nvar GET = 'get', SET = 'set';\nexport const Factory = {\n    addGetterSetter(constructor, attr, def, validator, after) {\n        Factory.addGetter(constructor, attr, def);\n        Factory.addSetter(constructor, attr, validator, after);\n        Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addGetter(constructor, attr, def) {\n        var method = GET + Util._capitalize(attr);\n        constructor.prototype[method] =\n            constructor.prototype[method] ||\n                function () {\n                    var val = this.attrs[attr];\n                    return val === undefined ? def : val;\n                };\n    },\n    addSetter(constructor, attr, validator, after) {\n        var method = SET + Util._capitalize(attr);\n        if (!constructor.prototype[method]) {\n            Factory.overWriteSetter(constructor, attr, validator, after);\n        }\n    },\n    overWriteSetter(constructor, attr, validator, after) {\n        var method = SET + Util._capitalize(attr);\n        constructor.prototype[method] = function (val) {\n            if (validator && val !== undefined && val !== null) {\n                val = validator.call(this, val, attr);\n            }\n            this._setAttr(attr, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n    },\n    addComponentsGetterSetter(constructor, attr, components, validator, after) {\n        var len = components.length, capitalize = Util._capitalize, getter = GET + capitalize(attr), setter = SET + capitalize(attr), n, component;\n        constructor.prototype[getter] = function () {\n            var ret = {};\n            for (n = 0; n < len; n++) {\n                component = components[n];\n                ret[component] = this.getAttr(attr + capitalize(component));\n            }\n            return ret;\n        };\n        var basicValidator = getComponentValidator(components);\n        constructor.prototype[setter] = function (val) {\n            var oldVal = this.attrs[attr], key;\n            if (validator) {\n                val = validator.call(this, val);\n            }\n            if (basicValidator) {\n                basicValidator.call(this, val, attr);\n            }\n            for (key in val) {\n                if (!val.hasOwnProperty(key)) {\n                    continue;\n                }\n                this._setAttr(attr + capitalize(key), val[key]);\n            }\n            this._fireChangeEvent(attr, oldVal, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n        Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addOverloadedGetterSetter(constructor, attr) {\n        var capitalizedAttr = Util._capitalize(attr), setter = SET + capitalizedAttr, getter = GET + capitalizedAttr;\n        constructor.prototype[attr] = function () {\n            if (arguments.length) {\n                this[setter](arguments[0]);\n                return this;\n            }\n            return this[getter]();\n        };\n    },\n    addDeprecatedGetterSetter(constructor, attr, def, validator) {\n        Util.error('Adding deprecated ' + attr);\n        var method = GET + Util._capitalize(attr);\n        var message = attr +\n            ' property is deprecated and will be removed soon. Look at Konva change log for more information.';\n        constructor.prototype[method] = function () {\n            Util.error(message);\n            var val = this.attrs[attr];\n            return val === undefined ? def : val;\n        };\n        Factory.addSetter(constructor, attr, validator, function () {\n            Util.error(message);\n        });\n        Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    backCompat(constructor, methods) {\n        Util.each(methods, function (oldMethodName, newMethodName) {\n            var method = constructor.prototype[newMethodName];\n            var oldGetter = GET + Util._capitalize(oldMethodName);\n            var oldSetter = SET + Util._capitalize(oldMethodName);\n            function deprecated() {\n                method.apply(this, arguments);\n                Util.error('\"' +\n                    oldMethodName +\n                    '\" method is deprecated and will be removed soon. Use \"\"' +\n                    newMethodName +\n                    '\" instead.');\n            }\n            constructor.prototype[oldMethodName] = deprecated;\n            constructor.prototype[oldGetter] = deprecated;\n            constructor.prototype[oldSetter] = deprecated;\n        });\n    },\n    afterSetFilter() {\n        this._filterUpToDate = false;\n    },\n};\n","import { Util } from './Util.js';\nimport { Konva } from './Global.js';\nfunction simplifyArray(arr) {\n    var retArr = [], len = arr.length, util = Util, n, val;\n    for (n = 0; n < len; n++) {\n        val = arr[n];\n        if (util._isNumber(val)) {\n            val = Math.round(val * 1000) / 1000;\n        }\n        else if (!util._isString(val)) {\n            val = val + '';\n        }\n        retArr.push(val);\n    }\n    return retArr;\n}\nvar COMMA = ',', OPEN_PAREN = '(', CLOSE_PAREN = ')', OPEN_PAREN_BRACKET = '([', CLOSE_BRACKET_PAREN = '])', SEMICOLON = ';', DOUBLE_PAREN = '()', EQUALS = '=', CONTEXT_METHODS = [\n    'arc',\n    'arcTo',\n    'beginPath',\n    'bezierCurveTo',\n    'clearRect',\n    'clip',\n    'closePath',\n    'createLinearGradient',\n    'createPattern',\n    'createRadialGradient',\n    'drawImage',\n    'ellipse',\n    'fill',\n    'fillText',\n    'getImageData',\n    'createImageData',\n    'lineTo',\n    'moveTo',\n    'putImageData',\n    'quadraticCurveTo',\n    'rect',\n    'restore',\n    'rotate',\n    'save',\n    'scale',\n    'setLineDash',\n    'setTransform',\n    'stroke',\n    'strokeText',\n    'transform',\n    'translate',\n];\nvar CONTEXT_PROPERTIES = [\n    'fillStyle',\n    'strokeStyle',\n    'shadowColor',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'lineCap',\n    'lineDashOffset',\n    'lineJoin',\n    'lineWidth',\n    'miterLimit',\n    'font',\n    'textAlign',\n    'textBaseline',\n    'globalAlpha',\n    'globalCompositeOperation',\n    'imageSmoothingEnabled',\n];\nconst traceArrMax = 100;\nexport class Context {\n    constructor(canvas) {\n        this.canvas = canvas;\n        this._context = canvas._canvas.getContext('2d');\n        if (Konva.enableTrace) {\n            this.traceArr = [];\n            this._enableTrace();\n        }\n    }\n    fillShape(shape) {\n        if (shape.fillEnabled()) {\n            this._fill(shape);\n        }\n    }\n    _fill(shape) {\n    }\n    strokeShape(shape) {\n        if (shape.hasStroke()) {\n            this._stroke(shape);\n        }\n    }\n    _stroke(shape) {\n    }\n    fillStrokeShape(shape) {\n        if (shape.attrs.fillAfterStrokeEnabled) {\n            this.strokeShape(shape);\n            this.fillShape(shape);\n        }\n        else {\n            this.fillShape(shape);\n            this.strokeShape(shape);\n        }\n    }\n    getTrace(relaxed, rounded) {\n        var traceArr = this.traceArr, len = traceArr.length, str = '', n, trace, method, args;\n        for (n = 0; n < len; n++) {\n            trace = traceArr[n];\n            method = trace.method;\n            if (method) {\n                args = trace.args;\n                str += method;\n                if (relaxed) {\n                    str += DOUBLE_PAREN;\n                }\n                else {\n                    if (Util._isArray(args[0])) {\n                        str += OPEN_PAREN_BRACKET + args.join(COMMA) + CLOSE_BRACKET_PAREN;\n                    }\n                    else {\n                        if (rounded) {\n                            args = args.map((a) => typeof a === 'number' ? Math.floor(a) : a);\n                        }\n                        str += OPEN_PAREN + args.join(COMMA) + CLOSE_PAREN;\n                    }\n                }\n            }\n            else {\n                str += trace.property;\n                if (!relaxed) {\n                    str += EQUALS + trace.val;\n                }\n            }\n            str += SEMICOLON;\n        }\n        return str;\n    }\n    clearTrace() {\n        this.traceArr = [];\n    }\n    _trace(str) {\n        var traceArr = this.traceArr, len;\n        traceArr.push(str);\n        len = traceArr.length;\n        if (len >= traceArrMax) {\n            traceArr.shift();\n        }\n    }\n    reset() {\n        var pixelRatio = this.getCanvas().getPixelRatio();\n        this.setTransform(1 * pixelRatio, 0, 0, 1 * pixelRatio, 0, 0);\n    }\n    getCanvas() {\n        return this.canvas;\n    }\n    clear(bounds) {\n        var canvas = this.getCanvas();\n        if (bounds) {\n            this.clearRect(bounds.x || 0, bounds.y || 0, bounds.width || 0, bounds.height || 0);\n        }\n        else {\n            this.clearRect(0, 0, canvas.getWidth() / canvas.pixelRatio, canvas.getHeight() / canvas.pixelRatio);\n        }\n    }\n    _applyLineCap(shape) {\n        var lineCap = shape.getLineCap();\n        if (lineCap) {\n            this.setAttr('lineCap', lineCap);\n        }\n    }\n    _applyOpacity(shape) {\n        var absOpacity = shape.getAbsoluteOpacity();\n        if (absOpacity !== 1) {\n            this.setAttr('globalAlpha', absOpacity);\n        }\n    }\n    _applyLineJoin(shape) {\n        var lineJoin = shape.attrs.lineJoin;\n        if (lineJoin) {\n            this.setAttr('lineJoin', lineJoin);\n        }\n    }\n    setAttr(attr, val) {\n        this._context[attr] = val;\n    }\n    arc(a0, a1, a2, a3, a4, a5) {\n        this._context.arc(a0, a1, a2, a3, a4, a5);\n    }\n    arcTo(a0, a1, a2, a3, a4) {\n        this._context.arcTo(a0, a1, a2, a3, a4);\n    }\n    beginPath() {\n        this._context.beginPath();\n    }\n    bezierCurveTo(a0, a1, a2, a3, a4, a5) {\n        this._context.bezierCurveTo(a0, a1, a2, a3, a4, a5);\n    }\n    clearRect(a0, a1, a2, a3) {\n        this._context.clearRect(a0, a1, a2, a3);\n    }\n    clip() {\n        this._context.clip();\n    }\n    closePath() {\n        this._context.closePath();\n    }\n    createImageData(a0, a1) {\n        var a = arguments;\n        if (a.length === 2) {\n            return this._context.createImageData(a0, a1);\n        }\n        else if (a.length === 1) {\n            return this._context.createImageData(a0);\n        }\n    }\n    createLinearGradient(a0, a1, a2, a3) {\n        return this._context.createLinearGradient(a0, a1, a2, a3);\n    }\n    createPattern(a0, a1) {\n        return this._context.createPattern(a0, a1);\n    }\n    createRadialGradient(a0, a1, a2, a3, a4, a5) {\n        return this._context.createRadialGradient(a0, a1, a2, a3, a4, a5);\n    }\n    drawImage(a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n        var a = arguments, _context = this._context;\n        if (a.length === 3) {\n            _context.drawImage(a0, a1, a2);\n        }\n        else if (a.length === 5) {\n            _context.drawImage(a0, a1, a2, a3, a4);\n        }\n        else if (a.length === 9) {\n            _context.drawImage(a0, a1, a2, a3, a4, a5, a6, a7, a8);\n        }\n    }\n    ellipse(a0, a1, a2, a3, a4, a5, a6, a7) {\n        this._context.ellipse(a0, a1, a2, a3, a4, a5, a6, a7);\n    }\n    isPointInPath(x, y) {\n        return this._context.isPointInPath(x, y);\n    }\n    fill(path2d) {\n        if (path2d) {\n            this._context.fill(path2d);\n        }\n        else {\n            this._context.fill();\n        }\n    }\n    fillRect(x, y, width, height) {\n        this._context.fillRect(x, y, width, height);\n    }\n    strokeRect(x, y, width, height) {\n        this._context.strokeRect(x, y, width, height);\n    }\n    fillText(text, x, y, maxWidth) {\n        if (maxWidth) {\n            this._context.fillText(text, x, y, maxWidth);\n        }\n        else {\n            this._context.fillText(text, x, y);\n        }\n    }\n    measureText(text) {\n        return this._context.measureText(text);\n    }\n    getImageData(a0, a1, a2, a3) {\n        return this._context.getImageData(a0, a1, a2, a3);\n    }\n    lineTo(a0, a1) {\n        this._context.lineTo(a0, a1);\n    }\n    moveTo(a0, a1) {\n        this._context.moveTo(a0, a1);\n    }\n    rect(a0, a1, a2, a3) {\n        this._context.rect(a0, a1, a2, a3);\n    }\n    putImageData(a0, a1, a2) {\n        this._context.putImageData(a0, a1, a2);\n    }\n    quadraticCurveTo(a0, a1, a2, a3) {\n        this._context.quadraticCurveTo(a0, a1, a2, a3);\n    }\n    restore() {\n        this._context.restore();\n    }\n    rotate(a0) {\n        this._context.rotate(a0);\n    }\n    save() {\n        this._context.save();\n    }\n    scale(a0, a1) {\n        this._context.scale(a0, a1);\n    }\n    setLineDash(a0) {\n        if (this._context.setLineDash) {\n            this._context.setLineDash(a0);\n        }\n        else if ('mozDash' in this._context) {\n            this._context['mozDash'] = a0;\n        }\n        else if ('webkitLineDash' in this._context) {\n            this._context['webkitLineDash'] = a0;\n        }\n    }\n    getLineDash() {\n        return this._context.getLineDash();\n    }\n    setTransform(a0, a1, a2, a3, a4, a5) {\n        this._context.setTransform(a0, a1, a2, a3, a4, a5);\n    }\n    stroke(path2d) {\n        if (path2d) {\n            this._context.stroke(path2d);\n        }\n        else {\n            this._context.stroke();\n        }\n    }\n    strokeText(a0, a1, a2, a3) {\n        this._context.strokeText(a0, a1, a2, a3);\n    }\n    transform(a0, a1, a2, a3, a4, a5) {\n        this._context.transform(a0, a1, a2, a3, a4, a5);\n    }\n    translate(a0, a1) {\n        this._context.translate(a0, a1);\n    }\n    _enableTrace() {\n        var that = this, len = CONTEXT_METHODS.length, origSetter = this.setAttr, n, args;\n        var func = function (methodName) {\n            var origMethod = that[methodName], ret;\n            that[methodName] = function () {\n                args = simplifyArray(Array.prototype.slice.call(arguments, 0));\n                ret = origMethod.apply(that, arguments);\n                that._trace({\n                    method: methodName,\n                    args: args,\n                });\n                return ret;\n            };\n        };\n        for (n = 0; n < len; n++) {\n            func(CONTEXT_METHODS[n]);\n        }\n        that.setAttr = function () {\n            origSetter.apply(that, arguments);\n            var prop = arguments[0];\n            var val = arguments[1];\n            if (prop === 'shadowOffsetX' ||\n                prop === 'shadowOffsetY' ||\n                prop === 'shadowBlur') {\n                val = val / this.canvas.getPixelRatio();\n            }\n            that._trace({\n                property: prop,\n                val: val,\n            });\n        };\n    }\n    _applyGlobalCompositeOperation(node) {\n        const op = node.attrs.globalCompositeOperation;\n        var def = !op || op === 'source-over';\n        if (!def) {\n            this.setAttr('globalCompositeOperation', op);\n        }\n    }\n}\nCONTEXT_PROPERTIES.forEach(function (prop) {\n    Object.defineProperty(Context.prototype, prop, {\n        get() {\n            return this._context[prop];\n        },\n        set(val) {\n            this._context[prop] = val;\n        },\n    });\n});\nexport class SceneContext extends Context {\n    _fillColor(shape) {\n        var fill = shape.fill();\n        this.setAttr('fillStyle', fill);\n        shape._fillFunc(this);\n    }\n    _fillPattern(shape) {\n        this.setAttr('fillStyle', shape._getFillPattern());\n        shape._fillFunc(this);\n    }\n    _fillLinearGradient(shape) {\n        var grd = shape._getLinearGradient();\n        if (grd) {\n            this.setAttr('fillStyle', grd);\n            shape._fillFunc(this);\n        }\n    }\n    _fillRadialGradient(shape) {\n        var grd = shape._getRadialGradient();\n        if (grd) {\n            this.setAttr('fillStyle', grd);\n            shape._fillFunc(this);\n        }\n    }\n    _fill(shape) {\n        var hasColor = shape.fill(), fillPriority = shape.getFillPriority();\n        if (hasColor && fillPriority === 'color') {\n            this._fillColor(shape);\n            return;\n        }\n        var hasPattern = shape.getFillPatternImage();\n        if (hasPattern && fillPriority === 'pattern') {\n            this._fillPattern(shape);\n            return;\n        }\n        var hasLinearGradient = shape.getFillLinearGradientColorStops();\n        if (hasLinearGradient && fillPriority === 'linear-gradient') {\n            this._fillLinearGradient(shape);\n            return;\n        }\n        var hasRadialGradient = shape.getFillRadialGradientColorStops();\n        if (hasRadialGradient && fillPriority === 'radial-gradient') {\n            this._fillRadialGradient(shape);\n            return;\n        }\n        if (hasColor) {\n            this._fillColor(shape);\n        }\n        else if (hasPattern) {\n            this._fillPattern(shape);\n        }\n        else if (hasLinearGradient) {\n            this._fillLinearGradient(shape);\n        }\n        else if (hasRadialGradient) {\n            this._fillRadialGradient(shape);\n        }\n    }\n    _strokeLinearGradient(shape) {\n        var start = shape.getStrokeLinearGradientStartPoint(), end = shape.getStrokeLinearGradientEndPoint(), colorStops = shape.getStrokeLinearGradientColorStops(), grd = this.createLinearGradient(start.x, start.y, end.x, end.y);\n        if (colorStops) {\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            this.setAttr('strokeStyle', grd);\n        }\n    }\n    _stroke(shape) {\n        var dash = shape.dash(), strokeScaleEnabled = shape.getStrokeScaleEnabled();\n        if (shape.hasStroke()) {\n            if (!strokeScaleEnabled) {\n                this.save();\n                var pixelRatio = this.getCanvas().getPixelRatio();\n                this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n            }\n            this._applyLineCap(shape);\n            if (dash && shape.dashEnabled()) {\n                this.setLineDash(dash);\n                this.setAttr('lineDashOffset', shape.dashOffset());\n            }\n            this.setAttr('lineWidth', shape.strokeWidth());\n            if (!shape.getShadowForStrokeEnabled()) {\n                this.setAttr('shadowColor', 'rgba(0,0,0,0)');\n            }\n            var hasLinearGradient = shape.getStrokeLinearGradientColorStops();\n            if (hasLinearGradient) {\n                this._strokeLinearGradient(shape);\n            }\n            else {\n                this.setAttr('strokeStyle', shape.stroke());\n            }\n            shape._strokeFunc(this);\n            if (!strokeScaleEnabled) {\n                this.restore();\n            }\n        }\n    }\n    _applyShadow(shape) {\n        var _a, _b, _c;\n        var color = (_a = shape.getShadowRGBA()) !== null && _a !== void 0 ? _a : 'black', blur = (_b = shape.getShadowBlur()) !== null && _b !== void 0 ? _b : 5, offset = (_c = shape.getShadowOffset()) !== null && _c !== void 0 ? _c : {\n            x: 0,\n            y: 0,\n        }, scale = shape.getAbsoluteScale(), ratio = this.canvas.getPixelRatio(), scaleX = scale.x * ratio, scaleY = scale.y * ratio;\n        this.setAttr('shadowColor', color);\n        this.setAttr('shadowBlur', blur * Math.min(Math.abs(scaleX), Math.abs(scaleY)));\n        this.setAttr('shadowOffsetX', offset.x * scaleX);\n        this.setAttr('shadowOffsetY', offset.y * scaleY);\n    }\n}\nexport class HitContext extends Context {\n    _fill(shape) {\n        this.save();\n        this.setAttr('fillStyle', shape.colorKey);\n        shape._fillFuncHit(this);\n        this.restore();\n    }\n    strokeShape(shape) {\n        if (shape.hasHitStroke()) {\n            this._stroke(shape);\n        }\n    }\n    _stroke(shape) {\n        if (shape.hasHitStroke()) {\n            var strokeScaleEnabled = shape.getStrokeScaleEnabled();\n            if (!strokeScaleEnabled) {\n                this.save();\n                var pixelRatio = this.getCanvas().getPixelRatio();\n                this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n            }\n            this._applyLineCap(shape);\n            var hitStrokeWidth = shape.hitStrokeWidth();\n            var strokeWidth = hitStrokeWidth === 'auto' ? shape.strokeWidth() : hitStrokeWidth;\n            this.setAttr('lineWidth', strokeWidth);\n            this.setAttr('strokeStyle', shape.colorKey);\n            shape._strokeFuncHit(this);\n            if (!strokeScaleEnabled) {\n                this.restore();\n            }\n        }\n    }\n}\n","import { Util } from './Util.js';\nimport { SceneContext, HitContext } from './Context.js';\nimport { Konva } from './Global.js';\nimport { Factory } from './Factory.js';\nimport { getNumberValidator } from './Validators.js';\nvar _pixelRatio;\nfunction getDevicePixelRatio() {\n    if (_pixelRatio) {\n        return _pixelRatio;\n    }\n    var canvas = Util.createCanvasElement();\n    var context = canvas.getContext('2d');\n    _pixelRatio = (function () {\n        var devicePixelRatio = Konva._global.devicePixelRatio || 1, backingStoreRatio = context.webkitBackingStorePixelRatio ||\n            context.mozBackingStorePixelRatio ||\n            context.msBackingStorePixelRatio ||\n            context.oBackingStorePixelRatio ||\n            context.backingStorePixelRatio ||\n            1;\n        return devicePixelRatio / backingStoreRatio;\n    })();\n    return _pixelRatio;\n}\nexport class Canvas {\n    constructor(config) {\n        this.pixelRatio = 1;\n        this.width = 0;\n        this.height = 0;\n        this.isCache = false;\n        var conf = config || {};\n        var pixelRatio = conf.pixelRatio || Konva.pixelRatio || getDevicePixelRatio();\n        this.pixelRatio = pixelRatio;\n        this._canvas = Util.createCanvasElement();\n        this._canvas.style.padding = '0';\n        this._canvas.style.margin = '0';\n        this._canvas.style.border = '0';\n        this._canvas.style.background = 'transparent';\n        this._canvas.style.position = 'absolute';\n        this._canvas.style.top = '0';\n        this._canvas.style.left = '0';\n    }\n    getContext() {\n        return this.context;\n    }\n    getPixelRatio() {\n        return this.pixelRatio;\n    }\n    setPixelRatio(pixelRatio) {\n        var previousRatio = this.pixelRatio;\n        this.pixelRatio = pixelRatio;\n        this.setSize(this.getWidth() / previousRatio, this.getHeight() / previousRatio);\n    }\n    setWidth(width) {\n        this.width = this._canvas.width = width * this.pixelRatio;\n        this._canvas.style.width = width + 'px';\n        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    }\n    setHeight(height) {\n        this.height = this._canvas.height = height * this.pixelRatio;\n        this._canvas.style.height = height + 'px';\n        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    }\n    getWidth() {\n        return this.width;\n    }\n    getHeight() {\n        return this.height;\n    }\n    setSize(width, height) {\n        this.setWidth(width || 0);\n        this.setHeight(height || 0);\n    }\n    toDataURL(mimeType, quality) {\n        try {\n            return this._canvas.toDataURL(mimeType, quality);\n        }\n        catch (e) {\n            try {\n                return this._canvas.toDataURL();\n            }\n            catch (err) {\n                Util.error('Unable to get data URL. ' +\n                    err.message +\n                    ' For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n                return '';\n            }\n        }\n    }\n}\nFactory.addGetterSetter(Canvas, 'pixelRatio', undefined, getNumberValidator());\nexport class SceneCanvas extends Canvas {\n    constructor(config = { width: 0, height: 0 }) {\n        super(config);\n        this.context = new SceneContext(this);\n        this.setSize(config.width, config.height);\n    }\n}\nexport class HitCanvas extends Canvas {\n    constructor(config = { width: 0, height: 0 }) {\n        super(config);\n        this.hitCanvas = true;\n        this.context = new HitContext(this);\n        this.setSize(config.width, config.height);\n    }\n}\n","import { Konva } from './Global.js';\nimport { Util } from './Util.js';\nexport const DD = {\n    get isDragging() {\n        var flag = false;\n        DD._dragElements.forEach((elem) => {\n            if (elem.dragStatus === 'dragging') {\n                flag = true;\n            }\n        });\n        return flag;\n    },\n    justDragged: false,\n    get node() {\n        var node;\n        DD._dragElements.forEach((elem) => {\n            node = elem.node;\n        });\n        return node;\n    },\n    _dragElements: new Map(),\n    _drag(evt) {\n        const nodesToFireEvents = [];\n        DD._dragElements.forEach((elem, key) => {\n            const { node } = elem;\n            const stage = node.getStage();\n            stage.setPointersPositions(evt);\n            if (elem.pointerId === undefined) {\n                elem.pointerId = Util._getFirstPointerId(evt);\n            }\n            const pos = stage._changedPointerPositions.find((pos) => pos.id === elem.pointerId);\n            if (!pos) {\n                return;\n            }\n            if (elem.dragStatus !== 'dragging') {\n                var dragDistance = node.dragDistance();\n                var distance = Math.max(Math.abs(pos.x - elem.startPointerPos.x), Math.abs(pos.y - elem.startPointerPos.y));\n                if (distance < dragDistance) {\n                    return;\n                }\n                node.startDrag({ evt });\n                if (!node.isDragging()) {\n                    return;\n                }\n            }\n            node._setDragPosition(evt, elem);\n            nodesToFireEvents.push(node);\n        });\n        nodesToFireEvents.forEach((node) => {\n            node.fire('dragmove', {\n                type: 'dragmove',\n                target: node,\n                evt: evt,\n            }, true);\n        });\n    },\n    _endDragBefore(evt) {\n        DD._dragElements.forEach((elem) => {\n            const { node } = elem;\n            const stage = node.getStage();\n            if (evt) {\n                stage.setPointersPositions(evt);\n            }\n            const pos = stage._changedPointerPositions.find((pos) => pos.id === elem.pointerId);\n            if (!pos) {\n                return;\n            }\n            if (elem.dragStatus === 'dragging' || elem.dragStatus === 'stopped') {\n                DD.justDragged = true;\n                Konva._mouseListenClick = false;\n                Konva._touchListenClick = false;\n                Konva._pointerListenClick = false;\n                elem.dragStatus = 'stopped';\n            }\n            const drawNode = elem.node.getLayer() ||\n                (elem.node instanceof Konva['Stage'] && elem.node);\n            if (drawNode) {\n                drawNode.batchDraw();\n            }\n        });\n    },\n    _endDragAfter(evt) {\n        DD._dragElements.forEach((elem, key) => {\n            if (elem.dragStatus === 'stopped') {\n                elem.node.fire('dragend', {\n                    type: 'dragend',\n                    target: elem.node,\n                    evt: evt,\n                }, true);\n            }\n            if (elem.dragStatus !== 'dragging') {\n                DD._dragElements.delete(key);\n            }\n        });\n    },\n};\nif (Konva.isBrowser) {\n    window.addEventListener('mouseup', DD._endDragBefore, true);\n    window.addEventListener('touchend', DD._endDragBefore, true);\n    window.addEventListener('mousemove', DD._drag);\n    window.addEventListener('touchmove', DD._drag);\n    window.addEventListener('mouseup', DD._endDragAfter, false);\n    window.addEventListener('touchend', DD._endDragAfter, false);\n}\n","import { Util, Transform } from './Util.js';\nimport { Factory } from './Factory.js';\nimport { SceneCanvas, HitCanvas } from './Canvas.js';\nimport { Konva } from './Global.js';\nimport { DD } from './DragAndDrop.js';\nimport { getNumberValidator, getStringValidator, getBooleanValidator, } from './Validators.js';\nvar ABSOLUTE_OPACITY = 'absoluteOpacity', ALL_LISTENERS = 'allEventListeners', ABSOLUTE_TRANSFORM = 'absoluteTransform', ABSOLUTE_SCALE = 'absoluteScale', CANVAS = 'canvas', CHANGE = 'Change', CHILDREN = 'children', KONVA = 'konva', LISTENING = 'listening', MOUSEENTER = 'mouseenter', MOUSELEAVE = 'mouseleave', NAME = 'name', SET = 'set', SHAPE = 'Shape', SPACE = ' ', STAGE = 'stage', TRANSFORM = 'transform', UPPER_STAGE = 'Stage', VISIBLE = 'visible', TRANSFORM_CHANGE_STR = [\n    'xChange.konva',\n    'yChange.konva',\n    'scaleXChange.konva',\n    'scaleYChange.konva',\n    'skewXChange.konva',\n    'skewYChange.konva',\n    'rotationChange.konva',\n    'offsetXChange.konva',\n    'offsetYChange.konva',\n    'transformsEnabledChange.konva',\n].join(SPACE);\nlet idCounter = 1;\nexport class Node {\n    constructor(config) {\n        this._id = idCounter++;\n        this.eventListeners = {};\n        this.attrs = {};\n        this.index = 0;\n        this._allEventListeners = null;\n        this.parent = null;\n        this._cache = new Map();\n        this._attachedDepsListeners = new Map();\n        this._lastPos = null;\n        this._batchingTransformChange = false;\n        this._needClearTransformCache = false;\n        this._filterUpToDate = false;\n        this._isUnderCache = false;\n        this._dragEventId = null;\n        this._shouldFireChangeEvents = false;\n        this.setAttrs(config);\n        this._shouldFireChangeEvents = true;\n    }\n    hasChildren() {\n        return false;\n    }\n    _clearCache(attr) {\n        if ((attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM) &&\n            this._cache.get(attr)) {\n            this._cache.get(attr).dirty = true;\n        }\n        else if (attr) {\n            this._cache.delete(attr);\n        }\n        else {\n            this._cache.clear();\n        }\n    }\n    _getCache(attr, privateGetter) {\n        var cache = this._cache.get(attr);\n        var isTransform = attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM;\n        var invalid = cache === undefined || (isTransform && cache.dirty === true);\n        if (invalid) {\n            cache = privateGetter.call(this);\n            this._cache.set(attr, cache);\n        }\n        return cache;\n    }\n    _calculate(name, deps, getter) {\n        if (!this._attachedDepsListeners.get(name)) {\n            const depsString = deps.map((dep) => dep + 'Change.konva').join(SPACE);\n            this.on(depsString, () => {\n                this._clearCache(name);\n            });\n            this._attachedDepsListeners.set(name, true);\n        }\n        return this._getCache(name, getter);\n    }\n    _getCanvasCache() {\n        return this._cache.get(CANVAS);\n    }\n    _clearSelfAndDescendantCache(attr) {\n        this._clearCache(attr);\n        if (attr === ABSOLUTE_TRANSFORM) {\n            this.fire('absoluteTransformChange');\n        }\n    }\n    clearCache() {\n        this._cache.delete(CANVAS);\n        this._clearSelfAndDescendantCache();\n        this._requestDraw();\n        return this;\n    }\n    cache(config) {\n        var conf = config || {};\n        var rect = {};\n        if (conf.x === undefined ||\n            conf.y === undefined ||\n            conf.width === undefined ||\n            conf.height === undefined) {\n            rect = this.getClientRect({\n                skipTransform: true,\n                relativeTo: this.getParent(),\n            });\n        }\n        var width = Math.ceil(conf.width || rect.width), height = Math.ceil(conf.height || rect.height), pixelRatio = conf.pixelRatio, x = conf.x === undefined ? Math.floor(rect.x) : conf.x, y = conf.y === undefined ? Math.floor(rect.y) : conf.y, offset = conf.offset || 0, drawBorder = conf.drawBorder || false, hitCanvasPixelRatio = conf.hitCanvasPixelRatio || 1;\n        if (!width || !height) {\n            Util.error('Can not cache the node. Width or height of the node equals 0. Caching is skipped.');\n            return;\n        }\n        width += offset * 2 + 1;\n        height += offset * 2 + 1;\n        x -= offset;\n        y -= offset;\n        var cachedSceneCanvas = new SceneCanvas({\n            pixelRatio: pixelRatio,\n            width: width,\n            height: height,\n        }), cachedFilterCanvas = new SceneCanvas({\n            pixelRatio: pixelRatio,\n            width: 0,\n            height: 0,\n        }), cachedHitCanvas = new HitCanvas({\n            pixelRatio: hitCanvasPixelRatio,\n            width: width,\n            height: height,\n        }), sceneContext = cachedSceneCanvas.getContext(), hitContext = cachedHitCanvas.getContext();\n        cachedHitCanvas.isCache = true;\n        cachedSceneCanvas.isCache = true;\n        this._cache.delete(CANVAS);\n        this._filterUpToDate = false;\n        if (conf.imageSmoothingEnabled === false) {\n            cachedSceneCanvas.getContext()._context.imageSmoothingEnabled = false;\n            cachedFilterCanvas.getContext()._context.imageSmoothingEnabled = false;\n        }\n        sceneContext.save();\n        hitContext.save();\n        sceneContext.translate(-x, -y);\n        hitContext.translate(-x, -y);\n        this._isUnderCache = true;\n        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n        this.drawScene(cachedSceneCanvas, this);\n        this.drawHit(cachedHitCanvas, this);\n        this._isUnderCache = false;\n        sceneContext.restore();\n        hitContext.restore();\n        if (drawBorder) {\n            sceneContext.save();\n            sceneContext.beginPath();\n            sceneContext.rect(0, 0, width, height);\n            sceneContext.closePath();\n            sceneContext.setAttr('strokeStyle', 'red');\n            sceneContext.setAttr('lineWidth', 5);\n            sceneContext.stroke();\n            sceneContext.restore();\n        }\n        this._cache.set(CANVAS, {\n            scene: cachedSceneCanvas,\n            filter: cachedFilterCanvas,\n            hit: cachedHitCanvas,\n            x: x,\n            y: y,\n        });\n        this._requestDraw();\n        return this;\n    }\n    isCached() {\n        return this._cache.has(CANVAS);\n    }\n    getClientRect(config) {\n        throw new Error('abstract \"getClientRect\" method call');\n    }\n    _transformedRect(rect, top) {\n        var points = [\n            { x: rect.x, y: rect.y },\n            { x: rect.x + rect.width, y: rect.y },\n            { x: rect.x + rect.width, y: rect.y + rect.height },\n            { x: rect.x, y: rect.y + rect.height },\n        ];\n        var minX, minY, maxX, maxY;\n        var trans = this.getAbsoluteTransform(top);\n        points.forEach(function (point) {\n            var transformed = trans.point(point);\n            if (minX === undefined) {\n                minX = maxX = transformed.x;\n                minY = maxY = transformed.y;\n            }\n            minX = Math.min(minX, transformed.x);\n            minY = Math.min(minY, transformed.y);\n            maxX = Math.max(maxX, transformed.x);\n            maxY = Math.max(maxY, transformed.y);\n        });\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    _drawCachedSceneCanvas(context) {\n        context.save();\n        context._applyOpacity(this);\n        context._applyGlobalCompositeOperation(this);\n        const canvasCache = this._getCanvasCache();\n        context.translate(canvasCache.x, canvasCache.y);\n        var cacheCanvas = this._getCachedSceneCanvas();\n        var ratio = cacheCanvas.pixelRatio;\n        context.drawImage(cacheCanvas._canvas, 0, 0, cacheCanvas.width / ratio, cacheCanvas.height / ratio);\n        context.restore();\n    }\n    _drawCachedHitCanvas(context) {\n        var canvasCache = this._getCanvasCache(), hitCanvas = canvasCache.hit;\n        context.save();\n        context.translate(canvasCache.x, canvasCache.y);\n        context.drawImage(hitCanvas._canvas, 0, 0, hitCanvas.width / hitCanvas.pixelRatio, hitCanvas.height / hitCanvas.pixelRatio);\n        context.restore();\n    }\n    _getCachedSceneCanvas() {\n        var filters = this.filters(), cachedCanvas = this._getCanvasCache(), sceneCanvas = cachedCanvas.scene, filterCanvas = cachedCanvas.filter, filterContext = filterCanvas.getContext(), len, imageData, n, filter;\n        if (filters) {\n            if (!this._filterUpToDate) {\n                var ratio = sceneCanvas.pixelRatio;\n                filterCanvas.setSize(sceneCanvas.width / sceneCanvas.pixelRatio, sceneCanvas.height / sceneCanvas.pixelRatio);\n                try {\n                    len = filters.length;\n                    filterContext.clear();\n                    filterContext.drawImage(sceneCanvas._canvas, 0, 0, sceneCanvas.getWidth() / ratio, sceneCanvas.getHeight() / ratio);\n                    imageData = filterContext.getImageData(0, 0, filterCanvas.getWidth(), filterCanvas.getHeight());\n                    for (n = 0; n < len; n++) {\n                        filter = filters[n];\n                        if (typeof filter !== 'function') {\n                            Util.error('Filter should be type of function, but got ' +\n                                typeof filter +\n                                ' instead. Please check correct filters');\n                            continue;\n                        }\n                        filter.call(this, imageData);\n                        filterContext.putImageData(imageData, 0, 0);\n                    }\n                }\n                catch (e) {\n                    Util.error('Unable to apply filter. ' +\n                        e.message +\n                        ' This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n                }\n                this._filterUpToDate = true;\n            }\n            return filterCanvas;\n        }\n        return sceneCanvas;\n    }\n    on(evtStr, handler) {\n        this._cache && this._cache.delete(ALL_LISTENERS);\n        if (arguments.length === 3) {\n            return this._delegate.apply(this, arguments);\n        }\n        var events = evtStr.split(SPACE), len = events.length, n, event, parts, baseEvent, name;\n        for (n = 0; n < len; n++) {\n            event = events[n];\n            parts = event.split('.');\n            baseEvent = parts[0];\n            name = parts[1] || '';\n            if (!this.eventListeners[baseEvent]) {\n                this.eventListeners[baseEvent] = [];\n            }\n            this.eventListeners[baseEvent].push({\n                name: name,\n                handler: handler,\n            });\n        }\n        return this;\n    }\n    off(evtStr, callback) {\n        var events = (evtStr || '').split(SPACE), len = events.length, n, t, event, parts, baseEvent, name;\n        this._cache && this._cache.delete(ALL_LISTENERS);\n        if (!evtStr) {\n            for (t in this.eventListeners) {\n                this._off(t);\n            }\n        }\n        for (n = 0; n < len; n++) {\n            event = events[n];\n            parts = event.split('.');\n            baseEvent = parts[0];\n            name = parts[1];\n            if (baseEvent) {\n                if (this.eventListeners[baseEvent]) {\n                    this._off(baseEvent, name, callback);\n                }\n            }\n            else {\n                for (t in this.eventListeners) {\n                    this._off(t, name, callback);\n                }\n            }\n        }\n        return this;\n    }\n    dispatchEvent(evt) {\n        var e = {\n            target: this,\n            type: evt.type,\n            evt: evt,\n        };\n        this.fire(evt.type, e);\n        return this;\n    }\n    addEventListener(type, handler) {\n        this.on(type, function (evt) {\n            handler.call(this, evt.evt);\n        });\n        return this;\n    }\n    removeEventListener(type) {\n        this.off(type);\n        return this;\n    }\n    _delegate(event, selector, handler) {\n        var stopNode = this;\n        this.on(event, function (evt) {\n            var targets = evt.target.findAncestors(selector, true, stopNode);\n            for (var i = 0; i < targets.length; i++) {\n                evt = Util.cloneObject(evt);\n                evt.currentTarget = targets[i];\n                handler.call(targets[i], evt);\n            }\n        });\n    }\n    remove() {\n        if (this.isDragging()) {\n            this.stopDrag();\n        }\n        DD._dragElements.delete(this._id);\n        this._remove();\n        return this;\n    }\n    _clearCaches() {\n        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n        this._clearSelfAndDescendantCache(STAGE);\n        this._clearSelfAndDescendantCache(VISIBLE);\n        this._clearSelfAndDescendantCache(LISTENING);\n    }\n    _remove() {\n        this._clearCaches();\n        var parent = this.getParent();\n        if (parent && parent.children) {\n            parent.children.splice(this.index, 1);\n            parent._setChildrenIndices();\n            this.parent = null;\n        }\n    }\n    destroy() {\n        this.remove();\n        return this;\n    }\n    getAttr(attr) {\n        var method = 'get' + Util._capitalize(attr);\n        if (Util._isFunction(this[method])) {\n            return this[method]();\n        }\n        return this.attrs[attr];\n    }\n    getAncestors() {\n        var parent = this.getParent(), ancestors = [];\n        while (parent) {\n            ancestors.push(parent);\n            parent = parent.getParent();\n        }\n        return ancestors;\n    }\n    getAttrs() {\n        return this.attrs || {};\n    }\n    setAttrs(config) {\n        this._batchTransformChanges(() => {\n            var key, method;\n            if (!config) {\n                return this;\n            }\n            for (key in config) {\n                if (key === CHILDREN) {\n                    continue;\n                }\n                method = SET + Util._capitalize(key);\n                if (Util._isFunction(this[method])) {\n                    this[method](config[key]);\n                }\n                else {\n                    this._setAttr(key, config[key]);\n                }\n            }\n        });\n        return this;\n    }\n    isListening() {\n        return this._getCache(LISTENING, this._isListening);\n    }\n    _isListening(relativeTo) {\n        const listening = this.listening();\n        if (!listening) {\n            return false;\n        }\n        const parent = this.getParent();\n        if (parent && parent !== relativeTo && this !== relativeTo) {\n            return parent._isListening(relativeTo);\n        }\n        else {\n            return true;\n        }\n    }\n    isVisible() {\n        return this._getCache(VISIBLE, this._isVisible);\n    }\n    _isVisible(relativeTo) {\n        const visible = this.visible();\n        if (!visible) {\n            return false;\n        }\n        const parent = this.getParent();\n        if (parent && parent !== relativeTo && this !== relativeTo) {\n            return parent._isVisible(relativeTo);\n        }\n        else {\n            return true;\n        }\n    }\n    shouldDrawHit(top, skipDragCheck = false) {\n        if (top) {\n            return this._isVisible(top) && this._isListening(top);\n        }\n        var layer = this.getLayer();\n        var layerUnderDrag = false;\n        DD._dragElements.forEach((elem) => {\n            if (elem.dragStatus !== 'dragging') {\n                return;\n            }\n            else if (elem.node.nodeType === 'Stage') {\n                layerUnderDrag = true;\n            }\n            else if (elem.node.getLayer() === layer) {\n                layerUnderDrag = true;\n            }\n        });\n        var dragSkip = !skipDragCheck && !Konva.hitOnDragEnabled && layerUnderDrag;\n        return this.isListening() && this.isVisible() && !dragSkip;\n    }\n    show() {\n        this.visible(true);\n        return this;\n    }\n    hide() {\n        this.visible(false);\n        return this;\n    }\n    getZIndex() {\n        return this.index || 0;\n    }\n    getAbsoluteZIndex() {\n        var depth = this.getDepth(), that = this, index = 0, nodes, len, n, child;\n        function addChildren(children) {\n            nodes = [];\n            len = children.length;\n            for (n = 0; n < len; n++) {\n                child = children[n];\n                index++;\n                if (child.nodeType !== SHAPE) {\n                    nodes = nodes.concat(child.getChildren().slice());\n                }\n                if (child._id === that._id) {\n                    n = len;\n                }\n            }\n            if (nodes.length > 0 && nodes[0].getDepth() <= depth) {\n                addChildren(nodes);\n            }\n        }\n        if (that.nodeType !== UPPER_STAGE) {\n            addChildren(that.getStage().getChildren());\n        }\n        return index;\n    }\n    getDepth() {\n        var depth = 0, parent = this.parent;\n        while (parent) {\n            depth++;\n            parent = parent.parent;\n        }\n        return depth;\n    }\n    _batchTransformChanges(func) {\n        this._batchingTransformChange = true;\n        func();\n        this._batchingTransformChange = false;\n        if (this._needClearTransformCache) {\n            this._clearCache(TRANSFORM);\n            this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        }\n        this._needClearTransformCache = false;\n    }\n    setPosition(pos) {\n        this._batchTransformChanges(() => {\n            this.x(pos.x);\n            this.y(pos.y);\n        });\n        return this;\n    }\n    getPosition() {\n        return {\n            x: this.x(),\n            y: this.y(),\n        };\n    }\n    getRelativePointerPosition() {\n        if (!this.getStage()) {\n            return null;\n        }\n        var pos = this.getStage().getPointerPosition();\n        if (!pos) {\n            return null;\n        }\n        var transform = this.getAbsoluteTransform().copy();\n        transform.invert();\n        return transform.point(pos);\n    }\n    getAbsolutePosition(top) {\n        let haveCachedParent = false;\n        let parent = this.parent;\n        while (parent) {\n            if (parent.isCached()) {\n                haveCachedParent = true;\n                break;\n            }\n            parent = parent.parent;\n        }\n        if (haveCachedParent && !top) {\n            top = true;\n        }\n        var absoluteMatrix = this.getAbsoluteTransform(top).getMatrix(), absoluteTransform = new Transform(), offset = this.offset();\n        absoluteTransform.m = absoluteMatrix.slice();\n        absoluteTransform.translate(offset.x, offset.y);\n        return absoluteTransform.getTranslation();\n    }\n    setAbsolutePosition(pos) {\n        var origTrans = this._clearTransform();\n        this.attrs.x = origTrans.x;\n        this.attrs.y = origTrans.y;\n        delete origTrans.x;\n        delete origTrans.y;\n        this._clearCache(TRANSFORM);\n        var it = this._getAbsoluteTransform().copy();\n        it.invert();\n        it.translate(pos.x, pos.y);\n        pos = {\n            x: this.attrs.x + it.getTranslation().x,\n            y: this.attrs.y + it.getTranslation().y,\n        };\n        this._setTransform(origTrans);\n        this.setPosition({ x: pos.x, y: pos.y });\n        this._clearCache(TRANSFORM);\n        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        return this;\n    }\n    _setTransform(trans) {\n        var key;\n        for (key in trans) {\n            this.attrs[key] = trans[key];\n        }\n    }\n    _clearTransform() {\n        var trans = {\n            x: this.x(),\n            y: this.y(),\n            rotation: this.rotation(),\n            scaleX: this.scaleX(),\n            scaleY: this.scaleY(),\n            offsetX: this.offsetX(),\n            offsetY: this.offsetY(),\n            skewX: this.skewX(),\n            skewY: this.skewY(),\n        };\n        this.attrs.x = 0;\n        this.attrs.y = 0;\n        this.attrs.rotation = 0;\n        this.attrs.scaleX = 1;\n        this.attrs.scaleY = 1;\n        this.attrs.offsetX = 0;\n        this.attrs.offsetY = 0;\n        this.attrs.skewX = 0;\n        this.attrs.skewY = 0;\n        return trans;\n    }\n    move(change) {\n        var changeX = change.x, changeY = change.y, x = this.x(), y = this.y();\n        if (changeX !== undefined) {\n            x += changeX;\n        }\n        if (changeY !== undefined) {\n            y += changeY;\n        }\n        this.setPosition({ x: x, y: y });\n        return this;\n    }\n    _eachAncestorReverse(func, top) {\n        var family = [], parent = this.getParent(), len, n;\n        if (top && top._id === this._id) {\n            return;\n        }\n        family.unshift(this);\n        while (parent && (!top || parent._id !== top._id)) {\n            family.unshift(parent);\n            parent = parent.parent;\n        }\n        len = family.length;\n        for (n = 0; n < len; n++) {\n            func(family[n]);\n        }\n    }\n    rotate(theta) {\n        this.rotation(this.rotation() + theta);\n        return this;\n    }\n    moveToTop() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveToTop function is ignored.');\n            return false;\n        }\n        var index = this.index, len = this.parent.getChildren().length;\n        if (index < len - 1) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.push(this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveUp() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveUp function is ignored.');\n            return false;\n        }\n        var index = this.index, len = this.parent.getChildren().length;\n        if (index < len - 1) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.splice(index + 1, 0, this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveDown() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveDown function is ignored.');\n            return false;\n        }\n        var index = this.index;\n        if (index > 0) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.splice(index - 1, 0, this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveToBottom() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveToBottom function is ignored.');\n            return false;\n        }\n        var index = this.index;\n        if (index > 0) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.unshift(this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    setZIndex(zIndex) {\n        if (!this.parent) {\n            Util.warn('Node has no parent. zIndex parameter is ignored.');\n            return this;\n        }\n        if (zIndex < 0 || zIndex >= this.parent.children.length) {\n            Util.warn('Unexpected value ' +\n                zIndex +\n                ' for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to ' +\n                (this.parent.children.length - 1) +\n                '.');\n        }\n        var index = this.index;\n        this.parent.children.splice(index, 1);\n        this.parent.children.splice(zIndex, 0, this);\n        this.parent._setChildrenIndices();\n        return this;\n    }\n    getAbsoluteOpacity() {\n        return this._getCache(ABSOLUTE_OPACITY, this._getAbsoluteOpacity);\n    }\n    _getAbsoluteOpacity() {\n        var absOpacity = this.opacity();\n        var parent = this.getParent();\n        if (parent && !parent._isUnderCache) {\n            absOpacity *= parent.getAbsoluteOpacity();\n        }\n        return absOpacity;\n    }\n    moveTo(newContainer) {\n        if (this.getParent() !== newContainer) {\n            this._remove();\n            newContainer.add(this);\n        }\n        return this;\n    }\n    toObject() {\n        var obj = {}, attrs = this.getAttrs(), key, val, getter, defaultValue, nonPlainObject;\n        obj.attrs = {};\n        for (key in attrs) {\n            val = attrs[key];\n            nonPlainObject =\n                Util.isObject(val) && !Util._isPlainObject(val) && !Util._isArray(val);\n            if (nonPlainObject) {\n                continue;\n            }\n            getter = typeof this[key] === 'function' && this[key];\n            delete attrs[key];\n            defaultValue = getter ? getter.call(this) : null;\n            attrs[key] = val;\n            if (defaultValue !== val) {\n                obj.attrs[key] = val;\n            }\n        }\n        obj.className = this.getClassName();\n        return Util._prepareToStringify(obj);\n    }\n    toJSON() {\n        return JSON.stringify(this.toObject());\n    }\n    getParent() {\n        return this.parent;\n    }\n    findAncestors(selector, includeSelf, stopNode) {\n        var res = [];\n        if (includeSelf && this._isMatch(selector)) {\n            res.push(this);\n        }\n        var ancestor = this.parent;\n        while (ancestor) {\n            if (ancestor === stopNode) {\n                return res;\n            }\n            if (ancestor._isMatch(selector)) {\n                res.push(ancestor);\n            }\n            ancestor = ancestor.parent;\n        }\n        return res;\n    }\n    isAncestorOf(node) {\n        return false;\n    }\n    findAncestor(selector, includeSelf, stopNode) {\n        return this.findAncestors(selector, includeSelf, stopNode)[0];\n    }\n    _isMatch(selector) {\n        if (!selector) {\n            return false;\n        }\n        if (typeof selector === 'function') {\n            return selector(this);\n        }\n        var selectorArr = selector.replace(/ /g, '').split(','), len = selectorArr.length, n, sel;\n        for (n = 0; n < len; n++) {\n            sel = selectorArr[n];\n            if (!Util.isValidSelector(sel)) {\n                Util.warn('Selector \"' +\n                    sel +\n                    '\" is invalid. Allowed selectors examples are \"#foo\", \".bar\" or \"Group\".');\n                Util.warn('If you have a custom shape with such className, please change it to start with upper letter like \"Triangle\".');\n                Util.warn('Konva is awesome, right?');\n            }\n            if (sel.charAt(0) === '#') {\n                if (this.id() === sel.slice(1)) {\n                    return true;\n                }\n            }\n            else if (sel.charAt(0) === '.') {\n                if (this.hasName(sel.slice(1))) {\n                    return true;\n                }\n            }\n            else if (this.className === sel || this.nodeType === sel) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getLayer() {\n        var parent = this.getParent();\n        return parent ? parent.getLayer() : null;\n    }\n    getStage() {\n        return this._getCache(STAGE, this._getStage);\n    }\n    _getStage() {\n        var parent = this.getParent();\n        if (parent) {\n            return parent.getStage();\n        }\n        else {\n            return undefined;\n        }\n    }\n    fire(eventType, evt = {}, bubble) {\n        evt.target = evt.target || this;\n        if (bubble) {\n            this._fireAndBubble(eventType, evt);\n        }\n        else {\n            this._fire(eventType, evt);\n        }\n        return this;\n    }\n    getAbsoluteTransform(top) {\n        if (top) {\n            return this._getAbsoluteTransform(top);\n        }\n        else {\n            return this._getCache(ABSOLUTE_TRANSFORM, this._getAbsoluteTransform);\n        }\n    }\n    _getAbsoluteTransform(top) {\n        var at;\n        if (top) {\n            at = new Transform();\n            this._eachAncestorReverse(function (node) {\n                var transformsEnabled = node.transformsEnabled();\n                if (transformsEnabled === 'all') {\n                    at.multiply(node.getTransform());\n                }\n                else if (transformsEnabled === 'position') {\n                    at.translate(node.x() - node.offsetX(), node.y() - node.offsetY());\n                }\n            }, top);\n            return at;\n        }\n        else {\n            at = this._cache.get(ABSOLUTE_TRANSFORM) || new Transform();\n            if (this.parent) {\n                this.parent.getAbsoluteTransform().copyInto(at);\n            }\n            else {\n                at.reset();\n            }\n            var transformsEnabled = this.transformsEnabled();\n            if (transformsEnabled === 'all') {\n                at.multiply(this.getTransform());\n            }\n            else if (transformsEnabled === 'position') {\n                const x = this.attrs.x || 0;\n                const y = this.attrs.y || 0;\n                const offsetX = this.attrs.offsetX || 0;\n                const offsetY = this.attrs.offsetY || 0;\n                at.translate(x - offsetX, y - offsetY);\n            }\n            at.dirty = false;\n            return at;\n        }\n    }\n    getAbsoluteScale(top) {\n        var parent = this;\n        while (parent) {\n            if (parent._isUnderCache) {\n                top = parent;\n            }\n            parent = parent.getParent();\n        }\n        const transform = this.getAbsoluteTransform(top);\n        const attrs = transform.decompose();\n        return {\n            x: attrs.scaleX,\n            y: attrs.scaleY,\n        };\n    }\n    getAbsoluteRotation() {\n        return this.getAbsoluteTransform().decompose().rotation;\n    }\n    getTransform() {\n        return this._getCache(TRANSFORM, this._getTransform);\n    }\n    _getTransform() {\n        var _a, _b;\n        var m = this._cache.get(TRANSFORM) || new Transform();\n        m.reset();\n        var x = this.x(), y = this.y(), rotation = Konva.getAngle(this.rotation()), scaleX = (_a = this.attrs.scaleX) !== null && _a !== void 0 ? _a : 1, scaleY = (_b = this.attrs.scaleY) !== null && _b !== void 0 ? _b : 1, skewX = this.attrs.skewX || 0, skewY = this.attrs.skewY || 0, offsetX = this.attrs.offsetX || 0, offsetY = this.attrs.offsetY || 0;\n        if (x !== 0 || y !== 0) {\n            m.translate(x, y);\n        }\n        if (rotation !== 0) {\n            m.rotate(rotation);\n        }\n        if (skewX !== 0 || skewY !== 0) {\n            m.skew(skewX, skewY);\n        }\n        if (scaleX !== 1 || scaleY !== 1) {\n            m.scale(scaleX, scaleY);\n        }\n        if (offsetX !== 0 || offsetY !== 0) {\n            m.translate(-1 * offsetX, -1 * offsetY);\n        }\n        m.dirty = false;\n        return m;\n    }\n    clone(obj) {\n        var attrs = Util.cloneObject(this.attrs), key, allListeners, len, n, listener;\n        for (key in obj) {\n            attrs[key] = obj[key];\n        }\n        var node = new this.constructor(attrs);\n        for (key in this.eventListeners) {\n            allListeners = this.eventListeners[key];\n            len = allListeners.length;\n            for (n = 0; n < len; n++) {\n                listener = allListeners[n];\n                if (listener.name.indexOf(KONVA) < 0) {\n                    if (!node.eventListeners[key]) {\n                        node.eventListeners[key] = [];\n                    }\n                    node.eventListeners[key].push(listener);\n                }\n            }\n        }\n        return node;\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        var box = this.getClientRect();\n        var stage = this.getStage(), x = config.x !== undefined ? config.x : Math.floor(box.x), y = config.y !== undefined ? config.y : Math.floor(box.y), pixelRatio = config.pixelRatio || 1, canvas = new SceneCanvas({\n            width: config.width || Math.ceil(box.width) || (stage ? stage.width() : 0),\n            height: config.height ||\n                Math.ceil(box.height) ||\n                (stage ? stage.height() : 0),\n            pixelRatio: pixelRatio,\n        }), context = canvas.getContext();\n        if (config.imageSmoothingEnabled === false) {\n            context._context.imageSmoothingEnabled = false;\n        }\n        context.save();\n        if (x || y) {\n            context.translate(-1 * x, -1 * y);\n        }\n        this.drawScene(canvas);\n        context.restore();\n        return canvas;\n    }\n    toCanvas(config) {\n        return this._toKonvaCanvas(config)._canvas;\n    }\n    toDataURL(config) {\n        config = config || {};\n        var mimeType = config.mimeType || null, quality = config.quality || null;\n        var url = this._toKonvaCanvas(config).toDataURL(mimeType, quality);\n        if (config.callback) {\n            config.callback(url);\n        }\n        return url;\n    }\n    toImage(config) {\n        if (!config || !config.callback) {\n            throw 'callback required for toImage method config argument';\n        }\n        var callback = config.callback;\n        delete config.callback;\n        Util._urlToImage(this.toDataURL(config), function (img) {\n            callback(img);\n        });\n    }\n    setSize(size) {\n        this.width(size.width);\n        this.height(size.height);\n        return this;\n    }\n    getSize() {\n        return {\n            width: this.width(),\n            height: this.height(),\n        };\n    }\n    getClassName() {\n        return this.className || this.nodeType;\n    }\n    getType() {\n        return this.nodeType;\n    }\n    getDragDistance() {\n        if (this.attrs.dragDistance !== undefined) {\n            return this.attrs.dragDistance;\n        }\n        else if (this.parent) {\n            return this.parent.getDragDistance();\n        }\n        else {\n            return Konva.dragDistance;\n        }\n    }\n    _off(type, name, callback) {\n        var evtListeners = this.eventListeners[type], i, evtName, handler;\n        for (i = 0; i < evtListeners.length; i++) {\n            evtName = evtListeners[i].name;\n            handler = evtListeners[i].handler;\n            if ((evtName !== 'konva' || name === 'konva') &&\n                (!name || evtName === name) &&\n                (!callback || callback === handler)) {\n                evtListeners.splice(i, 1);\n                if (evtListeners.length === 0) {\n                    delete this.eventListeners[type];\n                    break;\n                }\n                i--;\n            }\n        }\n    }\n    _fireChangeEvent(attr, oldVal, newVal) {\n        this._fire(attr + CHANGE, {\n            oldVal: oldVal,\n            newVal: newVal,\n        });\n    }\n    addName(name) {\n        if (!this.hasName(name)) {\n            var oldName = this.name();\n            var newName = oldName ? oldName + ' ' + name : name;\n            this.name(newName);\n        }\n        return this;\n    }\n    hasName(name) {\n        if (!name) {\n            return false;\n        }\n        const fullName = this.name();\n        if (!fullName) {\n            return false;\n        }\n        var names = (fullName || '').split(/\\s/g);\n        return names.indexOf(name) !== -1;\n    }\n    removeName(name) {\n        var names = (this.name() || '').split(/\\s/g);\n        var index = names.indexOf(name);\n        if (index !== -1) {\n            names.splice(index, 1);\n            this.name(names.join(' '));\n        }\n        return this;\n    }\n    setAttr(attr, val) {\n        var func = this[SET + Util._capitalize(attr)];\n        if (Util._isFunction(func)) {\n            func.call(this, val);\n        }\n        else {\n            this._setAttr(attr, val);\n        }\n        return this;\n    }\n    _requestDraw() {\n        if (Konva.autoDrawEnabled) {\n            const drawNode = this.getLayer() || this.getStage();\n            drawNode === null || drawNode === void 0 ? void 0 : drawNode.batchDraw();\n        }\n    }\n    _setAttr(key, val) {\n        var oldVal = this.attrs[key];\n        if (oldVal === val && !Util.isObject(val)) {\n            return;\n        }\n        if (val === undefined || val === null) {\n            delete this.attrs[key];\n        }\n        else {\n            this.attrs[key] = val;\n        }\n        if (this._shouldFireChangeEvents) {\n            this._fireChangeEvent(key, oldVal, val);\n        }\n        this._requestDraw();\n    }\n    _setComponentAttr(key, component, val) {\n        var oldVal;\n        if (val !== undefined) {\n            oldVal = this.attrs[key];\n            if (!oldVal) {\n                this.attrs[key] = this.getAttr(key);\n            }\n            this.attrs[key][component] = val;\n            this._fireChangeEvent(key, oldVal, val);\n        }\n    }\n    _fireAndBubble(eventType, evt, compareShape) {\n        if (evt && this.nodeType === SHAPE) {\n            evt.target = this;\n        }\n        var shouldStop = (eventType === MOUSEENTER || eventType === MOUSELEAVE) &&\n            ((compareShape &&\n                (this === compareShape ||\n                    (this.isAncestorOf && this.isAncestorOf(compareShape)))) ||\n                (this.nodeType === 'Stage' && !compareShape));\n        if (!shouldStop) {\n            this._fire(eventType, evt);\n            var stopBubble = (eventType === MOUSEENTER || eventType === MOUSELEAVE) &&\n                compareShape &&\n                compareShape.isAncestorOf &&\n                compareShape.isAncestorOf(this) &&\n                !compareShape.isAncestorOf(this.parent);\n            if (((evt && !evt.cancelBubble) || !evt) &&\n                this.parent &&\n                this.parent.isListening() &&\n                !stopBubble) {\n                if (compareShape && compareShape.parent) {\n                    this._fireAndBubble.call(this.parent, eventType, evt, compareShape);\n                }\n                else {\n                    this._fireAndBubble.call(this.parent, eventType, evt);\n                }\n            }\n        }\n    }\n    _getProtoListeners(eventType) {\n        let listeners = this._cache.get(ALL_LISTENERS);\n        if (!listeners) {\n            listeners = {};\n            let obj = Object.getPrototypeOf(this);\n            while (obj) {\n                if (!obj.eventListeners) {\n                    obj = Object.getPrototypeOf(obj);\n                    continue;\n                }\n                for (var event in obj.eventListeners) {\n                    const newEvents = obj.eventListeners[event];\n                    const oldEvents = listeners[event] || [];\n                    listeners[event] = newEvents.concat(oldEvents);\n                }\n                obj = Object.getPrototypeOf(obj);\n            }\n            this._cache.set(ALL_LISTENERS, listeners);\n        }\n        return listeners[eventType];\n    }\n    _fire(eventType, evt) {\n        evt = evt || {};\n        evt.currentTarget = this;\n        evt.type = eventType;\n        const topListeners = this._getProtoListeners(eventType);\n        if (topListeners) {\n            for (var i = 0; i < topListeners.length; i++) {\n                topListeners[i].handler.call(this, evt);\n            }\n        }\n        const selfListeners = this.eventListeners[eventType];\n        if (selfListeners) {\n            for (var i = 0; i < selfListeners.length; i++) {\n                selfListeners[i].handler.call(this, evt);\n            }\n        }\n    }\n    draw() {\n        this.drawScene();\n        this.drawHit();\n        return this;\n    }\n    _createDragElement(evt) {\n        var pointerId = evt ? evt.pointerId : undefined;\n        var stage = this.getStage();\n        var ap = this.getAbsolutePosition();\n        var pos = stage._getPointerById(pointerId) ||\n            stage._changedPointerPositions[0] ||\n            ap;\n        DD._dragElements.set(this._id, {\n            node: this,\n            startPointerPos: pos,\n            offset: {\n                x: pos.x - ap.x,\n                y: pos.y - ap.y,\n            },\n            dragStatus: 'ready',\n            pointerId,\n        });\n    }\n    startDrag(evt, bubbleEvent = true) {\n        if (!DD._dragElements.has(this._id)) {\n            this._createDragElement(evt);\n        }\n        const elem = DD._dragElements.get(this._id);\n        elem.dragStatus = 'dragging';\n        this.fire('dragstart', {\n            type: 'dragstart',\n            target: this,\n            evt: evt && evt.evt,\n        }, bubbleEvent);\n    }\n    _setDragPosition(evt, elem) {\n        const pos = this.getStage()._getPointerById(elem.pointerId);\n        if (!pos) {\n            return;\n        }\n        var newNodePos = {\n            x: pos.x - elem.offset.x,\n            y: pos.y - elem.offset.y,\n        };\n        var dbf = this.dragBoundFunc();\n        if (dbf !== undefined) {\n            const bounded = dbf.call(this, newNodePos, evt);\n            if (!bounded) {\n                Util.warn('dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.');\n            }\n            else {\n                newNodePos = bounded;\n            }\n        }\n        if (!this._lastPos ||\n            this._lastPos.x !== newNodePos.x ||\n            this._lastPos.y !== newNodePos.y) {\n            this.setAbsolutePosition(newNodePos);\n            this._requestDraw();\n        }\n        this._lastPos = newNodePos;\n    }\n    stopDrag(evt) {\n        const elem = DD._dragElements.get(this._id);\n        if (elem) {\n            elem.dragStatus = 'stopped';\n        }\n        DD._endDragBefore(evt);\n        DD._endDragAfter(evt);\n    }\n    setDraggable(draggable) {\n        this._setAttr('draggable', draggable);\n        this._dragChange();\n    }\n    isDragging() {\n        const elem = DD._dragElements.get(this._id);\n        return elem ? elem.dragStatus === 'dragging' : false;\n    }\n    _listenDrag() {\n        this._dragCleanup();\n        this.on('mousedown.konva touchstart.konva', function (evt) {\n            var shouldCheckButton = evt.evt['button'] !== undefined;\n            var canDrag = !shouldCheckButton || Konva.dragButtons.indexOf(evt.evt['button']) >= 0;\n            if (!canDrag) {\n                return;\n            }\n            if (this.isDragging()) {\n                return;\n            }\n            var hasDraggingChild = false;\n            DD._dragElements.forEach((elem) => {\n                if (this.isAncestorOf(elem.node)) {\n                    hasDraggingChild = true;\n                }\n            });\n            if (!hasDraggingChild) {\n                this._createDragElement(evt);\n            }\n        });\n    }\n    _dragChange() {\n        if (this.attrs.draggable) {\n            this._listenDrag();\n        }\n        else {\n            this._dragCleanup();\n            var stage = this.getStage();\n            if (!stage) {\n                return;\n            }\n            const dragElement = DD._dragElements.get(this._id);\n            const isDragging = dragElement && dragElement.dragStatus === 'dragging';\n            const isReady = dragElement && dragElement.dragStatus === 'ready';\n            if (isDragging) {\n                this.stopDrag();\n            }\n            else if (isReady) {\n                DD._dragElements.delete(this._id);\n            }\n        }\n    }\n    _dragCleanup() {\n        this.off('mousedown.konva');\n        this.off('touchstart.konva');\n    }\n    isClientRectOnScreen(margin = { x: 0, y: 0 }) {\n        const stage = this.getStage();\n        if (!stage) {\n            return false;\n        }\n        const screenRect = {\n            x: -margin.x,\n            y: -margin.y,\n            width: stage.width() + 2 * margin.x,\n            height: stage.height() + 2 * margin.y,\n        };\n        return Util.haveIntersection(screenRect, this.getClientRect());\n    }\n    static create(data, container) {\n        if (Util._isString(data)) {\n            data = JSON.parse(data);\n        }\n        return this._createNode(data, container);\n    }\n    static _createNode(obj, container) {\n        var className = Node.prototype.getClassName.call(obj), children = obj.children, no, len, n;\n        if (container) {\n            obj.attrs.container = container;\n        }\n        if (!Konva[className]) {\n            Util.warn('Can not find a node with class name \"' +\n                className +\n                '\". Fallback to \"Shape\".');\n            className = 'Shape';\n        }\n        const Class = Konva[className];\n        no = new Class(obj.attrs);\n        if (children) {\n            len = children.length;\n            for (n = 0; n < len; n++) {\n                no.add(Node._createNode(children[n]));\n            }\n        }\n        return no;\n    }\n}\nNode.prototype.nodeType = 'Node';\nNode.prototype._attrsAffectingSize = [];\nNode.prototype.eventListeners = {};\nNode.prototype.on.call(Node.prototype, TRANSFORM_CHANGE_STR, function () {\n    if (this._batchingTransformChange) {\n        this._needClearTransformCache = true;\n        return;\n    }\n    this._clearCache(TRANSFORM);\n    this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n});\nNode.prototype.on.call(Node.prototype, 'visibleChange.konva', function () {\n    this._clearSelfAndDescendantCache(VISIBLE);\n});\nNode.prototype.on.call(Node.prototype, 'listeningChange.konva', function () {\n    this._clearSelfAndDescendantCache(LISTENING);\n});\nNode.prototype.on.call(Node.prototype, 'opacityChange.konva', function () {\n    this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n});\nconst addGetterSetter = Factory.addGetterSetter;\naddGetterSetter(Node, 'zIndex');\naddGetterSetter(Node, 'absolutePosition');\naddGetterSetter(Node, 'position');\naddGetterSetter(Node, 'x', 0, getNumberValidator());\naddGetterSetter(Node, 'y', 0, getNumberValidator());\naddGetterSetter(Node, 'globalCompositeOperation', 'source-over', getStringValidator());\naddGetterSetter(Node, 'opacity', 1, getNumberValidator());\naddGetterSetter(Node, 'name', '', getStringValidator());\naddGetterSetter(Node, 'id', '', getStringValidator());\naddGetterSetter(Node, 'rotation', 0, getNumberValidator());\nFactory.addComponentsGetterSetter(Node, 'scale', ['x', 'y']);\naddGetterSetter(Node, 'scaleX', 1, getNumberValidator());\naddGetterSetter(Node, 'scaleY', 1, getNumberValidator());\nFactory.addComponentsGetterSetter(Node, 'skew', ['x', 'y']);\naddGetterSetter(Node, 'skewX', 0, getNumberValidator());\naddGetterSetter(Node, 'skewY', 0, getNumberValidator());\nFactory.addComponentsGetterSetter(Node, 'offset', ['x', 'y']);\naddGetterSetter(Node, 'offsetX', 0, getNumberValidator());\naddGetterSetter(Node, 'offsetY', 0, getNumberValidator());\naddGetterSetter(Node, 'dragDistance', null, getNumberValidator());\naddGetterSetter(Node, 'width', 0, getNumberValidator());\naddGetterSetter(Node, 'height', 0, getNumberValidator());\naddGetterSetter(Node, 'listening', true, getBooleanValidator());\naddGetterSetter(Node, 'preventDefault', true, getBooleanValidator());\naddGetterSetter(Node, 'filters', null, function (val) {\n    this._filterUpToDate = false;\n    return val;\n});\naddGetterSetter(Node, 'visible', true, getBooleanValidator());\naddGetterSetter(Node, 'transformsEnabled', 'all', getStringValidator());\naddGetterSetter(Node, 'size');\naddGetterSetter(Node, 'dragBoundFunc');\naddGetterSetter(Node, 'draggable', false, getBooleanValidator());\nFactory.backCompat(Node, {\n    rotateDeg: 'rotate',\n    setRotationDeg: 'setRotation',\n    getRotationDeg: 'getRotation',\n});\n","import { Factory } from './Factory.js';\nimport { Node } from './Node.js';\nimport { getNumberValidator } from './Validators.js';\nexport class Container extends Node {\n    constructor() {\n        super(...arguments);\n        this.children = [];\n    }\n    getChildren(filterFunc) {\n        if (!filterFunc) {\n            return this.children || [];\n        }\n        const children = this.children || [];\n        var results = [];\n        children.forEach(function (child) {\n            if (filterFunc(child)) {\n                results.push(child);\n            }\n        });\n        return results;\n    }\n    hasChildren() {\n        return this.getChildren().length > 0;\n    }\n    removeChildren() {\n        this.getChildren().forEach((child) => {\n            child.parent = null;\n            child.index = 0;\n            child.remove();\n        });\n        this.children = [];\n        this._requestDraw();\n        return this;\n    }\n    destroyChildren() {\n        this.getChildren().forEach((child) => {\n            child.parent = null;\n            child.index = 0;\n            child.destroy();\n        });\n        this.children = [];\n        this._requestDraw();\n        return this;\n    }\n    add(...children) {\n        if (arguments.length > 1) {\n            for (var i = 0; i < arguments.length; i++) {\n                this.add(arguments[i]);\n            }\n            return this;\n        }\n        var child = children[0];\n        if (child.getParent()) {\n            child.moveTo(this);\n            return this;\n        }\n        this._validateAdd(child);\n        child.index = this.getChildren().length;\n        child.parent = this;\n        child._clearCaches();\n        this.getChildren().push(child);\n        this._fire('add', {\n            child: child,\n        });\n        this._requestDraw();\n        return this;\n    }\n    destroy() {\n        if (this.hasChildren()) {\n            this.destroyChildren();\n        }\n        super.destroy();\n        return this;\n    }\n    find(selector) {\n        return this._generalFind(selector, false);\n    }\n    findOne(selector) {\n        var result = this._generalFind(selector, true);\n        return result.length > 0 ? result[0] : undefined;\n    }\n    _generalFind(selector, findOne) {\n        var retArr = [];\n        this._descendants((node) => {\n            const valid = node._isMatch(selector);\n            if (valid) {\n                retArr.push(node);\n            }\n            if (valid && findOne) {\n                return true;\n            }\n            return false;\n        });\n        return retArr;\n    }\n    _descendants(fn) {\n        let shouldStop = false;\n        const children = this.getChildren();\n        for (const child of children) {\n            shouldStop = fn(child);\n            if (shouldStop) {\n                return true;\n            }\n            if (!child.hasChildren()) {\n                continue;\n            }\n            shouldStop = child._descendants(fn);\n            if (shouldStop) {\n                return true;\n            }\n        }\n        return false;\n    }\n    toObject() {\n        var obj = Node.prototype.toObject.call(this);\n        obj.children = [];\n        this.getChildren().forEach((child) => {\n            obj.children.push(child.toObject());\n        });\n        return obj;\n    }\n    isAncestorOf(node) {\n        var parent = node.getParent();\n        while (parent) {\n            if (parent._id === this._id) {\n                return true;\n            }\n            parent = parent.getParent();\n        }\n        return false;\n    }\n    clone(obj) {\n        var node = Node.prototype.clone.call(this, obj);\n        this.getChildren().forEach(function (no) {\n            node.add(no.clone());\n        });\n        return node;\n    }\n    getAllIntersections(pos) {\n        var arr = [];\n        this.find('Shape').forEach(function (shape) {\n            if (shape.isVisible() && shape.intersects(pos)) {\n                arr.push(shape);\n            }\n        });\n        return arr;\n    }\n    _clearSelfAndDescendantCache(attr) {\n        var _a;\n        super._clearSelfAndDescendantCache(attr);\n        if (this.isCached()) {\n            return;\n        }\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (node) {\n            node._clearSelfAndDescendantCache(attr);\n        });\n    }\n    _setChildrenIndices() {\n        var _a;\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child, n) {\n            child.index = n;\n        });\n        this._requestDraw();\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.getCanvas()), context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedSceneCanvas = cachedCanvas && cachedCanvas.scene;\n        var caching = canvas && canvas.isCache;\n        if (!this.isVisible() && !caching) {\n            return this;\n        }\n        if (cachedSceneCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedSceneCanvas(context);\n            context.restore();\n        }\n        else {\n            this._drawChildren('drawScene', canvas, top);\n        }\n        return this;\n    }\n    drawHit(can, top) {\n        if (!this.shouldDrawHit(top)) {\n            return this;\n        }\n        var layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas), context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n        if (cachedHitCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedHitCanvas(context);\n            context.restore();\n        }\n        else {\n            this._drawChildren('drawHit', canvas, top);\n        }\n        return this;\n    }\n    _drawChildren(drawMethod, canvas, top) {\n        var _a;\n        var context = canvas && canvas.getContext(), clipWidth = this.clipWidth(), clipHeight = this.clipHeight(), clipFunc = this.clipFunc(), hasClip = (clipWidth && clipHeight) || clipFunc;\n        const selfCache = top === this;\n        if (hasClip) {\n            context.save();\n            var transform = this.getAbsoluteTransform(top);\n            var m = transform.getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            context.beginPath();\n            if (clipFunc) {\n                clipFunc.call(this, context, this);\n            }\n            else {\n                var clipX = this.clipX();\n                var clipY = this.clipY();\n                context.rect(clipX, clipY, clipWidth, clipHeight);\n            }\n            context.clip();\n            m = transform.copy().invert().getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n        }\n        var hasComposition = !selfCache &&\n            this.globalCompositeOperation() !== 'source-over' &&\n            drawMethod === 'drawScene';\n        if (hasComposition) {\n            context.save();\n            context._applyGlobalCompositeOperation(this);\n        }\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            child[drawMethod](canvas, top);\n        });\n        if (hasComposition) {\n            context.restore();\n        }\n        if (hasClip) {\n            context.restore();\n        }\n    }\n    getClientRect(config) {\n        var _a;\n        config = config || {};\n        var skipTransform = config.skipTransform;\n        var relativeTo = config.relativeTo;\n        var minX, minY, maxX, maxY;\n        var selfRect = {\n            x: Infinity,\n            y: Infinity,\n            width: 0,\n            height: 0,\n        };\n        var that = this;\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            if (!child.visible()) {\n                return;\n            }\n            var rect = child.getClientRect({\n                relativeTo: that,\n                skipShadow: config.skipShadow,\n                skipStroke: config.skipStroke,\n            });\n            if (rect.width === 0 && rect.height === 0) {\n                return;\n            }\n            if (minX === undefined) {\n                minX = rect.x;\n                minY = rect.y;\n                maxX = rect.x + rect.width;\n                maxY = rect.y + rect.height;\n            }\n            else {\n                minX = Math.min(minX, rect.x);\n                minY = Math.min(minY, rect.y);\n                maxX = Math.max(maxX, rect.x + rect.width);\n                maxY = Math.max(maxY, rect.y + rect.height);\n            }\n        });\n        var shapes = this.find('Shape');\n        var hasVisible = false;\n        for (var i = 0; i < shapes.length; i++) {\n            var shape = shapes[i];\n            if (shape._isVisible(this)) {\n                hasVisible = true;\n                break;\n            }\n        }\n        if (hasVisible && minX !== undefined) {\n            selfRect = {\n                x: minX,\n                y: minY,\n                width: maxX - minX,\n                height: maxY - minY,\n            };\n        }\n        else {\n            selfRect = {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        if (!skipTransform) {\n            return this._transformedRect(selfRect, relativeTo);\n        }\n        return selfRect;\n    }\n}\nFactory.addComponentsGetterSetter(Container, 'clip', [\n    'x',\n    'y',\n    'width',\n    'height',\n]);\nFactory.addGetterSetter(Container, 'clipX', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipY', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipWidth', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipHeight', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipFunc');\n","import { Konva } from './Global.js';\nconst Captures = new Map();\nconst SUPPORT_POINTER_EVENTS = Konva._global['PointerEvent'] !== undefined;\nexport function getCapturedShape(pointerId) {\n    return Captures.get(pointerId);\n}\nexport function createEvent(evt) {\n    return {\n        evt,\n        pointerId: evt.pointerId,\n    };\n}\nexport function hasPointerCapture(pointerId, shape) {\n    return Captures.get(pointerId) === shape;\n}\nexport function setPointerCapture(pointerId, shape) {\n    releaseCapture(pointerId);\n    const stage = shape.getStage();\n    if (!stage)\n        return;\n    Captures.set(pointerId, shape);\n    if (SUPPORT_POINTER_EVENTS) {\n        shape._fire('gotpointercapture', createEvent(new PointerEvent('gotpointercapture')));\n    }\n}\nexport function releaseCapture(pointerId, target) {\n    const shape = Captures.get(pointerId);\n    if (!shape)\n        return;\n    const stage = shape.getStage();\n    if (stage && stage.content) {\n    }\n    Captures.delete(pointerId);\n    if (SUPPORT_POINTER_EVENTS) {\n        shape._fire('lostpointercapture', createEvent(new PointerEvent('lostpointercapture')));\n    }\n}\n","import { Util } from './Util.js';\nimport { Factory } from './Factory.js';\nimport { Container } from './Container.js';\nimport { Konva } from './Global.js';\nimport { SceneCanvas, HitCanvas } from './Canvas.js';\nimport { DD } from './DragAndDrop.js';\nimport { _registerNode } from './Global.js';\nimport * as PointerEvents from './PointerEvents.js';\nvar STAGE = 'Stage', STRING = 'string', PX = 'px', MOUSEOUT = 'mouseout', MOUSELEAVE = 'mouseleave', MOUSEOVER = 'mouseover', MOUSEENTER = 'mouseenter', MOUSEMOVE = 'mousemove', MOUSEDOWN = 'mousedown', MOUSEUP = 'mouseup', POINTERMOVE = 'pointermove', POINTERDOWN = 'pointerdown', POINTERUP = 'pointerup', POINTERCANCEL = 'pointercancel', LOSTPOINTERCAPTURE = 'lostpointercapture', POINTEROUT = 'pointerout', POINTERLEAVE = 'pointerleave', POINTEROVER = 'pointerover', POINTERENTER = 'pointerenter', CONTEXTMENU = 'contextmenu', TOUCHSTART = 'touchstart', TOUCHEND = 'touchend', TOUCHMOVE = 'touchmove', TOUCHCANCEL = 'touchcancel', WHEEL = 'wheel', MAX_LAYERS_NUMBER = 5, EVENTS = [\n    [MOUSEENTER, '_pointerenter'],\n    [MOUSEDOWN, '_pointerdown'],\n    [MOUSEMOVE, '_pointermove'],\n    [MOUSEUP, '_pointerup'],\n    [MOUSELEAVE, '_pointerleave'],\n    [TOUCHSTART, '_pointerdown'],\n    [TOUCHMOVE, '_pointermove'],\n    [TOUCHEND, '_pointerup'],\n    [TOUCHCANCEL, '_pointercancel'],\n    [MOUSEOVER, '_pointerover'],\n    [WHEEL, '_wheel'],\n    [CONTEXTMENU, '_contextmenu'],\n    [POINTERDOWN, '_pointerdown'],\n    [POINTERMOVE, '_pointermove'],\n    [POINTERUP, '_pointerup'],\n    [POINTERCANCEL, '_pointercancel'],\n    [LOSTPOINTERCAPTURE, '_lostpointercapture'],\n];\nconst EVENTS_MAP = {\n    mouse: {\n        [POINTEROUT]: MOUSEOUT,\n        [POINTERLEAVE]: MOUSELEAVE,\n        [POINTEROVER]: MOUSEOVER,\n        [POINTERENTER]: MOUSEENTER,\n        [POINTERMOVE]: MOUSEMOVE,\n        [POINTERDOWN]: MOUSEDOWN,\n        [POINTERUP]: MOUSEUP,\n        [POINTERCANCEL]: 'mousecancel',\n        pointerclick: 'click',\n        pointerdblclick: 'dblclick',\n    },\n    touch: {\n        [POINTEROUT]: 'touchout',\n        [POINTERLEAVE]: 'touchleave',\n        [POINTEROVER]: 'touchover',\n        [POINTERENTER]: 'touchenter',\n        [POINTERMOVE]: TOUCHMOVE,\n        [POINTERDOWN]: TOUCHSTART,\n        [POINTERUP]: TOUCHEND,\n        [POINTERCANCEL]: TOUCHCANCEL,\n        pointerclick: 'tap',\n        pointerdblclick: 'dbltap',\n    },\n    pointer: {\n        [POINTEROUT]: POINTEROUT,\n        [POINTERLEAVE]: POINTERLEAVE,\n        [POINTEROVER]: POINTEROVER,\n        [POINTERENTER]: POINTERENTER,\n        [POINTERMOVE]: POINTERMOVE,\n        [POINTERDOWN]: POINTERDOWN,\n        [POINTERUP]: POINTERUP,\n        [POINTERCANCEL]: POINTERCANCEL,\n        pointerclick: 'pointerclick',\n        pointerdblclick: 'pointerdblclick',\n    },\n};\nconst getEventType = (type) => {\n    if (type.indexOf('pointer') >= 0) {\n        return 'pointer';\n    }\n    if (type.indexOf('touch') >= 0) {\n        return 'touch';\n    }\n    return 'mouse';\n};\nconst getEventsMap = (eventType) => {\n    const type = getEventType(eventType);\n    if (type === 'pointer') {\n        return Konva.pointerEventsEnabled && EVENTS_MAP.pointer;\n    }\n    if (type === 'touch') {\n        return EVENTS_MAP.touch;\n    }\n    if (type === 'mouse') {\n        return EVENTS_MAP.mouse;\n    }\n};\nfunction checkNoClip(attrs = {}) {\n    if (attrs.clipFunc || attrs.clipWidth || attrs.clipHeight) {\n        Util.warn('Stage does not support clipping. Please use clip for Layers or Groups.');\n    }\n    return attrs;\n}\nconst NO_POINTERS_MESSAGE = `Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);`;\nexport const stages = [];\nexport class Stage extends Container {\n    constructor(config) {\n        super(checkNoClip(config));\n        this._pointerPositions = [];\n        this._changedPointerPositions = [];\n        this._buildDOM();\n        this._bindContentEvents();\n        stages.push(this);\n        this.on('widthChange.konva heightChange.konva', this._resizeDOM);\n        this.on('visibleChange.konva', this._checkVisibility);\n        this.on('clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva', () => {\n            checkNoClip(this.attrs);\n        });\n        this._checkVisibility();\n    }\n    _validateAdd(child) {\n        const isLayer = child.getType() === 'Layer';\n        const isFastLayer = child.getType() === 'FastLayer';\n        const valid = isLayer || isFastLayer;\n        if (!valid) {\n            Util.throw('You may only add layers to the stage.');\n        }\n    }\n    _checkVisibility() {\n        if (!this.content) {\n            return;\n        }\n        const style = this.visible() ? '' : 'none';\n        this.content.style.display = style;\n    }\n    setContainer(container) {\n        if (typeof container === STRING) {\n            if (container.charAt(0) === '.') {\n                var className = container.slice(1);\n                container = document.getElementsByClassName(className)[0];\n            }\n            else {\n                var id;\n                if (container.charAt(0) !== '#') {\n                    id = container;\n                }\n                else {\n                    id = container.slice(1);\n                }\n                container = document.getElementById(id);\n            }\n            if (!container) {\n                throw 'Can not find container in document with id ' + id;\n            }\n        }\n        this._setAttr('container', container);\n        if (this.content) {\n            if (this.content.parentElement) {\n                this.content.parentElement.removeChild(this.content);\n            }\n            container.appendChild(this.content);\n        }\n        return this;\n    }\n    shouldDrawHit() {\n        return true;\n    }\n    clear() {\n        var layers = this.children, len = layers.length, n;\n        for (n = 0; n < len; n++) {\n            layers[n].clear();\n        }\n        return this;\n    }\n    clone(obj) {\n        if (!obj) {\n            obj = {};\n        }\n        obj.container =\n            typeof document !== 'undefined' && document.createElement('div');\n        return Container.prototype.clone.call(this, obj);\n    }\n    destroy() {\n        super.destroy();\n        var content = this.content;\n        if (content && Util._isInDocument(content)) {\n            this.container().removeChild(content);\n        }\n        var index = stages.indexOf(this);\n        if (index > -1) {\n            stages.splice(index, 1);\n        }\n        return this;\n    }\n    getPointerPosition() {\n        const pos = this._pointerPositions[0] || this._changedPointerPositions[0];\n        if (!pos) {\n            Util.warn(NO_POINTERS_MESSAGE);\n            return null;\n        }\n        return {\n            x: pos.x,\n            y: pos.y,\n        };\n    }\n    _getPointerById(id) {\n        return this._pointerPositions.find((p) => p.id === id);\n    }\n    getPointersPositions() {\n        return this._pointerPositions;\n    }\n    getStage() {\n        return this;\n    }\n    getContent() {\n        return this.content;\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        config.x = config.x || 0;\n        config.y = config.y || 0;\n        config.width = config.width || this.width();\n        config.height = config.height || this.height();\n        var canvas = new SceneCanvas({\n            width: config.width,\n            height: config.height,\n            pixelRatio: config.pixelRatio || 1,\n        });\n        var _context = canvas.getContext()._context;\n        var layers = this.children;\n        if (config.x || config.y) {\n            _context.translate(-1 * config.x, -1 * config.y);\n        }\n        layers.forEach(function (layer) {\n            if (!layer.isVisible()) {\n                return;\n            }\n            var layerCanvas = layer._toKonvaCanvas(config);\n            _context.drawImage(layerCanvas._canvas, config.x, config.y, layerCanvas.getWidth() / layerCanvas.getPixelRatio(), layerCanvas.getHeight() / layerCanvas.getPixelRatio());\n        });\n        return canvas;\n    }\n    getIntersection(pos) {\n        if (!pos) {\n            return null;\n        }\n        var layers = this.children, len = layers.length, end = len - 1, n;\n        for (n = end; n >= 0; n--) {\n            const shape = layers[n].getIntersection(pos);\n            if (shape) {\n                return shape;\n            }\n        }\n        return null;\n    }\n    _resizeDOM() {\n        var width = this.width();\n        var height = this.height();\n        if (this.content) {\n            this.content.style.width = width + PX;\n            this.content.style.height = height + PX;\n        }\n        this.bufferCanvas.setSize(width, height);\n        this.bufferHitCanvas.setSize(width, height);\n        this.children.forEach((layer) => {\n            layer.setSize({ width, height });\n            layer.draw();\n        });\n    }\n    add(layer, ...rest) {\n        if (arguments.length > 1) {\n            for (var i = 0; i < arguments.length; i++) {\n                this.add(arguments[i]);\n            }\n            return this;\n        }\n        super.add(layer);\n        var length = this.children.length;\n        if (length > MAX_LAYERS_NUMBER) {\n            Util.warn('The stage has ' +\n                length +\n                ' layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group.');\n        }\n        layer.setSize({ width: this.width(), height: this.height() });\n        layer.draw();\n        if (Konva.isBrowser) {\n            this.content.appendChild(layer.canvas._canvas);\n        }\n        return this;\n    }\n    getParent() {\n        return null;\n    }\n    getLayer() {\n        return null;\n    }\n    hasPointerCapture(pointerId) {\n        return PointerEvents.hasPointerCapture(pointerId, this);\n    }\n    setPointerCapture(pointerId) {\n        PointerEvents.setPointerCapture(pointerId, this);\n    }\n    releaseCapture(pointerId) {\n        PointerEvents.releaseCapture(pointerId, this);\n    }\n    getLayers() {\n        return this.children;\n    }\n    _bindContentEvents() {\n        if (!Konva.isBrowser) {\n            return;\n        }\n        EVENTS.forEach(([event, methodName]) => {\n            this.content.addEventListener(event, (evt) => {\n                this[methodName](evt);\n            });\n        });\n    }\n    _pointerenter(evt) {\n        this.setPointersPositions(evt);\n        const events = getEventsMap(evt.type);\n        this._fire(events.pointerenter, {\n            evt: evt,\n            target: this,\n            currentTarget: this,\n        });\n    }\n    _pointerover(evt) {\n        this.setPointersPositions(evt);\n        const events = getEventsMap(evt.type);\n        this._fire(events.pointerover, {\n            evt: evt,\n            target: this,\n            currentTarget: this,\n        });\n    }\n    _getTargetShape(evenType) {\n        let shape = this[evenType + 'targetShape'];\n        if (shape && !shape.getStage()) {\n            shape = null;\n        }\n        return shape;\n    }\n    _pointerleave(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        var targetShape = this._getTargetShape(eventType);\n        var eventsEnabled = !DD.isDragging || Konva.hitOnDragEnabled;\n        if (targetShape && eventsEnabled) {\n            targetShape._fireAndBubble(events.pointerout, { evt: evt });\n            targetShape._fireAndBubble(events.pointerleave, { evt: evt });\n            this._fire(events.pointerleave, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n            this[eventType + 'targetShape'] = null;\n        }\n        else if (eventsEnabled) {\n            this._fire(events.pointerleave, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n            this._fire(events.pointerout, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n        this.pointerPos = undefined;\n        this._pointerPositions = [];\n    }\n    _pointerdown(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        var triggeredOnShape = false;\n        this._changedPointerPositions.forEach((pos) => {\n            var shape = this.getIntersection(pos);\n            DD.justDragged = false;\n            Konva['_' + eventType + 'ListenClick'] = true;\n            const hasShape = shape && shape.isListening();\n            if (!hasShape) {\n                return;\n            }\n            if (Konva.capturePointerEventsEnabled) {\n                shape.setPointerCapture(pos.id);\n            }\n            this[eventType + 'ClickStartShape'] = shape;\n            shape._fireAndBubble(events.pointerdown, {\n                evt: evt,\n                pointerId: pos.id,\n            });\n            triggeredOnShape = true;\n            const isTouch = evt.type.indexOf('touch') >= 0;\n            if (shape.preventDefault() && evt.cancelable && isTouch) {\n                evt.preventDefault();\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointerdown, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._pointerPositions[0].id,\n            });\n        }\n    }\n    _pointermove(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        if (DD.isDragging && DD.node.preventDefault() && evt.cancelable) {\n            evt.preventDefault();\n        }\n        this.setPointersPositions(evt);\n        var eventsEnabled = !DD.isDragging || Konva.hitOnDragEnabled;\n        if (!eventsEnabled) {\n            return;\n        }\n        var processedShapesIds = {};\n        let triggeredOnShape = false;\n        var targetShape = this._getTargetShape(eventType);\n        this._changedPointerPositions.forEach((pos) => {\n            const shape = (PointerEvents.getCapturedShape(pos.id) ||\n                this.getIntersection(pos));\n            const pointerId = pos.id;\n            const event = { evt: evt, pointerId };\n            var differentTarget = targetShape !== shape;\n            if (differentTarget && targetShape) {\n                targetShape._fireAndBubble(events.pointerout, Object.assign({}, event), shape);\n                targetShape._fireAndBubble(events.pointerleave, Object.assign({}, event), shape);\n            }\n            if (shape) {\n                if (processedShapesIds[shape._id]) {\n                    return;\n                }\n                processedShapesIds[shape._id] = true;\n            }\n            if (shape && shape.isListening()) {\n                triggeredOnShape = true;\n                if (differentTarget) {\n                    shape._fireAndBubble(events.pointerover, Object.assign({}, event), targetShape);\n                    shape._fireAndBubble(events.pointerenter, Object.assign({}, event), targetShape);\n                    this[eventType + 'targetShape'] = shape;\n                }\n                shape._fireAndBubble(events.pointermove, Object.assign({}, event));\n            }\n            else {\n                if (targetShape) {\n                    this._fire(events.pointerover, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                    this[eventType + 'targetShape'] = null;\n                }\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointermove, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n    }\n    _pointerup(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        const clickStartShape = this[eventType + 'ClickStartShape'];\n        const clickEndShape = this[eventType + 'ClickEndShape'];\n        var processedShapesIds = {};\n        let triggeredOnShape = false;\n        this._changedPointerPositions.forEach((pos) => {\n            const shape = (PointerEvents.getCapturedShape(pos.id) ||\n                this.getIntersection(pos));\n            if (shape) {\n                shape.releaseCapture(pos.id);\n                if (processedShapesIds[shape._id]) {\n                    return;\n                }\n                processedShapesIds[shape._id] = true;\n            }\n            const pointerId = pos.id;\n            const event = { evt: evt, pointerId };\n            let fireDblClick = false;\n            if (Konva['_' + eventType + 'InDblClickWindow']) {\n                fireDblClick = true;\n                clearTimeout(this[eventType + 'DblTimeout']);\n            }\n            else if (!DD.justDragged) {\n                Konva['_' + eventType + 'InDblClickWindow'] = true;\n                clearTimeout(this[eventType + 'DblTimeout']);\n            }\n            this[eventType + 'DblTimeout'] = setTimeout(function () {\n                Konva['_' + eventType + 'InDblClickWindow'] = false;\n            }, Konva.dblClickWindow);\n            if (shape && shape.isListening()) {\n                triggeredOnShape = true;\n                this[eventType + 'ClickEndShape'] = shape;\n                shape._fireAndBubble(events.pointerup, Object.assign({}, event));\n                if (Konva['_' + eventType + 'ListenClick'] &&\n                    clickStartShape &&\n                    clickStartShape === shape) {\n                    shape._fireAndBubble(events.pointerclick, Object.assign({}, event));\n                    if (fireDblClick && clickEndShape && clickEndShape === shape) {\n                        shape._fireAndBubble(events.pointerdblclick, Object.assign({}, event));\n                    }\n                }\n            }\n            else {\n                this[eventType + 'ClickEndShape'] = null;\n                if (Konva['_' + eventType + 'ListenClick']) {\n                    this._fire(events.pointerclick, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                }\n                if (fireDblClick) {\n                    this._fire(events.pointerdblclick, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                }\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointerup, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n        Konva['_' + eventType + 'ListenClick'] = false;\n        if (evt.cancelable) {\n            evt.preventDefault();\n        }\n    }\n    _contextmenu(evt) {\n        this.setPointersPositions(evt);\n        var shape = this.getIntersection(this.getPointerPosition());\n        if (shape && shape.isListening()) {\n            shape._fireAndBubble(CONTEXTMENU, { evt: evt });\n        }\n        else {\n            this._fire(CONTEXTMENU, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n    }\n    _wheel(evt) {\n        this.setPointersPositions(evt);\n        var shape = this.getIntersection(this.getPointerPosition());\n        if (shape && shape.isListening()) {\n            shape._fireAndBubble(WHEEL, { evt: evt });\n        }\n        else {\n            this._fire(WHEEL, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n    }\n    _pointercancel(evt) {\n        this.setPointersPositions(evt);\n        const shape = PointerEvents.getCapturedShape(evt.pointerId) ||\n            this.getIntersection(this.getPointerPosition());\n        if (shape) {\n            shape._fireAndBubble(POINTERUP, PointerEvents.createEvent(evt));\n        }\n        PointerEvents.releaseCapture(evt.pointerId);\n    }\n    _lostpointercapture(evt) {\n        PointerEvents.releaseCapture(evt.pointerId);\n    }\n    setPointersPositions(evt) {\n        var contentPosition = this._getContentPosition(), x = null, y = null;\n        evt = evt ? evt : window.event;\n        if (evt.touches !== undefined) {\n            this._pointerPositions = [];\n            this._changedPointerPositions = [];\n            Array.prototype.forEach.call(evt.touches, (touch) => {\n                this._pointerPositions.push({\n                    id: touch.identifier,\n                    x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n                    y: (touch.clientY - contentPosition.top) / contentPosition.scaleY,\n                });\n            });\n            Array.prototype.forEach.call(evt.changedTouches || evt.touches, (touch) => {\n                this._changedPointerPositions.push({\n                    id: touch.identifier,\n                    x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n                    y: (touch.clientY - contentPosition.top) / contentPosition.scaleY,\n                });\n            });\n        }\n        else {\n            x = (evt.clientX - contentPosition.left) / contentPosition.scaleX;\n            y = (evt.clientY - contentPosition.top) / contentPosition.scaleY;\n            this.pointerPos = {\n                x: x,\n                y: y,\n            };\n            this._pointerPositions = [{ x, y, id: Util._getFirstPointerId(evt) }];\n            this._changedPointerPositions = [\n                { x, y, id: Util._getFirstPointerId(evt) },\n            ];\n        }\n    }\n    _setPointerPosition(evt) {\n        Util.warn('Method _setPointerPosition is deprecated. Use \"stage.setPointersPositions(event)\" instead.');\n        this.setPointersPositions(evt);\n    }\n    _getContentPosition() {\n        if (!this.content || !this.content.getBoundingClientRect) {\n            return {\n                top: 0,\n                left: 0,\n                scaleX: 1,\n                scaleY: 1,\n            };\n        }\n        var rect = this.content.getBoundingClientRect();\n        return {\n            top: rect.top,\n            left: rect.left,\n            scaleX: rect.width / this.content.clientWidth || 1,\n            scaleY: rect.height / this.content.clientHeight || 1,\n        };\n    }\n    _buildDOM() {\n        this.bufferCanvas = new SceneCanvas({\n            width: this.width(),\n            height: this.height(),\n        });\n        this.bufferHitCanvas = new HitCanvas({\n            pixelRatio: 1,\n            width: this.width(),\n            height: this.height(),\n        });\n        if (!Konva.isBrowser) {\n            return;\n        }\n        var container = this.container();\n        if (!container) {\n            throw 'Stage has no container. A container is required.';\n        }\n        container.innerHTML = '';\n        this.content = document.createElement('div');\n        this.content.style.position = 'relative';\n        this.content.style.userSelect = 'none';\n        this.content.className = 'konvajs-content';\n        this.content.setAttribute('role', 'presentation');\n        container.appendChild(this.content);\n        this._resizeDOM();\n    }\n    cache() {\n        Util.warn('Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.');\n        return this;\n    }\n    clearCache() {\n        return this;\n    }\n    batchDraw() {\n        this.getChildren().forEach(function (layer) {\n            layer.batchDraw();\n        });\n        return this;\n    }\n}\nStage.prototype.nodeType = STAGE;\n_registerNode(Stage);\nFactory.addGetterSetter(Stage, 'container');\n","import { Konva } from './Global.js';\nimport { Transform, Util } from './Util.js';\nimport { Factory } from './Factory.js';\nimport { Node } from './Node.js';\nimport { getNumberValidator, getNumberOrAutoValidator, getStringValidator, getBooleanValidator, getStringOrGradientValidator, } from './Validators.js';\nimport { _registerNode } from './Global.js';\nimport * as PointerEvents from './PointerEvents.js';\nvar HAS_SHADOW = 'hasShadow';\nvar SHADOW_RGBA = 'shadowRGBA';\nvar patternImage = 'patternImage';\nvar linearGradient = 'linearGradient';\nvar radialGradient = 'radialGradient';\nlet dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util.createCanvasElement().getContext('2d');\n    return dummyContext;\n}\nexport const shapes = {};\nfunction _fillFunc(context) {\n    context.fill();\n}\nfunction _strokeFunc(context) {\n    context.stroke();\n}\nfunction _fillFuncHit(context) {\n    context.fill();\n}\nfunction _strokeFuncHit(context) {\n    context.stroke();\n}\nfunction _clearHasShadowCache() {\n    this._clearCache(HAS_SHADOW);\n}\nfunction _clearGetShadowRGBACache() {\n    this._clearCache(SHADOW_RGBA);\n}\nfunction _clearFillPatternCache() {\n    this._clearCache(patternImage);\n}\nfunction _clearLinearGradientCache() {\n    this._clearCache(linearGradient);\n}\nfunction _clearRadialGradientCache() {\n    this._clearCache(radialGradient);\n}\nexport class Shape extends Node {\n    constructor(config) {\n        super(config);\n        let key;\n        while (true) {\n            key = Util.getRandomColor();\n            if (key && !(key in shapes)) {\n                break;\n            }\n        }\n        this.colorKey = key;\n        shapes[key] = this;\n    }\n    getContext() {\n        Util.warn('shape.getContext() method is deprecated. Please do not use it.');\n        return this.getLayer().getContext();\n    }\n    getCanvas() {\n        Util.warn('shape.getCanvas() method is deprecated. Please do not use it.');\n        return this.getLayer().getCanvas();\n    }\n    getSceneFunc() {\n        return this.attrs.sceneFunc || this['_sceneFunc'];\n    }\n    getHitFunc() {\n        return this.attrs.hitFunc || this['_hitFunc'];\n    }\n    hasShadow() {\n        return this._getCache(HAS_SHADOW, this._hasShadow);\n    }\n    _hasShadow() {\n        return (this.shadowEnabled() &&\n            this.shadowOpacity() !== 0 &&\n            !!(this.shadowColor() ||\n                this.shadowBlur() ||\n                this.shadowOffsetX() ||\n                this.shadowOffsetY()));\n    }\n    _getFillPattern() {\n        return this._getCache(patternImage, this.__getFillPattern);\n    }\n    __getFillPattern() {\n        if (this.fillPatternImage()) {\n            var ctx = getDummyContext();\n            const pattern = ctx.createPattern(this.fillPatternImage(), this.fillPatternRepeat() || 'repeat');\n            if (pattern && pattern.setTransform) {\n                const tr = new Transform();\n                tr.translate(this.fillPatternX(), this.fillPatternY());\n                tr.rotate(Konva.getAngle(this.fillPatternRotation()));\n                tr.scale(this.fillPatternScaleX(), this.fillPatternScaleY());\n                tr.translate(-1 * this.fillPatternOffsetX(), -1 * this.fillPatternOffsetY());\n                const m = tr.getMatrix();\n                const matrix = typeof DOMMatrix === 'undefined'\n                    ? {\n                        a: m[0],\n                        b: m[1],\n                        c: m[2],\n                        d: m[3],\n                        e: m[4],\n                        f: m[5],\n                    }\n                    : new DOMMatrix(m);\n                pattern.setTransform(matrix);\n            }\n            return pattern;\n        }\n    }\n    _getLinearGradient() {\n        return this._getCache(linearGradient, this.__getLinearGradient);\n    }\n    __getLinearGradient() {\n        var colorStops = this.fillLinearGradientColorStops();\n        if (colorStops) {\n            var ctx = getDummyContext();\n            var start = this.fillLinearGradientStartPoint();\n            var end = this.fillLinearGradientEndPoint();\n            var grd = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    }\n    _getRadialGradient() {\n        return this._getCache(radialGradient, this.__getRadialGradient);\n    }\n    __getRadialGradient() {\n        var colorStops = this.fillRadialGradientColorStops();\n        if (colorStops) {\n            var ctx = getDummyContext();\n            var start = this.fillRadialGradientStartPoint();\n            var end = this.fillRadialGradientEndPoint();\n            var grd = ctx.createRadialGradient(start.x, start.y, this.fillRadialGradientStartRadius(), end.x, end.y, this.fillRadialGradientEndRadius());\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    }\n    getShadowRGBA() {\n        return this._getCache(SHADOW_RGBA, this._getShadowRGBA);\n    }\n    _getShadowRGBA() {\n        if (this.hasShadow()) {\n            var rgba = Util.colorToRGBA(this.shadowColor());\n            return ('rgba(' +\n                rgba.r +\n                ',' +\n                rgba.g +\n                ',' +\n                rgba.b +\n                ',' +\n                rgba.a * (this.shadowOpacity() || 1) +\n                ')');\n        }\n    }\n    hasFill() {\n        return this._calculate('hasFill', [\n            'fillEnabled',\n            'fill',\n            'fillPatternImage',\n            'fillLinearGradientColorStops',\n            'fillRadialGradientColorStops',\n        ], () => {\n            return (this.fillEnabled() &&\n                !!(this.fill() ||\n                    this.fillPatternImage() ||\n                    this.fillLinearGradientColorStops() ||\n                    this.fillRadialGradientColorStops()));\n        });\n    }\n    hasStroke() {\n        return this._calculate('hasStroke', [\n            'strokeEnabled',\n            'strokeWidth',\n            'stroke',\n            'strokeLinearGradientColorStops',\n        ], () => {\n            return (this.strokeEnabled() &&\n                this.strokeWidth() &&\n                !!(this.stroke() || this.strokeLinearGradientColorStops()));\n        });\n    }\n    hasHitStroke() {\n        const width = this.hitStrokeWidth();\n        if (width === 'auto') {\n            return this.hasStroke();\n        }\n        return this.strokeEnabled() && !!width;\n    }\n    intersects(point) {\n        var stage = this.getStage(), bufferHitCanvas = stage.bufferHitCanvas, p;\n        bufferHitCanvas.getContext().clear();\n        this.drawHit(bufferHitCanvas, null, true);\n        p = bufferHitCanvas.context.getImageData(Math.round(point.x), Math.round(point.y), 1, 1).data;\n        return p[3] > 0;\n    }\n    destroy() {\n        Node.prototype.destroy.call(this);\n        delete shapes[this.colorKey];\n        delete this.colorKey;\n        return this;\n    }\n    _useBufferCanvas(forceFill) {\n        var _a;\n        if (!this.getStage()) {\n            return false;\n        }\n        const perfectDrawEnabled = (_a = this.attrs.perfectDrawEnabled) !== null && _a !== void 0 ? _a : true;\n        if (!perfectDrawEnabled) {\n            return false;\n        }\n        const hasFill = forceFill || this.hasFill();\n        const hasStroke = this.hasStroke();\n        const isTransparent = this.getAbsoluteOpacity() !== 1;\n        if (hasFill && hasStroke && isTransparent) {\n            return true;\n        }\n        const hasShadow = this.hasShadow();\n        const strokeForShadow = this.shadowForStrokeEnabled();\n        if (hasFill && hasStroke && hasShadow && strokeForShadow) {\n            return true;\n        }\n        return false;\n    }\n    setStrokeHitEnabled(val) {\n        Util.warn('strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead.');\n        if (val) {\n            this.hitStrokeWidth('auto');\n        }\n        else {\n            this.hitStrokeWidth(0);\n        }\n    }\n    getStrokeHitEnabled() {\n        if (this.hitStrokeWidth() === 0) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    getSelfRect() {\n        var size = this.size();\n        return {\n            x: this._centroid ? -size.width / 2 : 0,\n            y: this._centroid ? -size.height / 2 : 0,\n            width: size.width,\n            height: size.height,\n        };\n    }\n    getClientRect(config = {}) {\n        const skipTransform = config.skipTransform;\n        const relativeTo = config.relativeTo;\n        const fillRect = this.getSelfRect();\n        const applyStroke = !config.skipStroke && this.hasStroke();\n        const strokeWidth = (applyStroke && this.strokeWidth()) || 0;\n        const fillAndStrokeWidth = fillRect.width + strokeWidth;\n        const fillAndStrokeHeight = fillRect.height + strokeWidth;\n        const applyShadow = !config.skipShadow && this.hasShadow();\n        const shadowOffsetX = applyShadow ? this.shadowOffsetX() : 0;\n        const shadowOffsetY = applyShadow ? this.shadowOffsetY() : 0;\n        const preWidth = fillAndStrokeWidth + Math.abs(shadowOffsetX);\n        const preHeight = fillAndStrokeHeight + Math.abs(shadowOffsetY);\n        const blurRadius = (applyShadow && this.shadowBlur()) || 0;\n        const width = preWidth + blurRadius * 2;\n        const height = preHeight + blurRadius * 2;\n        const rect = {\n            width: width,\n            height: height,\n            x: -(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetX, 0) +\n                fillRect.x,\n            y: -(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetY, 0) +\n                fillRect.y,\n        };\n        if (!skipTransform) {\n            return this._transformedRect(rect, relativeTo);\n        }\n        return rect;\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || layer.getCanvas(), context = canvas.getContext(), cachedCanvas = this._getCanvasCache(), drawFunc = this.getSceneFunc(), hasShadow = this.hasShadow(), stage, bufferCanvas, bufferContext;\n        var skipBuffer = canvas.isCache;\n        var cachingSelf = top === this;\n        if (!this.isVisible() && !cachingSelf) {\n            return this;\n        }\n        if (cachedCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedSceneCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        if (this._useBufferCanvas() && !skipBuffer) {\n            stage = this.getStage();\n            bufferCanvas = stage.bufferCanvas;\n            bufferContext = bufferCanvas.getContext();\n            bufferContext.clear();\n            bufferContext.save();\n            bufferContext._applyLineJoin(this);\n            var o = this.getAbsoluteTransform(top).getMatrix();\n            bufferContext.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n            drawFunc.call(this, bufferContext, this);\n            bufferContext.restore();\n            var ratio = bufferCanvas.pixelRatio;\n            if (hasShadow) {\n                context._applyShadow(this);\n            }\n            context._applyOpacity(this);\n            context._applyGlobalCompositeOperation(this);\n            context.drawImage(bufferCanvas._canvas, 0, 0, bufferCanvas.width / ratio, bufferCanvas.height / ratio);\n        }\n        else {\n            context._applyLineJoin(this);\n            if (!cachingSelf) {\n                var o = this.getAbsoluteTransform(top).getMatrix();\n                context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n                context._applyOpacity(this);\n                context._applyGlobalCompositeOperation(this);\n            }\n            if (hasShadow) {\n                context._applyShadow(this);\n            }\n            drawFunc.call(this, context, this);\n        }\n        context.restore();\n        return this;\n    }\n    drawHit(can, top, skipDragCheck = false) {\n        if (!this.shouldDrawHit(top, skipDragCheck)) {\n            return this;\n        }\n        var layer = this.getLayer(), canvas = can || layer.hitCanvas, context = canvas && canvas.getContext(), drawFunc = this.hitFunc() || this.sceneFunc(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n        if (!this.colorKey) {\n            Util.warn('Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()');\n        }\n        if (cachedHitCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedHitCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        context._applyLineJoin(this);\n        const selfCache = this === top;\n        if (!selfCache) {\n            var o = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n        }\n        drawFunc.call(this, context, this);\n        context.restore();\n        return this;\n    }\n    drawHitFromCache(alphaThreshold = 0) {\n        var cachedCanvas = this._getCanvasCache(), sceneCanvas = this._getCachedSceneCanvas(), hitCanvas = cachedCanvas.hit, hitContext = hitCanvas.getContext(), hitWidth = hitCanvas.getWidth(), hitHeight = hitCanvas.getHeight(), hitImageData, hitData, len, rgbColorKey, i, alpha;\n        hitContext.clear();\n        hitContext.drawImage(sceneCanvas._canvas, 0, 0, hitWidth, hitHeight);\n        try {\n            hitImageData = hitContext.getImageData(0, 0, hitWidth, hitHeight);\n            hitData = hitImageData.data;\n            len = hitData.length;\n            rgbColorKey = Util._hexToRgb(this.colorKey);\n            for (i = 0; i < len; i += 4) {\n                alpha = hitData[i + 3];\n                if (alpha > alphaThreshold) {\n                    hitData[i] = rgbColorKey.r;\n                    hitData[i + 1] = rgbColorKey.g;\n                    hitData[i + 2] = rgbColorKey.b;\n                    hitData[i + 3] = 255;\n                }\n                else {\n                    hitData[i + 3] = 0;\n                }\n            }\n            hitContext.putImageData(hitImageData, 0, 0);\n        }\n        catch (e) {\n            Util.error('Unable to draw hit graph from cached scene canvas. ' + e.message);\n        }\n        return this;\n    }\n    hasPointerCapture(pointerId) {\n        return PointerEvents.hasPointerCapture(pointerId, this);\n    }\n    setPointerCapture(pointerId) {\n        PointerEvents.setPointerCapture(pointerId, this);\n    }\n    releaseCapture(pointerId) {\n        PointerEvents.releaseCapture(pointerId, this);\n    }\n}\nShape.prototype._fillFunc = _fillFunc;\nShape.prototype._strokeFunc = _strokeFunc;\nShape.prototype._fillFuncHit = _fillFuncHit;\nShape.prototype._strokeFuncHit = _strokeFuncHit;\nShape.prototype._centroid = false;\nShape.prototype.nodeType = 'Shape';\n_registerNode(Shape);\nShape.prototype.eventListeners = {};\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearHasShadowCache);\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearGetShadowRGBACache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva', _clearFillPatternCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva', _clearLinearGradientCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva', _clearRadialGradientCache);\nFactory.addGetterSetter(Shape, 'stroke', undefined, getStringOrGradientValidator());\nFactory.addGetterSetter(Shape, 'strokeWidth', 2, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillAfterStrokeEnabled', false);\nFactory.addGetterSetter(Shape, 'hitStrokeWidth', 'auto', getNumberOrAutoValidator());\nFactory.addGetterSetter(Shape, 'strokeHitEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Shape, 'perfectDrawEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Shape, 'shadowForStrokeEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Shape, 'lineJoin');\nFactory.addGetterSetter(Shape, 'lineCap');\nFactory.addGetterSetter(Shape, 'sceneFunc');\nFactory.addGetterSetter(Shape, 'hitFunc');\nFactory.addGetterSetter(Shape, 'dash');\nFactory.addGetterSetter(Shape, 'dashOffset', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'shadowColor', undefined, getStringValidator());\nFactory.addGetterSetter(Shape, 'shadowBlur', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'shadowOpacity', 1, getNumberValidator());\nFactory.addComponentsGetterSetter(Shape, 'shadowOffset', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'shadowOffsetX', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'shadowOffsetY', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternImage');\nFactory.addGetterSetter(Shape, 'fill', undefined, getStringOrGradientValidator());\nFactory.addGetterSetter(Shape, 'fillPatternX', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternY', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillLinearGradientColorStops');\nFactory.addGetterSetter(Shape, 'strokeLinearGradientColorStops');\nFactory.addGetterSetter(Shape, 'fillRadialGradientStartRadius', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientEndRadius', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientColorStops');\nFactory.addGetterSetter(Shape, 'fillPatternRepeat', 'repeat');\nFactory.addGetterSetter(Shape, 'fillEnabled', true);\nFactory.addGetterSetter(Shape, 'strokeEnabled', true);\nFactory.addGetterSetter(Shape, 'shadowEnabled', true);\nFactory.addGetterSetter(Shape, 'dashEnabled', true);\nFactory.addGetterSetter(Shape, 'strokeScaleEnabled', true);\nFactory.addGetterSetter(Shape, 'fillPriority', 'color');\nFactory.addComponentsGetterSetter(Shape, 'fillPatternOffset', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'fillPatternOffsetX', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternOffsetY', 0, getNumberValidator());\nFactory.addComponentsGetterSetter(Shape, 'fillPatternScale', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'fillPatternScaleX', 1, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternScaleY', 1, getNumberValidator());\nFactory.addComponentsGetterSetter(Shape, 'fillLinearGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory.addComponentsGetterSetter(Shape, 'strokeLinearGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillLinearGradientStartPointX', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientStartPointX', 0);\nFactory.addGetterSetter(Shape, 'fillLinearGradientStartPointY', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientStartPointY', 0);\nFactory.addComponentsGetterSetter(Shape, 'fillLinearGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory.addComponentsGetterSetter(Shape, 'strokeLinearGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillLinearGradientEndPointX', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientEndPointX', 0);\nFactory.addGetterSetter(Shape, 'fillLinearGradientEndPointY', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientEndPointY', 0);\nFactory.addComponentsGetterSetter(Shape, 'fillRadialGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillRadialGradientStartPointX', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientStartPointY', 0);\nFactory.addComponentsGetterSetter(Shape, 'fillRadialGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillRadialGradientEndPointX', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientEndPointY', 0);\nFactory.addGetterSetter(Shape, 'fillPatternRotation', 0);\nFactory.backCompat(Shape, {\n    dashArray: 'dash',\n    getDashArray: 'getDash',\n    setDashArray: 'getDash',\n    drawFunc: 'sceneFunc',\n    getDrawFunc: 'getSceneFunc',\n    setDrawFunc: 'setSceneFunc',\n    drawHitFunc: 'hitFunc',\n    getDrawHitFunc: 'getHitFunc',\n    setDrawHitFunc: 'setHitFunc',\n});\n","import { Util } from './Util.js';\nimport { Container } from './Container.js';\nimport { Node } from './Node.js';\nimport { Factory } from './Factory.js';\nimport { SceneCanvas, HitCanvas } from './Canvas.js';\nimport { getBooleanValidator } from './Validators.js';\nimport { shapes } from './Shape.js';\nimport { _registerNode } from './Global.js';\nvar HASH = '#', BEFORE_DRAW = 'beforeDraw', DRAW = 'draw', INTERSECTION_OFFSETS = [\n    { x: 0, y: 0 },\n    { x: -1, y: -1 },\n    { x: 1, y: -1 },\n    { x: 1, y: 1 },\n    { x: -1, y: 1 },\n], INTERSECTION_OFFSETS_LEN = INTERSECTION_OFFSETS.length;\nexport class Layer extends Container {\n    constructor(config) {\n        super(config);\n        this.canvas = new SceneCanvas();\n        this.hitCanvas = new HitCanvas({\n            pixelRatio: 1,\n        });\n        this._waitingForDraw = false;\n        this.on('visibleChange.konva', this._checkVisibility);\n        this._checkVisibility();\n        this.on('imageSmoothingEnabledChange.konva', this._setSmoothEnabled);\n        this._setSmoothEnabled();\n    }\n    createPNGStream() {\n        const c = this.canvas._canvas;\n        return c.createPNGStream();\n    }\n    getCanvas() {\n        return this.canvas;\n    }\n    getNativeCanvasElement() {\n        return this.canvas._canvas;\n    }\n    getHitCanvas() {\n        return this.hitCanvas;\n    }\n    getContext() {\n        return this.getCanvas().getContext();\n    }\n    clear(bounds) {\n        this.getContext().clear(bounds);\n        this.getHitCanvas().getContext().clear(bounds);\n        return this;\n    }\n    setZIndex(index) {\n        super.setZIndex(index);\n        var stage = this.getStage();\n        if (stage && stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            if (index < stage.children.length - 1) {\n                stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[index + 1].getCanvas()._canvas);\n            }\n            else {\n                stage.content.appendChild(this.getNativeCanvasElement());\n            }\n        }\n        return this;\n    }\n    moveToTop() {\n        Node.prototype.moveToTop.call(this);\n        var stage = this.getStage();\n        if (stage && stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            stage.content.appendChild(this.getNativeCanvasElement());\n        }\n        return true;\n    }\n    moveUp() {\n        var moved = Node.prototype.moveUp.call(this);\n        if (!moved) {\n            return false;\n        }\n        var stage = this.getStage();\n        if (!stage || !stage.content) {\n            return false;\n        }\n        stage.content.removeChild(this.getNativeCanvasElement());\n        if (this.index < stage.children.length - 1) {\n            stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[this.index + 1].getCanvas()._canvas);\n        }\n        else {\n            stage.content.appendChild(this.getNativeCanvasElement());\n        }\n        return true;\n    }\n    moveDown() {\n        if (Node.prototype.moveDown.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                if (stage.content) {\n                    stage.content.removeChild(this.getNativeCanvasElement());\n                    stage.content.insertBefore(this.getNativeCanvasElement(), children[this.index + 1].getCanvas()._canvas);\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    moveToBottom() {\n        if (Node.prototype.moveToBottom.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                if (stage.content) {\n                    stage.content.removeChild(this.getNativeCanvasElement());\n                    stage.content.insertBefore(this.getNativeCanvasElement(), children[1].getCanvas()._canvas);\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    getLayer() {\n        return this;\n    }\n    remove() {\n        var _canvas = this.getNativeCanvasElement();\n        Node.prototype.remove.call(this);\n        if (_canvas && _canvas.parentNode && Util._isInDocument(_canvas)) {\n            _canvas.parentNode.removeChild(_canvas);\n        }\n        return this;\n    }\n    getStage() {\n        return this.parent;\n    }\n    setSize({ width, height }) {\n        this.canvas.setSize(width, height);\n        this.hitCanvas.setSize(width, height);\n        this._setSmoothEnabled();\n        return this;\n    }\n    _validateAdd(child) {\n        var type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util.throw('You may only add groups and shapes to a layer.');\n        }\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        config.width = config.width || this.getWidth();\n        config.height = config.height || this.getHeight();\n        config.x = config.x !== undefined ? config.x : this.x();\n        config.y = config.y !== undefined ? config.y : this.y();\n        return Node.prototype._toKonvaCanvas.call(this, config);\n    }\n    _checkVisibility() {\n        const visible = this.visible();\n        if (visible) {\n            this.canvas._canvas.style.display = 'block';\n        }\n        else {\n            this.canvas._canvas.style.display = 'none';\n        }\n    }\n    _setSmoothEnabled() {\n        this.getContext()._context.imageSmoothingEnabled =\n            this.imageSmoothingEnabled();\n    }\n    getWidth() {\n        if (this.parent) {\n            return this.parent.width();\n        }\n    }\n    setWidth() {\n        Util.warn('Can not change width of layer. Use \"stage.width(value)\" function instead.');\n    }\n    getHeight() {\n        if (this.parent) {\n            return this.parent.height();\n        }\n    }\n    setHeight() {\n        Util.warn('Can not change height of layer. Use \"stage.height(value)\" function instead.');\n    }\n    batchDraw() {\n        if (!this._waitingForDraw) {\n            this._waitingForDraw = true;\n            Util.requestAnimFrame(() => {\n                this.draw();\n                this._waitingForDraw = false;\n            });\n        }\n        return this;\n    }\n    getIntersection(pos) {\n        if (!this.isListening() || !this.isVisible()) {\n            return null;\n        }\n        var spiralSearchDistance = 1;\n        var continueSearch = false;\n        while (true) {\n            for (let i = 0; i < INTERSECTION_OFFSETS_LEN; i++) {\n                const intersectionOffset = INTERSECTION_OFFSETS[i];\n                const obj = this._getIntersection({\n                    x: pos.x + intersectionOffset.x * spiralSearchDistance,\n                    y: pos.y + intersectionOffset.y * spiralSearchDistance,\n                });\n                const shape = obj.shape;\n                if (shape) {\n                    return shape;\n                }\n                continueSearch = !!obj.antialiased;\n                if (!obj.antialiased) {\n                    break;\n                }\n            }\n            if (continueSearch) {\n                spiralSearchDistance += 1;\n            }\n            else {\n                return null;\n            }\n        }\n    }\n    _getIntersection(pos) {\n        const ratio = this.hitCanvas.pixelRatio;\n        const p = this.hitCanvas.context.getImageData(Math.round(pos.x * ratio), Math.round(pos.y * ratio), 1, 1).data;\n        const p3 = p[3];\n        if (p3 === 255) {\n            const colorKey = Util._rgbToHex(p[0], p[1], p[2]);\n            const shape = shapes[HASH + colorKey];\n            if (shape) {\n                return {\n                    shape: shape,\n                };\n            }\n            return {\n                antialiased: true,\n            };\n        }\n        else if (p3 > 0) {\n            return {\n                antialiased: true,\n            };\n        }\n        return {};\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.getCanvas());\n        this._fire(BEFORE_DRAW, {\n            node: this,\n        });\n        if (this.clearBeforeDraw()) {\n            canvas.getContext().clear();\n        }\n        Container.prototype.drawScene.call(this, canvas, top);\n        this._fire(DRAW, {\n            node: this,\n        });\n        return this;\n    }\n    drawHit(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas);\n        if (layer && layer.clearBeforeDraw()) {\n            layer.getHitCanvas().getContext().clear();\n        }\n        Container.prototype.drawHit.call(this, canvas, top);\n        return this;\n    }\n    enableHitGraph() {\n        this.hitGraphEnabled(true);\n        return this;\n    }\n    disableHitGraph() {\n        this.hitGraphEnabled(false);\n        return this;\n    }\n    setHitGraphEnabled(val) {\n        Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        this.listening(val);\n    }\n    getHitGraphEnabled(val) {\n        Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        return this.listening();\n    }\n    toggleHitCanvas() {\n        if (!this.parent || !this.parent['content']) {\n            return;\n        }\n        var parent = this.parent;\n        var added = !!this.hitCanvas._canvas.parentNode;\n        if (added) {\n            parent.content.removeChild(this.hitCanvas._canvas);\n        }\n        else {\n            parent.content.appendChild(this.hitCanvas._canvas);\n        }\n    }\n}\nLayer.prototype.nodeType = 'Layer';\n_registerNode(Layer);\nFactory.addGetterSetter(Layer, 'imageSmoothingEnabled', true);\nFactory.addGetterSetter(Layer, 'clearBeforeDraw', true);\nFactory.addGetterSetter(Layer, 'hitGraphEnabled', true, getBooleanValidator());\n","import { Util } from './Util.js';\nimport { Layer } from './Layer.js';\nimport { _registerNode } from './Global.js';\nexport class FastLayer extends Layer {\n    constructor(attrs) {\n        super(attrs);\n        this.listening(false);\n        Util.warn('Konva.Fast layer is deprecated. Please use \"new Konva.Layer({ listening: false })\" instead.');\n    }\n}\nFastLayer.prototype.nodeType = 'FastLayer';\n_registerNode(FastLayer);\n","import { Util } from './Util.js';\nimport { Container } from './Container.js';\nimport { _registerNode } from './Global.js';\nexport class Group extends Container {\n    _validateAdd(child) {\n        var type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util.throw('You may only add groups and shapes to groups.');\n        }\n    }\n}\nGroup.prototype.nodeType = 'Group';\n_registerNode(Group);\n","import { glob } from './Global.js';\nimport { Util } from './Util.js';\nvar now = (function () {\n    if (glob.performance && glob.performance.now) {\n        return function () {\n            return glob.performance.now();\n        };\n    }\n    return function () {\n        return new Date().getTime();\n    };\n})();\nexport class Animation {\n    constructor(func, layers) {\n        this.id = Animation.animIdCounter++;\n        this.frame = {\n            time: 0,\n            timeDiff: 0,\n            lastTime: now(),\n            frameRate: 0,\n        };\n        this.func = func;\n        this.setLayers(layers);\n    }\n    setLayers(layers) {\n        var lays = [];\n        if (!layers) {\n            lays = [];\n        }\n        else if (layers.length > 0) {\n            lays = layers;\n        }\n        else {\n            lays = [layers];\n        }\n        this.layers = lays;\n        return this;\n    }\n    getLayers() {\n        return this.layers;\n    }\n    addLayer(layer) {\n        var layers = this.layers, len = layers.length, n;\n        for (n = 0; n < len; n++) {\n            if (layers[n]._id === layer._id) {\n                return false;\n            }\n        }\n        this.layers.push(layer);\n        return true;\n    }\n    isRunning() {\n        var a = Animation, animations = a.animations, len = animations.length, n;\n        for (n = 0; n < len; n++) {\n            if (animations[n].id === this.id) {\n                return true;\n            }\n        }\n        return false;\n    }\n    start() {\n        this.stop();\n        this.frame.timeDiff = 0;\n        this.frame.lastTime = now();\n        Animation._addAnimation(this);\n        return this;\n    }\n    stop() {\n        Animation._removeAnimation(this);\n        return this;\n    }\n    _updateFrameObject(time) {\n        this.frame.timeDiff = time - this.frame.lastTime;\n        this.frame.lastTime = time;\n        this.frame.time += this.frame.timeDiff;\n        this.frame.frameRate = 1000 / this.frame.timeDiff;\n    }\n    static _addAnimation(anim) {\n        this.animations.push(anim);\n        this._handleAnimation();\n    }\n    static _removeAnimation(anim) {\n        var id = anim.id, animations = this.animations, len = animations.length, n;\n        for (n = 0; n < len; n++) {\n            if (animations[n].id === id) {\n                this.animations.splice(n, 1);\n                break;\n            }\n        }\n    }\n    static _runFrames() {\n        var layerHash = {}, animations = this.animations, anim, layers, func, n, i, layersLen, layer, key, needRedraw;\n        for (n = 0; n < animations.length; n++) {\n            anim = animations[n];\n            layers = anim.layers;\n            func = anim.func;\n            anim._updateFrameObject(now());\n            layersLen = layers.length;\n            if (func) {\n                needRedraw = func.call(anim, anim.frame) !== false;\n            }\n            else {\n                needRedraw = true;\n            }\n            if (!needRedraw) {\n                continue;\n            }\n            for (i = 0; i < layersLen; i++) {\n                layer = layers[i];\n                if (layer._id !== undefined) {\n                    layerHash[layer._id] = layer;\n                }\n            }\n        }\n        for (key in layerHash) {\n            if (!layerHash.hasOwnProperty(key)) {\n                continue;\n            }\n            layerHash[key].batchDraw();\n        }\n    }\n    static _animationLoop() {\n        var Anim = Animation;\n        if (Anim.animations.length) {\n            Anim._runFrames();\n            Util.requestAnimFrame(Anim._animationLoop);\n        }\n        else {\n            Anim.animRunning = false;\n        }\n    }\n    static _handleAnimation() {\n        if (!this.animRunning) {\n            this.animRunning = true;\n            Util.requestAnimFrame(this._animationLoop);\n        }\n    }\n}\nAnimation.animations = [];\nAnimation.animIdCounter = 0;\nAnimation.animRunning = false;\n","import { Util } from './Util.js';\nimport { Animation } from './Animation.js';\nimport { Node } from './Node.js';\nimport { Konva } from './Global.js';\nvar blacklist = {\n    node: 1,\n    duration: 1,\n    easing: 1,\n    onFinish: 1,\n    yoyo: 1,\n}, PAUSED = 1, PLAYING = 2, REVERSING = 3, idCounter = 0, colorAttrs = ['fill', 'stroke', 'shadowColor'];\nclass TweenEngine {\n    constructor(prop, propFunc, func, begin, finish, duration, yoyo) {\n        this.prop = prop;\n        this.propFunc = propFunc;\n        this.begin = begin;\n        this._pos = begin;\n        this.duration = duration;\n        this._change = 0;\n        this.prevPos = 0;\n        this.yoyo = yoyo;\n        this._time = 0;\n        this._position = 0;\n        this._startTime = 0;\n        this._finish = 0;\n        this.func = func;\n        this._change = finish - this.begin;\n        this.pause();\n    }\n    fire(str) {\n        var handler = this[str];\n        if (handler) {\n            handler();\n        }\n    }\n    setTime(t) {\n        if (t > this.duration) {\n            if (this.yoyo) {\n                this._time = this.duration;\n                this.reverse();\n            }\n            else {\n                this.finish();\n            }\n        }\n        else if (t < 0) {\n            if (this.yoyo) {\n                this._time = 0;\n                this.play();\n            }\n            else {\n                this.reset();\n            }\n        }\n        else {\n            this._time = t;\n            this.update();\n        }\n    }\n    getTime() {\n        return this._time;\n    }\n    setPosition(p) {\n        this.prevPos = this._pos;\n        this.propFunc(p);\n        this._pos = p;\n    }\n    getPosition(t) {\n        if (t === undefined) {\n            t = this._time;\n        }\n        return this.func(t, this.begin, this._change, this.duration);\n    }\n    play() {\n        this.state = PLAYING;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onPlay');\n    }\n    reverse() {\n        this.state = REVERSING;\n        this._time = this.duration - this._time;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onReverse');\n    }\n    seek(t) {\n        this.pause();\n        this._time = t;\n        this.update();\n        this.fire('onSeek');\n    }\n    reset() {\n        this.pause();\n        this._time = 0;\n        this.update();\n        this.fire('onReset');\n    }\n    finish() {\n        this.pause();\n        this._time = this.duration;\n        this.update();\n        this.fire('onFinish');\n    }\n    update() {\n        this.setPosition(this.getPosition(this._time));\n        this.fire('onUpdate');\n    }\n    onEnterFrame() {\n        var t = this.getTimer() - this._startTime;\n        if (this.state === PLAYING) {\n            this.setTime(t);\n        }\n        else if (this.state === REVERSING) {\n            this.setTime(this.duration - t);\n        }\n    }\n    pause() {\n        this.state = PAUSED;\n        this.fire('onPause');\n    }\n    getTimer() {\n        return new Date().getTime();\n    }\n}\nexport class Tween {\n    constructor(config) {\n        var that = this, node = config.node, nodeId = node._id, duration, easing = config.easing || Easings.Linear, yoyo = !!config.yoyo, key;\n        if (typeof config.duration === 'undefined') {\n            duration = 0.3;\n        }\n        else if (config.duration === 0) {\n            duration = 0.001;\n        }\n        else {\n            duration = config.duration;\n        }\n        this.node = node;\n        this._id = idCounter++;\n        var layers = node.getLayer() ||\n            (node instanceof Konva['Stage'] ? node.getLayers() : null);\n        if (!layers) {\n            Util.error('Tween constructor have `node` that is not in a layer. Please add node into layer first.');\n        }\n        this.anim = new Animation(function () {\n            that.tween.onEnterFrame();\n        }, layers);\n        this.tween = new TweenEngine(key, function (i) {\n            that._tweenFunc(i);\n        }, easing, 0, 1, duration * 1000, yoyo);\n        this._addListeners();\n        if (!Tween.attrs[nodeId]) {\n            Tween.attrs[nodeId] = {};\n        }\n        if (!Tween.attrs[nodeId][this._id]) {\n            Tween.attrs[nodeId][this._id] = {};\n        }\n        if (!Tween.tweens[nodeId]) {\n            Tween.tweens[nodeId] = {};\n        }\n        for (key in config) {\n            if (blacklist[key] === undefined) {\n                this._addAttr(key, config[key]);\n            }\n        }\n        this.reset();\n        this.onFinish = config.onFinish;\n        this.onReset = config.onReset;\n        this.onUpdate = config.onUpdate;\n    }\n    _addAttr(key, end) {\n        var node = this.node, nodeId = node._id, start, diff, tweenId, n, len, trueEnd, trueStart, endRGBA;\n        tweenId = Tween.tweens[nodeId][key];\n        if (tweenId) {\n            delete Tween.attrs[nodeId][tweenId][key];\n        }\n        start = node.getAttr(key);\n        if (Util._isArray(end)) {\n            diff = [];\n            len = Math.max(end.length, start.length);\n            if (key === 'points' && end.length !== start.length) {\n                if (end.length > start.length) {\n                    trueStart = start;\n                    start = Util._prepareArrayForTween(start, end, node.closed());\n                }\n                else {\n                    trueEnd = end;\n                    end = Util._prepareArrayForTween(end, start, node.closed());\n                }\n            }\n            if (key.indexOf('fill') === 0) {\n                for (n = 0; n < len; n++) {\n                    if (n % 2 === 0) {\n                        diff.push(end[n] - start[n]);\n                    }\n                    else {\n                        var startRGBA = Util.colorToRGBA(start[n]);\n                        endRGBA = Util.colorToRGBA(end[n]);\n                        start[n] = startRGBA;\n                        diff.push({\n                            r: endRGBA.r - startRGBA.r,\n                            g: endRGBA.g - startRGBA.g,\n                            b: endRGBA.b - startRGBA.b,\n                            a: endRGBA.a - startRGBA.a,\n                        });\n                    }\n                }\n            }\n            else {\n                for (n = 0; n < len; n++) {\n                    diff.push(end[n] - start[n]);\n                }\n            }\n        }\n        else if (colorAttrs.indexOf(key) !== -1) {\n            start = Util.colorToRGBA(start);\n            endRGBA = Util.colorToRGBA(end);\n            diff = {\n                r: endRGBA.r - start.r,\n                g: endRGBA.g - start.g,\n                b: endRGBA.b - start.b,\n                a: endRGBA.a - start.a,\n            };\n        }\n        else {\n            diff = end - start;\n        }\n        Tween.attrs[nodeId][this._id][key] = {\n            start: start,\n            diff: diff,\n            end: end,\n            trueEnd: trueEnd,\n            trueStart: trueStart,\n        };\n        Tween.tweens[nodeId][key] = this._id;\n    }\n    _tweenFunc(i) {\n        var node = this.node, attrs = Tween.attrs[node._id][this._id], key, attr, start, diff, newVal, n, len, end;\n        for (key in attrs) {\n            attr = attrs[key];\n            start = attr.start;\n            diff = attr.diff;\n            end = attr.end;\n            if (Util._isArray(start)) {\n                newVal = [];\n                len = Math.max(start.length, end.length);\n                if (key.indexOf('fill') === 0) {\n                    for (n = 0; n < len; n++) {\n                        if (n % 2 === 0) {\n                            newVal.push((start[n] || 0) + diff[n] * i);\n                        }\n                        else {\n                            newVal.push('rgba(' +\n                                Math.round(start[n].r + diff[n].r * i) +\n                                ',' +\n                                Math.round(start[n].g + diff[n].g * i) +\n                                ',' +\n                                Math.round(start[n].b + diff[n].b * i) +\n                                ',' +\n                                (start[n].a + diff[n].a * i) +\n                                ')');\n                        }\n                    }\n                }\n                else {\n                    for (n = 0; n < len; n++) {\n                        newVal.push((start[n] || 0) + diff[n] * i);\n                    }\n                }\n            }\n            else if (colorAttrs.indexOf(key) !== -1) {\n                newVal =\n                    'rgba(' +\n                        Math.round(start.r + diff.r * i) +\n                        ',' +\n                        Math.round(start.g + diff.g * i) +\n                        ',' +\n                        Math.round(start.b + diff.b * i) +\n                        ',' +\n                        (start.a + diff.a * i) +\n                        ')';\n            }\n            else {\n                newVal = start + diff * i;\n            }\n            node.setAttr(key, newVal);\n        }\n    }\n    _addListeners() {\n        this.tween.onPlay = () => {\n            this.anim.start();\n        };\n        this.tween.onReverse = () => {\n            this.anim.start();\n        };\n        this.tween.onPause = () => {\n            this.anim.stop();\n        };\n        this.tween.onFinish = () => {\n            var node = this.node;\n            var attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueEnd) {\n                node.setAttr('points', attrs.points.trueEnd);\n            }\n            if (this.onFinish) {\n                this.onFinish.call(this);\n            }\n        };\n        this.tween.onReset = () => {\n            var node = this.node;\n            var attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueStart) {\n                node.points(attrs.points.trueStart);\n            }\n            if (this.onReset) {\n                this.onReset();\n            }\n        };\n        this.tween.onUpdate = () => {\n            if (this.onUpdate) {\n                this.onUpdate.call(this);\n            }\n        };\n    }\n    play() {\n        this.tween.play();\n        return this;\n    }\n    reverse() {\n        this.tween.reverse();\n        return this;\n    }\n    reset() {\n        this.tween.reset();\n        return this;\n    }\n    seek(t) {\n        this.tween.seek(t * 1000);\n        return this;\n    }\n    pause() {\n        this.tween.pause();\n        return this;\n    }\n    finish() {\n        this.tween.finish();\n        return this;\n    }\n    destroy() {\n        var nodeId = this.node._id, thisId = this._id, attrs = Tween.tweens[nodeId], key;\n        this.pause();\n        for (key in attrs) {\n            delete Tween.tweens[nodeId][key];\n        }\n        delete Tween.attrs[nodeId][thisId];\n    }\n}\nTween.attrs = {};\nTween.tweens = {};\nNode.prototype.to = function (params) {\n    var onFinish = params.onFinish;\n    params.node = this;\n    params.onFinish = function () {\n        this.destroy();\n        if (onFinish) {\n            onFinish();\n        }\n    };\n    var tween = new Tween(params);\n    tween.play();\n};\nexport const Easings = {\n    BackEaseIn(t, b, c, d) {\n        var s = 1.70158;\n        return c * (t /= d) * t * ((s + 1) * t - s) + b;\n    },\n    BackEaseOut(t, b, c, d) {\n        var s = 1.70158;\n        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    },\n    BackEaseInOut(t, b, c, d) {\n        var s = 1.70158;\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n        }\n        return (c / 2) * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    },\n    ElasticEaseIn(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (-(a *\n            Math.pow(2, 10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b);\n    },\n    ElasticEaseOut(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (a * Math.pow(2, -10 * t) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) +\n            c +\n            b);\n    },\n    ElasticEaseInOut(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d / 2) === 2) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * (0.3 * 1.5);\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        if (t < 1) {\n            return (-0.5 *\n                (a *\n                    Math.pow(2, 10 * (t -= 1)) *\n                    Math.sin(((t * d - s) * (2 * Math.PI)) / p)) +\n                b);\n        }\n        return (a *\n            Math.pow(2, -10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p) *\n            0.5 +\n            c +\n            b);\n    },\n    BounceEaseOut(t, b, c, d) {\n        if ((t /= d) < 1 / 2.75) {\n            return c * (7.5625 * t * t) + b;\n        }\n        else if (t < 2 / 2.75) {\n            return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n        }\n        else if (t < 2.5 / 2.75) {\n            return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n        }\n        else {\n            return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n        }\n    },\n    BounceEaseIn(t, b, c, d) {\n        return c - Easings.BounceEaseOut(d - t, 0, c, d) + b;\n    },\n    BounceEaseInOut(t, b, c, d) {\n        if (t < d / 2) {\n            return Easings.BounceEaseIn(t * 2, 0, c, d) * 0.5 + b;\n        }\n        else {\n            return Easings.BounceEaseOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n        }\n    },\n    EaseIn(t, b, c, d) {\n        return c * (t /= d) * t + b;\n    },\n    EaseOut(t, b, c, d) {\n        return -c * (t /= d) * (t - 2) + b;\n    },\n    EaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t + b;\n        }\n        return (-c / 2) * (--t * (t - 2) - 1) + b;\n    },\n    StrongEaseIn(t, b, c, d) {\n        return c * (t /= d) * t * t * t * t + b;\n    },\n    StrongEaseOut(t, b, c, d) {\n        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n    },\n    StrongEaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t * t * t * t + b;\n        }\n        return (c / 2) * ((t -= 2) * t * t * t * t + 2) + b;\n    },\n    Linear(t, b, c, d) {\n        return (c * t) / d + b;\n    },\n};\n","import { Konva as Global } from './Global.js';\nimport { Util, Transform } from './Util.js';\nimport { Node } from './Node.js';\nimport { Container } from './Container.js';\nimport { Stage, stages } from './Stage.js';\nimport { Layer } from './Layer.js';\nimport { FastLayer } from './FastLayer.js';\nimport { Group } from './Group.js';\nimport { DD } from './DragAndDrop.js';\nimport { Shape, shapes } from './Shape.js';\nimport { Animation } from './Animation.js';\nimport { Tween, Easings } from './Tween.js';\nimport { Context } from './Context.js';\nimport { Canvas } from './Canvas.js';\nexport const Konva = Util._assign(Global, {\n    Util,\n    Transform,\n    Node,\n    Container,\n    Stage,\n    stages,\n    Layer,\n    FastLayer,\n    Group,\n    DD,\n    Shape,\n    shapes,\n    Animation,\n    Tween,\n    Easings,\n    Context,\n    Canvas,\n});\nexport default Konva;\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Konva } from '../Global.js';\nimport { getNumberValidator, getBooleanValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Arc extends Shape {\n    _sceneFunc(context) {\n        var angle = Konva.getAngle(this.angle()), clockwise = this.clockwise();\n        context.beginPath();\n        context.arc(0, 0, this.outerRadius(), 0, angle, clockwise);\n        context.arc(0, 0, this.innerRadius(), angle, 0, !clockwise);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.outerRadius() * 2;\n    }\n    getHeight() {\n        return this.outerRadius() * 2;\n    }\n    setWidth(width) {\n        this.outerRadius(width / 2);\n    }\n    setHeight(height) {\n        this.outerRadius(height / 2);\n    }\n    getSelfRect() {\n        const innerRadius = this.innerRadius();\n        const outerRadius = this.outerRadius();\n        const clockwise = this.clockwise();\n        const angle = Konva.getAngle(clockwise ? 360 - this.angle() : this.angle());\n        const boundLeftRatio = Math.cos(Math.min(angle, Math.PI));\n        const boundRightRatio = 1;\n        const boundTopRatio = Math.sin(Math.min(Math.max(Math.PI, angle), (3 * Math.PI) / 2));\n        const boundBottomRatio = Math.sin(Math.min(angle, Math.PI / 2));\n        const boundLeft = boundLeftRatio * (boundLeftRatio > 0 ? innerRadius : outerRadius);\n        const boundRight = boundRightRatio * (boundRightRatio > 0 ? outerRadius : innerRadius);\n        const boundTop = boundTopRatio * (boundTopRatio > 0 ? innerRadius : outerRadius);\n        const boundBottom = boundBottomRatio * (boundBottomRatio > 0 ? outerRadius : innerRadius);\n        return {\n            x: boundLeft,\n            y: clockwise ? -1 * boundBottom : boundTop,\n            width: boundRight - boundLeft,\n            height: boundBottom - boundTop,\n        };\n    }\n}\nArc.prototype._centroid = true;\nArc.prototype.className = 'Arc';\nArc.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n_registerNode(Arc);\nFactory.addGetterSetter(Arc, 'innerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Arc, 'outerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Arc, 'angle', 0, getNumberValidator());\nFactory.addGetterSetter(Arc, 'clockwise', false, getBooleanValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator, getNumberArrayValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nfunction getControlPoints(x0, y0, x1, y1, x2, y2, t) {\n    var d01 = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2)), d12 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2)), fa = (t * d01) / (d01 + d12), fb = (t * d12) / (d01 + d12), p1x = x1 - fa * (x2 - x0), p1y = y1 - fa * (y2 - y0), p2x = x1 + fb * (x2 - x0), p2y = y1 + fb * (y2 - y0);\n    return [p1x, p1y, p2x, p2y];\n}\nfunction expandPoints(p, tension) {\n    var len = p.length, allPoints = [], n, cp;\n    for (n = 2; n < len - 2; n += 2) {\n        cp = getControlPoints(p[n - 2], p[n - 1], p[n], p[n + 1], p[n + 2], p[n + 3], tension);\n        if (isNaN(cp[0])) {\n            continue;\n        }\n        allPoints.push(cp[0]);\n        allPoints.push(cp[1]);\n        allPoints.push(p[n]);\n        allPoints.push(p[n + 1]);\n        allPoints.push(cp[2]);\n        allPoints.push(cp[3]);\n    }\n    return allPoints;\n}\nexport class Line extends Shape {\n    constructor(config) {\n        super(config);\n        this.on('pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva', function () {\n            this._clearCache('tensionPoints');\n        });\n    }\n    _sceneFunc(context) {\n        var points = this.points(), length = points.length, tension = this.tension(), closed = this.closed(), bezier = this.bezier(), tp, len, n;\n        if (!length) {\n            return;\n        }\n        context.beginPath();\n        context.moveTo(points[0], points[1]);\n        if (tension !== 0 && length > 4) {\n            tp = this.getTensionPoints();\n            len = tp.length;\n            n = closed ? 0 : 4;\n            if (!closed) {\n                context.quadraticCurveTo(tp[0], tp[1], tp[2], tp[3]);\n            }\n            while (n < len - 2) {\n                context.bezierCurveTo(tp[n++], tp[n++], tp[n++], tp[n++], tp[n++], tp[n++]);\n            }\n            if (!closed) {\n                context.quadraticCurveTo(tp[len - 2], tp[len - 1], points[length - 2], points[length - 1]);\n            }\n        }\n        else if (bezier) {\n            n = 2;\n            while (n < length) {\n                context.bezierCurveTo(points[n++], points[n++], points[n++], points[n++], points[n++], points[n++]);\n            }\n        }\n        else {\n            for (n = 2; n < length; n += 2) {\n                context.lineTo(points[n], points[n + 1]);\n            }\n        }\n        if (closed) {\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        else {\n            context.strokeShape(this);\n        }\n    }\n    getTensionPoints() {\n        return this._getCache('tensionPoints', this._getTensionPoints);\n    }\n    _getTensionPoints() {\n        if (this.closed()) {\n            return this._getTensionPointsClosed();\n        }\n        else {\n            return expandPoints(this.points(), this.tension());\n        }\n    }\n    _getTensionPointsClosed() {\n        var p = this.points(), len = p.length, tension = this.tension(), firstControlPoints = getControlPoints(p[len - 2], p[len - 1], p[0], p[1], p[2], p[3], tension), lastControlPoints = getControlPoints(p[len - 4], p[len - 3], p[len - 2], p[len - 1], p[0], p[1], tension), middle = expandPoints(p, tension), tp = [firstControlPoints[2], firstControlPoints[3]]\n            .concat(middle)\n            .concat([\n            lastControlPoints[0],\n            lastControlPoints[1],\n            p[len - 2],\n            p[len - 1],\n            lastControlPoints[2],\n            lastControlPoints[3],\n            firstControlPoints[0],\n            firstControlPoints[1],\n            p[0],\n            p[1],\n        ]);\n        return tp;\n    }\n    getWidth() {\n        return this.getSelfRect().width;\n    }\n    getHeight() {\n        return this.getSelfRect().height;\n    }\n    getSelfRect() {\n        var points = this.points();\n        if (points.length < 4) {\n            return {\n                x: points[0] || 0,\n                y: points[1] || 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        if (this.tension() !== 0) {\n            points = [\n                points[0],\n                points[1],\n                ...this._getTensionPoints(),\n                points[points.length - 2],\n                points[points.length - 1],\n            ];\n        }\n        else {\n            points = this.points();\n        }\n        var minX = points[0];\n        var maxX = points[0];\n        var minY = points[1];\n        var maxY = points[1];\n        var x, y;\n        for (var i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            minX = Math.min(minX, x);\n            maxX = Math.max(maxX, x);\n            minY = Math.min(minY, y);\n            maxY = Math.max(maxY, y);\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n}\nLine.prototype.className = 'Line';\nLine.prototype._attrsAffectingSize = ['points', 'bezier', 'tension'];\n_registerNode(Line);\nFactory.addGetterSetter(Line, 'closed', false);\nFactory.addGetterSetter(Line, 'bezier', false);\nFactory.addGetterSetter(Line, 'tension', 0, getNumberValidator());\nFactory.addGetterSetter(Line, 'points', [], getNumberArrayValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { _registerNode } from '../Global.js';\nexport class Path extends Shape {\n    constructor(config) {\n        super(config);\n        this.dataArray = [];\n        this.pathLength = 0;\n        this.dataArray = Path.parsePathData(this.data());\n        this.pathLength = 0;\n        for (var i = 0; i < this.dataArray.length; ++i) {\n            this.pathLength += this.dataArray[i].pathLength;\n        }\n        this.on('dataChange.konva', function () {\n            this.dataArray = Path.parsePathData(this.data());\n            this.pathLength = 0;\n            for (var i = 0; i < this.dataArray.length; ++i) {\n                this.pathLength += this.dataArray[i].pathLength;\n            }\n        });\n    }\n    _sceneFunc(context) {\n        var ca = this.dataArray;\n        context.beginPath();\n        var isClosed = false;\n        for (var n = 0; n < ca.length; n++) {\n            var c = ca[n].command;\n            var p = ca[n].points;\n            switch (c) {\n                case 'L':\n                    context.lineTo(p[0], p[1]);\n                    break;\n                case 'M':\n                    context.moveTo(p[0], p[1]);\n                    break;\n                case 'C':\n                    context.bezierCurveTo(p[0], p[1], p[2], p[3], p[4], p[5]);\n                    break;\n                case 'Q':\n                    context.quadraticCurveTo(p[0], p[1], p[2], p[3]);\n                    break;\n                case 'A':\n                    var cx = p[0], cy = p[1], rx = p[2], ry = p[3], theta = p[4], dTheta = p[5], psi = p[6], fs = p[7];\n                    var r = rx > ry ? rx : ry;\n                    var scaleX = rx > ry ? 1 : rx / ry;\n                    var scaleY = rx > ry ? ry / rx : 1;\n                    context.translate(cx, cy);\n                    context.rotate(psi);\n                    context.scale(scaleX, scaleY);\n                    context.arc(0, 0, r, theta, theta + dTheta, 1 - fs);\n                    context.scale(1 / scaleX, 1 / scaleY);\n                    context.rotate(-psi);\n                    context.translate(-cx, -cy);\n                    break;\n                case 'z':\n                    isClosed = true;\n                    context.closePath();\n                    break;\n            }\n        }\n        if (!isClosed && !this.hasFill()) {\n            context.strokeShape(this);\n        }\n        else {\n            context.fillStrokeShape(this);\n        }\n    }\n    getSelfRect() {\n        var points = [];\n        this.dataArray.forEach(function (data) {\n            if (data.command === 'A') {\n                var start = data.points[4];\n                var dTheta = data.points[5];\n                var end = data.points[4] + dTheta;\n                var inc = Math.PI / 180.0;\n                if (Math.abs(start - end) < inc) {\n                    inc = Math.abs(start - end);\n                }\n                if (dTheta < 0) {\n                    for (let t = start - inc; t > end; t -= inc) {\n                        const point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], t, 0);\n                        points.push(point.x, point.y);\n                    }\n                }\n                else {\n                    for (let t = start + inc; t < end; t += inc) {\n                        const point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], t, 0);\n                        points.push(point.x, point.y);\n                    }\n                }\n            }\n            else if (data.command === 'C') {\n                for (let t = 0.0; t <= 1; t += 0.01) {\n                    const point = Path.getPointOnCubicBezier(t, data.start.x, data.start.y, data.points[0], data.points[1], data.points[2], data.points[3], data.points[4], data.points[5]);\n                    points.push(point.x, point.y);\n                }\n            }\n            else {\n                points = points.concat(data.points);\n            }\n        });\n        var minX = points[0];\n        var maxX = points[0];\n        var minY = points[1];\n        var maxY = points[1];\n        var x, y;\n        for (var i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            if (!isNaN(x)) {\n                minX = Math.min(minX, x);\n                maxX = Math.max(maxX, x);\n            }\n            if (!isNaN(y)) {\n                minY = Math.min(minY, y);\n                maxY = Math.max(maxY, y);\n            }\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    getLength() {\n        return this.pathLength;\n    }\n    getPointAtLength(length) {\n        var point, i = 0, ii = this.dataArray.length;\n        if (!ii) {\n            return null;\n        }\n        while (i < ii && length > this.dataArray[i].pathLength) {\n            length -= this.dataArray[i].pathLength;\n            ++i;\n        }\n        if (i === ii) {\n            point = this.dataArray[i - 1].points.slice(-2);\n            return {\n                x: point[0],\n                y: point[1],\n            };\n        }\n        if (length < 0.01) {\n            point = this.dataArray[i].points.slice(0, 2);\n            return {\n                x: point[0],\n                y: point[1],\n            };\n        }\n        var cp = this.dataArray[i];\n        var p = cp.points;\n        switch (cp.command) {\n            case 'L':\n                return Path.getPointOnLine(length, cp.start.x, cp.start.y, p[0], p[1]);\n            case 'C':\n                return Path.getPointOnCubicBezier(length / cp.pathLength, cp.start.x, cp.start.y, p[0], p[1], p[2], p[3], p[4], p[5]);\n            case 'Q':\n                return Path.getPointOnQuadraticBezier(length / cp.pathLength, cp.start.x, cp.start.y, p[0], p[1], p[2], p[3]);\n            case 'A':\n                var cx = p[0], cy = p[1], rx = p[2], ry = p[3], theta = p[4], dTheta = p[5], psi = p[6];\n                theta += (dTheta * length) / cp.pathLength;\n                return Path.getPointOnEllipticalArc(cx, cy, rx, ry, theta, psi);\n        }\n        return null;\n    }\n    static getLineLength(x1, y1, x2, y2) {\n        return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n    }\n    static getPointOnLine(dist, P1x, P1y, P2x, P2y, fromX, fromY) {\n        if (fromX === undefined) {\n            fromX = P1x;\n        }\n        if (fromY === undefined) {\n            fromY = P1y;\n        }\n        var m = (P2y - P1y) / (P2x - P1x + 0.00000001);\n        var run = Math.sqrt((dist * dist) / (1 + m * m));\n        if (P2x < P1x) {\n            run *= -1;\n        }\n        var rise = m * run;\n        var pt;\n        if (P2x === P1x) {\n            pt = {\n                x: fromX,\n                y: fromY + rise,\n            };\n        }\n        else if ((fromY - P1y) / (fromX - P1x + 0.00000001) === m) {\n            pt = {\n                x: fromX + run,\n                y: fromY + rise,\n            };\n        }\n        else {\n            var ix, iy;\n            var len = this.getLineLength(P1x, P1y, P2x, P2y);\n            var u = (fromX - P1x) * (P2x - P1x) + (fromY - P1y) * (P2y - P1y);\n            u = u / (len * len);\n            ix = P1x + u * (P2x - P1x);\n            iy = P1y + u * (P2y - P1y);\n            var pRise = this.getLineLength(fromX, fromY, ix, iy);\n            var pRun = Math.sqrt(dist * dist - pRise * pRise);\n            run = Math.sqrt((pRun * pRun) / (1 + m * m));\n            if (P2x < P1x) {\n                run *= -1;\n            }\n            rise = m * run;\n            pt = {\n                x: ix + run,\n                y: iy + rise,\n            };\n        }\n        return pt;\n    }\n    static getPointOnCubicBezier(pct, P1x, P1y, P2x, P2y, P3x, P3y, P4x, P4y) {\n        function CB1(t) {\n            return t * t * t;\n        }\n        function CB2(t) {\n            return 3 * t * t * (1 - t);\n        }\n        function CB3(t) {\n            return 3 * t * (1 - t) * (1 - t);\n        }\n        function CB4(t) {\n            return (1 - t) * (1 - t) * (1 - t);\n        }\n        var x = P4x * CB1(pct) + P3x * CB2(pct) + P2x * CB3(pct) + P1x * CB4(pct);\n        var y = P4y * CB1(pct) + P3y * CB2(pct) + P2y * CB3(pct) + P1y * CB4(pct);\n        return {\n            x: x,\n            y: y,\n        };\n    }\n    static getPointOnQuadraticBezier(pct, P1x, P1y, P2x, P2y, P3x, P3y) {\n        function QB1(t) {\n            return t * t;\n        }\n        function QB2(t) {\n            return 2 * t * (1 - t);\n        }\n        function QB3(t) {\n            return (1 - t) * (1 - t);\n        }\n        var x = P3x * QB1(pct) + P2x * QB2(pct) + P1x * QB3(pct);\n        var y = P3y * QB1(pct) + P2y * QB2(pct) + P1y * QB3(pct);\n        return {\n            x: x,\n            y: y,\n        };\n    }\n    static getPointOnEllipticalArc(cx, cy, rx, ry, theta, psi) {\n        var cosPsi = Math.cos(psi), sinPsi = Math.sin(psi);\n        var pt = {\n            x: rx * Math.cos(theta),\n            y: ry * Math.sin(theta),\n        };\n        return {\n            x: cx + (pt.x * cosPsi - pt.y * sinPsi),\n            y: cy + (pt.x * sinPsi + pt.y * cosPsi),\n        };\n    }\n    static parsePathData(data) {\n        if (!data) {\n            return [];\n        }\n        var cs = data;\n        var cc = [\n            'm',\n            'M',\n            'l',\n            'L',\n            'v',\n            'V',\n            'h',\n            'H',\n            'z',\n            'Z',\n            'c',\n            'C',\n            'q',\n            'Q',\n            't',\n            'T',\n            's',\n            'S',\n            'a',\n            'A',\n        ];\n        cs = cs.replace(new RegExp(' ', 'g'), ',');\n        for (var n = 0; n < cc.length; n++) {\n            cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);\n        }\n        var arr = cs.split('|');\n        var ca = [];\n        var coords = [];\n        var cpx = 0;\n        var cpy = 0;\n        var re = /([-+]?((\\d+\\.\\d+)|((\\d+)|(\\.\\d+)))(?:e[-+]?\\d+)?)/gi;\n        var match;\n        for (n = 1; n < arr.length; n++) {\n            var str = arr[n];\n            var c = str.charAt(0);\n            str = str.slice(1);\n            coords.length = 0;\n            while ((match = re.exec(str))) {\n                coords.push(match[0]);\n            }\n            var p = [];\n            for (var j = 0, jlen = coords.length; j < jlen; j++) {\n                if (coords[j] === '00') {\n                    p.push(0, 0);\n                    continue;\n                }\n                var parsed = parseFloat(coords[j]);\n                if (!isNaN(parsed)) {\n                    p.push(parsed);\n                }\n                else {\n                    p.push(0);\n                }\n            }\n            while (p.length > 0) {\n                if (isNaN(p[0])) {\n                    break;\n                }\n                var cmd = null;\n                var points = [];\n                var startX = cpx, startY = cpy;\n                var prevCmd, ctlPtx, ctlPty;\n                var rx, ry, psi, fa, fs, x1, y1;\n                switch (c) {\n                    case 'l':\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'L':\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        points.push(cpx, cpy);\n                        break;\n                    case 'm':\n                        var dx = p.shift();\n                        var dy = p.shift();\n                        cpx += dx;\n                        cpy += dy;\n                        cmd = 'M';\n                        if (ca.length > 2 && ca[ca.length - 1].command === 'z') {\n                            for (var idx = ca.length - 2; idx >= 0; idx--) {\n                                if (ca[idx].command === 'M') {\n                                    cpx = ca[idx].points[0] + dx;\n                                    cpy = ca[idx].points[1] + dy;\n                                    break;\n                                }\n                            }\n                        }\n                        points.push(cpx, cpy);\n                        c = 'l';\n                        break;\n                    case 'M':\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'M';\n                        points.push(cpx, cpy);\n                        c = 'L';\n                        break;\n                    case 'h':\n                        cpx += p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'H':\n                        cpx = p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'v':\n                        cpy += p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'V':\n                        cpy = p.shift();\n                        cmd = 'L';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'C':\n                        points.push(p.shift(), p.shift(), p.shift(), p.shift());\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        points.push(cpx, cpy);\n                        break;\n                    case 'c':\n                        points.push(cpx + p.shift(), cpy + p.shift(), cpx + p.shift(), cpy + p.shift());\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'C';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'S':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'C') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[2]);\n                            ctlPty = cpy + (cpy - prevCmd.points[3]);\n                        }\n                        points.push(ctlPtx, ctlPty, p.shift(), p.shift());\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'C';\n                        points.push(cpx, cpy);\n                        break;\n                    case 's':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'C') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[2]);\n                            ctlPty = cpy + (cpy - prevCmd.points[3]);\n                        }\n                        points.push(ctlPtx, ctlPty, cpx + p.shift(), cpy + p.shift());\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'C';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'Q':\n                        points.push(p.shift(), p.shift());\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        points.push(cpx, cpy);\n                        break;\n                    case 'q':\n                        points.push(cpx + p.shift(), cpy + p.shift());\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'Q';\n                        points.push(cpx, cpy);\n                        break;\n                    case 'T':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'Q') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[0]);\n                            ctlPty = cpy + (cpy - prevCmd.points[1]);\n                        }\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'Q';\n                        points.push(ctlPtx, ctlPty, cpx, cpy);\n                        break;\n                    case 't':\n                        ctlPtx = cpx;\n                        ctlPty = cpy;\n                        prevCmd = ca[ca.length - 1];\n                        if (prevCmd.command === 'Q') {\n                            ctlPtx = cpx + (cpx - prevCmd.points[0]);\n                            ctlPty = cpy + (cpy - prevCmd.points[1]);\n                        }\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'Q';\n                        points.push(ctlPtx, ctlPty, cpx, cpy);\n                        break;\n                    case 'A':\n                        rx = p.shift();\n                        ry = p.shift();\n                        psi = p.shift();\n                        fa = p.shift();\n                        fs = p.shift();\n                        x1 = cpx;\n                        y1 = cpy;\n                        cpx = p.shift();\n                        cpy = p.shift();\n                        cmd = 'A';\n                        points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);\n                        break;\n                    case 'a':\n                        rx = p.shift();\n                        ry = p.shift();\n                        psi = p.shift();\n                        fa = p.shift();\n                        fs = p.shift();\n                        x1 = cpx;\n                        y1 = cpy;\n                        cpx += p.shift();\n                        cpy += p.shift();\n                        cmd = 'A';\n                        points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);\n                        break;\n                }\n                ca.push({\n                    command: cmd || c,\n                    points: points,\n                    start: {\n                        x: startX,\n                        y: startY,\n                    },\n                    pathLength: this.calcLength(startX, startY, cmd || c, points),\n                });\n            }\n            if (c === 'z' || c === 'Z') {\n                ca.push({\n                    command: 'z',\n                    points: [],\n                    start: undefined,\n                    pathLength: 0,\n                });\n            }\n        }\n        return ca;\n    }\n    static calcLength(x, y, cmd, points) {\n        var len, p1, p2, t;\n        var path = Path;\n        switch (cmd) {\n            case 'L':\n                return path.getLineLength(x, y, points[0], points[1]);\n            case 'C':\n                len = 0.0;\n                p1 = path.getPointOnCubicBezier(0, x, y, points[0], points[1], points[2], points[3], points[4], points[5]);\n                for (t = 0.01; t <= 1; t += 0.01) {\n                    p2 = path.getPointOnCubicBezier(t, x, y, points[0], points[1], points[2], points[3], points[4], points[5]);\n                    len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                    p1 = p2;\n                }\n                return len;\n            case 'Q':\n                len = 0.0;\n                p1 = path.getPointOnQuadraticBezier(0, x, y, points[0], points[1], points[2], points[3]);\n                for (t = 0.01; t <= 1; t += 0.01) {\n                    p2 = path.getPointOnQuadraticBezier(t, x, y, points[0], points[1], points[2], points[3]);\n                    len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                    p1 = p2;\n                }\n                return len;\n            case 'A':\n                len = 0.0;\n                var start = points[4];\n                var dTheta = points[5];\n                var end = points[4] + dTheta;\n                var inc = Math.PI / 180.0;\n                if (Math.abs(start - end) < inc) {\n                    inc = Math.abs(start - end);\n                }\n                p1 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], start, 0);\n                if (dTheta < 0) {\n                    for (t = start - inc; t > end; t -= inc) {\n                        p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);\n                        len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                        p1 = p2;\n                    }\n                }\n                else {\n                    for (t = start + inc; t < end; t += inc) {\n                        p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);\n                        len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                        p1 = p2;\n                    }\n                }\n                p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], end, 0);\n                len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n                return len;\n        }\n        return 0;\n    }\n    static convertEndpointToCenterParameterization(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg) {\n        var psi = psiDeg * (Math.PI / 180.0);\n        var xp = (Math.cos(psi) * (x1 - x2)) / 2.0 + (Math.sin(psi) * (y1 - y2)) / 2.0;\n        var yp = (-1 * Math.sin(psi) * (x1 - x2)) / 2.0 +\n            (Math.cos(psi) * (y1 - y2)) / 2.0;\n        var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n        if (lambda > 1) {\n            rx *= Math.sqrt(lambda);\n            ry *= Math.sqrt(lambda);\n        }\n        var f = Math.sqrt((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) /\n            (rx * rx * (yp * yp) + ry * ry * (xp * xp)));\n        if (fa === fs) {\n            f *= -1;\n        }\n        if (isNaN(f)) {\n            f = 0;\n        }\n        var cxp = (f * rx * yp) / ry;\n        var cyp = (f * -ry * xp) / rx;\n        var cx = (x1 + x2) / 2.0 + Math.cos(psi) * cxp - Math.sin(psi) * cyp;\n        var cy = (y1 + y2) / 2.0 + Math.sin(psi) * cxp + Math.cos(psi) * cyp;\n        var vMag = function (v) {\n            return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n        };\n        var vRatio = function (u, v) {\n            return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n        };\n        var vAngle = function (u, v) {\n            return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n        };\n        var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n        var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n        var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n        var dTheta = vAngle(u, v);\n        if (vRatio(u, v) <= -1) {\n            dTheta = Math.PI;\n        }\n        if (vRatio(u, v) >= 1) {\n            dTheta = 0;\n        }\n        if (fs === 0 && dTheta > 0) {\n            dTheta = dTheta - 2 * Math.PI;\n        }\n        if (fs === 1 && dTheta < 0) {\n            dTheta = dTheta + 2 * Math.PI;\n        }\n        return [cx, cy, rx, ry, theta, dTheta, psi, fs];\n    }\n}\nPath.prototype.className = 'Path';\nPath.prototype._attrsAffectingSize = ['data'];\n_registerNode(Path);\nFactory.addGetterSetter(Path, 'data');\n","import { Factory } from '../Factory.js';\nimport { Line } from './Line.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nimport { Path } from './Path.js';\nexport class Arrow extends Line {\n    _sceneFunc(ctx) {\n        super._sceneFunc(ctx);\n        var PI2 = Math.PI * 2;\n        var points = this.points();\n        var tp = points;\n        var fromTension = this.tension() !== 0 && points.length > 4;\n        if (fromTension) {\n            tp = this.getTensionPoints();\n        }\n        var length = this.pointerLength();\n        var n = points.length;\n        var dx, dy;\n        if (fromTension) {\n            const lp = [\n                tp[tp.length - 4],\n                tp[tp.length - 3],\n                tp[tp.length - 2],\n                tp[tp.length - 1],\n                points[n - 2],\n                points[n - 1],\n            ];\n            const lastLength = Path.calcLength(tp[tp.length - 4], tp[tp.length - 3], 'C', lp);\n            const previous = Path.getPointOnQuadraticBezier(Math.min(1, 1 - length / lastLength), lp[0], lp[1], lp[2], lp[3], lp[4], lp[5]);\n            dx = points[n - 2] - previous.x;\n            dy = points[n - 1] - previous.y;\n        }\n        else {\n            dx = points[n - 2] - points[n - 4];\n            dy = points[n - 1] - points[n - 3];\n        }\n        var radians = (Math.atan2(dy, dx) + PI2) % PI2;\n        var width = this.pointerWidth();\n        if (this.pointerAtEnding()) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.translate(points[n - 2], points[n - 1]);\n            ctx.rotate(radians);\n            ctx.moveTo(0, 0);\n            ctx.lineTo(-length, width / 2);\n            ctx.lineTo(-length, -width / 2);\n            ctx.closePath();\n            ctx.restore();\n            this.__fillStroke(ctx);\n        }\n        if (this.pointerAtBeginning()) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.translate(points[0], points[1]);\n            if (fromTension) {\n                dx = (tp[0] + tp[2]) / 2 - points[0];\n                dy = (tp[1] + tp[3]) / 2 - points[1];\n            }\n            else {\n                dx = points[2] - points[0];\n                dy = points[3] - points[1];\n            }\n            ctx.rotate((Math.atan2(-dy, -dx) + PI2) % PI2);\n            ctx.moveTo(0, 0);\n            ctx.lineTo(-length, width / 2);\n            ctx.lineTo(-length, -width / 2);\n            ctx.closePath();\n            ctx.restore();\n            this.__fillStroke(ctx);\n        }\n    }\n    __fillStroke(ctx) {\n        var isDashEnabled = this.dashEnabled();\n        if (isDashEnabled) {\n            this.attrs.dashEnabled = false;\n            ctx.setLineDash([]);\n        }\n        ctx.fillStrokeShape(this);\n        if (isDashEnabled) {\n            this.attrs.dashEnabled = true;\n        }\n    }\n    getSelfRect() {\n        const lineRect = super.getSelfRect();\n        const offset = this.pointerWidth() / 2;\n        return {\n            x: lineRect.x - offset,\n            y: lineRect.y - offset,\n            width: lineRect.width + offset * 2,\n            height: lineRect.height + offset * 2,\n        };\n    }\n}\nArrow.prototype.className = 'Arrow';\n_registerNode(Arrow);\nFactory.addGetterSetter(Arrow, 'pointerLength', 10, getNumberValidator());\nFactory.addGetterSetter(Arrow, 'pointerWidth', 10, getNumberValidator());\nFactory.addGetterSetter(Arrow, 'pointerAtBeginning', false);\nFactory.addGetterSetter(Arrow, 'pointerAtEnding', true);\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Circle extends Shape {\n    _sceneFunc(context) {\n        context.beginPath();\n        context.arc(0, 0, this.attrs.radius || 0, 0, Math.PI * 2, false);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.radius() * 2;\n    }\n    getHeight() {\n        return this.radius() * 2;\n    }\n    setWidth(width) {\n        if (this.radius() !== width / 2) {\n            this.radius(width / 2);\n        }\n    }\n    setHeight(height) {\n        if (this.radius() !== height / 2) {\n            this.radius(height / 2);\n        }\n    }\n}\nCircle.prototype._centroid = true;\nCircle.prototype.className = 'Circle';\nCircle.prototype._attrsAffectingSize = ['radius'];\n_registerNode(Circle);\nFactory.addGetterSetter(Circle, 'radius', 0, getNumberValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Ellipse extends Shape {\n    _sceneFunc(context) {\n        var rx = this.radiusX(), ry = this.radiusY();\n        context.beginPath();\n        context.save();\n        if (rx !== ry) {\n            context.scale(1, ry / rx);\n        }\n        context.arc(0, 0, rx, 0, Math.PI * 2, false);\n        context.restore();\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.radiusX() * 2;\n    }\n    getHeight() {\n        return this.radiusY() * 2;\n    }\n    setWidth(width) {\n        this.radiusX(width / 2);\n    }\n    setHeight(height) {\n        this.radiusY(height / 2);\n    }\n}\nEllipse.prototype.className = 'Ellipse';\nEllipse.prototype._centroid = true;\nEllipse.prototype._attrsAffectingSize = ['radiusX', 'radiusY'];\n_registerNode(Ellipse);\nFactory.addComponentsGetterSetter(Ellipse, 'radius', ['x', 'y']);\nFactory.addGetterSetter(Ellipse, 'radiusX', 0, getNumberValidator());\nFactory.addGetterSetter(Ellipse, 'radiusY', 0, getNumberValidator());\n","import { Util } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Image extends Shape {\n    constructor(attrs) {\n        super(attrs);\n        this.on('imageChange.konva', () => {\n            this._setImageLoad();\n        });\n        this._setImageLoad();\n    }\n    _setImageLoad() {\n        const image = this.image();\n        if (image && image.complete) {\n            return;\n        }\n        if (image && image.readyState === 4) {\n            return;\n        }\n        if (image && image['addEventListener']) {\n            image['addEventListener']('load', () => {\n                this._requestDraw();\n            });\n        }\n    }\n    _useBufferCanvas() {\n        return super._useBufferCanvas(true);\n    }\n    _sceneFunc(context) {\n        const width = this.getWidth();\n        const height = this.getHeight();\n        const image = this.attrs.image;\n        let params;\n        if (image) {\n            const cropWidth = this.attrs.cropWidth;\n            const cropHeight = this.attrs.cropHeight;\n            if (cropWidth && cropHeight) {\n                params = [\n                    image,\n                    this.cropX(),\n                    this.cropY(),\n                    cropWidth,\n                    cropHeight,\n                    0,\n                    0,\n                    width,\n                    height,\n                ];\n            }\n            else {\n                params = [image, 0, 0, width, height];\n            }\n        }\n        if (this.hasFill() || this.hasStroke()) {\n            context.beginPath();\n            context.rect(0, 0, width, height);\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        if (image) {\n            context.drawImage.apply(context, params);\n        }\n    }\n    _hitFunc(context) {\n        var width = this.width(), height = this.height();\n        context.beginPath();\n        context.rect(0, 0, width, height);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        var _a, _b;\n        return (_a = this.attrs.width) !== null && _a !== void 0 ? _a : (_b = this.image()) === null || _b === void 0 ? void 0 : _b.width;\n    }\n    getHeight() {\n        var _a, _b;\n        return (_a = this.attrs.height) !== null && _a !== void 0 ? _a : (_b = this.image()) === null || _b === void 0 ? void 0 : _b.height;\n    }\n    static fromURL(url, callback, onError = null) {\n        var img = Util.createImageElement();\n        img.onload = function () {\n            var image = new Image({\n                image: img,\n            });\n            callback(image);\n        };\n        img.onerror = onError;\n        img.crossOrigin = 'Anonymous';\n        img.src = url;\n    }\n}\nImage.prototype.className = 'Image';\n_registerNode(Image);\nFactory.addGetterSetter(Image, 'image');\nFactory.addComponentsGetterSetter(Image, 'crop', ['x', 'y', 'width', 'height']);\nFactory.addGetterSetter(Image, 'cropX', 0, getNumberValidator());\nFactory.addGetterSetter(Image, 'cropY', 0, getNumberValidator());\nFactory.addGetterSetter(Image, 'cropWidth', 0, getNumberValidator());\nFactory.addGetterSetter(Image, 'cropHeight', 0, getNumberValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Group } from '../Group.js';\nimport { getNumberOrArrayOfNumbersValidator, getNumberValidator, } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar ATTR_CHANGE_LIST = [\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'padding',\n    'lineHeight',\n    'text',\n    'width',\n    'height',\n], CHANGE_KONVA = 'Change.konva', NONE = 'none', UP = 'up', RIGHT = 'right', DOWN = 'down', LEFT = 'left', attrChangeListLen = ATTR_CHANGE_LIST.length;\nexport class Label extends Group {\n    constructor(config) {\n        super(config);\n        this.on('add.konva', function (evt) {\n            this._addListeners(evt.child);\n            this._sync();\n        });\n    }\n    getText() {\n        return this.find('Text')[0];\n    }\n    getTag() {\n        return this.find('Tag')[0];\n    }\n    _addListeners(text) {\n        var that = this, n;\n        var func = function () {\n            that._sync();\n        };\n        for (n = 0; n < attrChangeListLen; n++) {\n            text.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, func);\n        }\n    }\n    getWidth() {\n        return this.getText().width();\n    }\n    getHeight() {\n        return this.getText().height();\n    }\n    _sync() {\n        var text = this.getText(), tag = this.getTag(), width, height, pointerDirection, pointerWidth, x, y, pointerHeight;\n        if (text && tag) {\n            width = text.width();\n            height = text.height();\n            pointerDirection = tag.pointerDirection();\n            pointerWidth = tag.pointerWidth();\n            pointerHeight = tag.pointerHeight();\n            x = 0;\n            y = 0;\n            switch (pointerDirection) {\n                case UP:\n                    x = width / 2;\n                    y = -1 * pointerHeight;\n                    break;\n                case RIGHT:\n                    x = width + pointerWidth;\n                    y = height / 2;\n                    break;\n                case DOWN:\n                    x = width / 2;\n                    y = height + pointerHeight;\n                    break;\n                case LEFT:\n                    x = -1 * pointerWidth;\n                    y = height / 2;\n                    break;\n            }\n            tag.setAttrs({\n                x: -1 * x,\n                y: -1 * y,\n                width: width,\n                height: height,\n            });\n            text.setAttrs({\n                x: -1 * x,\n                y: -1 * y,\n            });\n        }\n    }\n}\nLabel.prototype.className = 'Label';\n_registerNode(Label);\nexport class Tag extends Shape {\n    _sceneFunc(context) {\n        var width = this.width(), height = this.height(), pointerDirection = this.pointerDirection(), pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), cornerRadius = this.cornerRadius();\n        let topLeft = 0;\n        let topRight = 0;\n        let bottomLeft = 0;\n        let bottomRight = 0;\n        if (typeof cornerRadius === 'number') {\n            topLeft = topRight = bottomLeft = bottomRight = Math.min(cornerRadius, width / 2, height / 2);\n        }\n        else {\n            topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n            topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n            bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n            bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n        }\n        context.beginPath();\n        context.moveTo(topLeft, 0);\n        if (pointerDirection === UP) {\n            context.lineTo((width - pointerWidth) / 2, 0);\n            context.lineTo(width / 2, -1 * pointerHeight);\n            context.lineTo((width + pointerWidth) / 2, 0);\n        }\n        context.lineTo(width - topRight, 0);\n        context.arc(width - topRight, topRight, topRight, (Math.PI * 3) / 2, 0, false);\n        if (pointerDirection === RIGHT) {\n            context.lineTo(width, (height - pointerHeight) / 2);\n            context.lineTo(width + pointerWidth, height / 2);\n            context.lineTo(width, (height + pointerHeight) / 2);\n        }\n        context.lineTo(width, height - bottomRight);\n        context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n        if (pointerDirection === DOWN) {\n            context.lineTo((width + pointerWidth) / 2, height);\n            context.lineTo(width / 2, height + pointerHeight);\n            context.lineTo((width - pointerWidth) / 2, height);\n        }\n        context.lineTo(bottomLeft, height);\n        context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n        if (pointerDirection === LEFT) {\n            context.lineTo(0, (height + pointerHeight) / 2);\n            context.lineTo(-1 * pointerWidth, height / 2);\n            context.lineTo(0, (height - pointerHeight) / 2);\n        }\n        context.lineTo(0, topLeft);\n        context.arc(topLeft, topLeft, topLeft, Math.PI, (Math.PI * 3) / 2, false);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getSelfRect() {\n        var x = 0, y = 0, pointerWidth = this.pointerWidth(), pointerHeight = this.pointerHeight(), direction = this.pointerDirection(), width = this.width(), height = this.height();\n        if (direction === UP) {\n            y -= pointerHeight;\n            height += pointerHeight;\n        }\n        else if (direction === DOWN) {\n            height += pointerHeight;\n        }\n        else if (direction === LEFT) {\n            x -= pointerWidth * 1.5;\n            width += pointerWidth;\n        }\n        else if (direction === RIGHT) {\n            width += pointerWidth * 1.5;\n        }\n        return {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n        };\n    }\n}\nTag.prototype.className = 'Tag';\n_registerNode(Tag);\nFactory.addGetterSetter(Tag, 'pointerDirection', NONE);\nFactory.addGetterSetter(Tag, 'pointerWidth', 0, getNumberValidator());\nFactory.addGetterSetter(Tag, 'pointerHeight', 0, getNumberValidator());\nFactory.addGetterSetter(Tag, 'cornerRadius', 0, getNumberOrArrayOfNumbersValidator(4));\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { _registerNode } from '../Global.js';\nimport { getNumberOrArrayOfNumbersValidator } from '../Validators.js';\nexport class Rect extends Shape {\n    _sceneFunc(context) {\n        var cornerRadius = this.cornerRadius(), width = this.width(), height = this.height();\n        context.beginPath();\n        if (!cornerRadius) {\n            context.rect(0, 0, width, height);\n        }\n        else {\n            let topLeft = 0;\n            let topRight = 0;\n            let bottomLeft = 0;\n            let bottomRight = 0;\n            if (typeof cornerRadius === 'number') {\n                topLeft = topRight = bottomLeft = bottomRight = Math.min(cornerRadius, width / 2, height / 2);\n            }\n            else {\n                topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n                topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n                bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n                bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n            }\n            context.moveTo(topLeft, 0);\n            context.lineTo(width - topRight, 0);\n            context.arc(width - topRight, topRight, topRight, (Math.PI * 3) / 2, 0, false);\n            context.lineTo(width, height - bottomRight);\n            context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n            context.lineTo(bottomLeft, height);\n            context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n            context.lineTo(0, topLeft);\n            context.arc(topLeft, topLeft, topLeft, Math.PI, (Math.PI * 3) / 2, false);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n}\nRect.prototype.className = 'Rect';\n_registerNode(Rect);\nFactory.addGetterSetter(Rect, 'cornerRadius', 0, getNumberOrArrayOfNumbersValidator(4));\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class RegularPolygon extends Shape {\n    _sceneFunc(context) {\n        const points = this._getPoints();\n        context.beginPath();\n        context.moveTo(points[0].x, points[0].y);\n        for (var n = 1; n < points.length; n++) {\n            context.lineTo(points[n].x, points[n].y);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    _getPoints() {\n        const sides = this.attrs.sides;\n        const radius = this.attrs.radius || 0;\n        const points = [];\n        for (var n = 0; n < sides; n++) {\n            points.push({\n                x: radius * Math.sin((n * 2 * Math.PI) / sides),\n                y: -1 * radius * Math.cos((n * 2 * Math.PI) / sides),\n            });\n        }\n        return points;\n    }\n    getSelfRect() {\n        const points = this._getPoints();\n        var minX = points[0].x;\n        var maxX = points[0].y;\n        var minY = points[0].x;\n        var maxY = points[0].y;\n        points.forEach((point) => {\n            minX = Math.min(minX, point.x);\n            maxX = Math.max(maxX, point.x);\n            minY = Math.min(minY, point.y);\n            maxY = Math.max(maxY, point.y);\n        });\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    getWidth() {\n        return this.radius() * 2;\n    }\n    getHeight() {\n        return this.radius() * 2;\n    }\n    setWidth(width) {\n        this.radius(width / 2);\n    }\n    setHeight(height) {\n        this.radius(height / 2);\n    }\n}\nRegularPolygon.prototype.className = 'RegularPolygon';\nRegularPolygon.prototype._centroid = true;\nRegularPolygon.prototype._attrsAffectingSize = ['radius'];\n_registerNode(RegularPolygon);\nFactory.addGetterSetter(RegularPolygon, 'radius', 0, getNumberValidator());\nFactory.addGetterSetter(RegularPolygon, 'sides', 0, getNumberValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar PIx2 = Math.PI * 2;\nexport class Ring extends Shape {\n    _sceneFunc(context) {\n        context.beginPath();\n        context.arc(0, 0, this.innerRadius(), 0, PIx2, false);\n        context.moveTo(this.outerRadius(), 0);\n        context.arc(0, 0, this.outerRadius(), PIx2, 0, true);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.outerRadius() * 2;\n    }\n    getHeight() {\n        return this.outerRadius() * 2;\n    }\n    setWidth(width) {\n        this.outerRadius(width / 2);\n    }\n    setHeight(height) {\n        this.outerRadius(height / 2);\n    }\n}\nRing.prototype.className = 'Ring';\nRing.prototype._centroid = true;\nRing.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n_registerNode(Ring);\nFactory.addGetterSetter(Ring, 'innerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Ring, 'outerRadius', 0, getNumberValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Animation } from '../Animation.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Sprite extends Shape {\n    constructor(config) {\n        super(config);\n        this._updated = true;\n        this.anim = new Animation(() => {\n            var updated = this._updated;\n            this._updated = false;\n            return updated;\n        });\n        this.on('animationChange.konva', function () {\n            this.frameIndex(0);\n        });\n        this.on('frameIndexChange.konva', function () {\n            this._updated = true;\n        });\n        this.on('frameRateChange.konva', function () {\n            if (!this.anim.isRunning()) {\n                return;\n            }\n            clearInterval(this.interval);\n            this._setInterval();\n        });\n    }\n    _sceneFunc(context) {\n        var anim = this.animation(), index = this.frameIndex(), ix4 = index * 4, set = this.animations()[anim], offsets = this.frameOffsets(), x = set[ix4 + 0], y = set[ix4 + 1], width = set[ix4 + 2], height = set[ix4 + 3], image = this.image();\n        if (this.hasFill() || this.hasStroke()) {\n            context.beginPath();\n            context.rect(0, 0, width, height);\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        if (image) {\n            if (offsets) {\n                var offset = offsets[anim], ix2 = index * 2;\n                context.drawImage(image, x, y, width, height, offset[ix2 + 0], offset[ix2 + 1], width, height);\n            }\n            else {\n                context.drawImage(image, x, y, width, height, 0, 0, width, height);\n            }\n        }\n    }\n    _hitFunc(context) {\n        var anim = this.animation(), index = this.frameIndex(), ix4 = index * 4, set = this.animations()[anim], offsets = this.frameOffsets(), width = set[ix4 + 2], height = set[ix4 + 3];\n        context.beginPath();\n        if (offsets) {\n            var offset = offsets[anim];\n            var ix2 = index * 2;\n            context.rect(offset[ix2 + 0], offset[ix2 + 1], width, height);\n        }\n        else {\n            context.rect(0, 0, width, height);\n        }\n        context.closePath();\n        context.fillShape(this);\n    }\n    _useBufferCanvas() {\n        return super._useBufferCanvas(true);\n    }\n    _setInterval() {\n        var that = this;\n        this.interval = setInterval(function () {\n            that._updateIndex();\n        }, 1000 / this.frameRate());\n    }\n    start() {\n        if (this.isRunning()) {\n            return;\n        }\n        var layer = this.getLayer();\n        this.anim.setLayers(layer);\n        this._setInterval();\n        this.anim.start();\n    }\n    stop() {\n        this.anim.stop();\n        clearInterval(this.interval);\n    }\n    isRunning() {\n        return this.anim.isRunning();\n    }\n    _updateIndex() {\n        var index = this.frameIndex(), animation = this.animation(), animations = this.animations(), anim = animations[animation], len = anim.length / 4;\n        if (index < len - 1) {\n            this.frameIndex(index + 1);\n        }\n        else {\n            this.frameIndex(0);\n        }\n    }\n}\nSprite.prototype.className = 'Sprite';\n_registerNode(Sprite);\nFactory.addGetterSetter(Sprite, 'animation');\nFactory.addGetterSetter(Sprite, 'animations');\nFactory.addGetterSetter(Sprite, 'frameOffsets');\nFactory.addGetterSetter(Sprite, 'image');\nFactory.addGetterSetter(Sprite, 'frameIndex', 0, getNumberValidator());\nFactory.addGetterSetter(Sprite, 'frameRate', 17, getNumberValidator());\nFactory.backCompat(Sprite, {\n    index: 'frameIndex',\n    getIndex: 'getFrameIndex',\n    setIndex: 'setFrameIndex',\n});\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Star extends Shape {\n    _sceneFunc(context) {\n        var innerRadius = this.innerRadius(), outerRadius = this.outerRadius(), numPoints = this.numPoints();\n        context.beginPath();\n        context.moveTo(0, 0 - outerRadius);\n        for (var n = 1; n < numPoints * 2; n++) {\n            var radius = n % 2 === 0 ? outerRadius : innerRadius;\n            var x = radius * Math.sin((n * Math.PI) / numPoints);\n            var y = -1 * radius * Math.cos((n * Math.PI) / numPoints);\n            context.lineTo(x, y);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.outerRadius() * 2;\n    }\n    getHeight() {\n        return this.outerRadius() * 2;\n    }\n    setWidth(width) {\n        this.outerRadius(width / 2);\n    }\n    setHeight(height) {\n        this.outerRadius(height / 2);\n    }\n}\nStar.prototype.className = 'Star';\nStar.prototype._centroid = true;\nStar.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n_registerNode(Star);\nFactory.addGetterSetter(Star, 'numPoints', 5, getNumberValidator());\nFactory.addGetterSetter(Star, 'innerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Star, 'outerRadius', 0, getNumberValidator());\n","import { Util } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator, getStringValidator, getNumberOrAutoValidator, getBooleanValidator, } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport function stringToArray(string) {\n    return Array.from(string);\n}\nvar AUTO = 'auto', CENTER = 'center', JUSTIFY = 'justify', CHANGE_KONVA = 'Change.konva', CONTEXT_2D = '2d', DASH = '-', LEFT = 'left', TEXT = 'text', TEXT_UPPER = 'Text', TOP = 'top', BOTTOM = 'bottom', MIDDLE = 'middle', NORMAL = 'normal', PX_SPACE = 'px ', SPACE = ' ', RIGHT = 'right', WORD = 'word', CHAR = 'char', NONE = 'none', ELLIPSIS = '…', ATTR_CHANGE_LIST = [\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'fontVariant',\n    'padding',\n    'align',\n    'verticalAlign',\n    'lineHeight',\n    'text',\n    'width',\n    'height',\n    'wrap',\n    'ellipsis',\n    'letterSpacing',\n], attrChangeListLen = ATTR_CHANGE_LIST.length;\nfunction normalizeFontFamily(fontFamily) {\n    return fontFamily\n        .split(',')\n        .map((family) => {\n        family = family.trim();\n        const hasSpace = family.indexOf(' ') >= 0;\n        const hasQuotes = family.indexOf('\"') >= 0 || family.indexOf(\"'\") >= 0;\n        if (hasSpace && !hasQuotes) {\n            family = `\"${family}\"`;\n        }\n        return family;\n    })\n        .join(', ');\n}\nvar dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util.createCanvasElement().getContext(CONTEXT_2D);\n    return dummyContext;\n}\nfunction _fillFunc(context) {\n    context.fillText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction _strokeFunc(context) {\n    context.strokeText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction checkDefaultFill(config) {\n    config = config || {};\n    if (!config.fillLinearGradientColorStops &&\n        !config.fillRadialGradientColorStops &&\n        !config.fillPatternImage) {\n        config.fill = config.fill || 'black';\n    }\n    return config;\n}\nexport class Text extends Shape {\n    constructor(config) {\n        super(checkDefaultFill(config));\n        this._partialTextX = 0;\n        this._partialTextY = 0;\n        for (var n = 0; n < attrChangeListLen; n++) {\n            this.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, this._setTextData);\n        }\n        this._setTextData();\n    }\n    _sceneFunc(context) {\n        var textArr = this.textArr, textArrLen = textArr.length;\n        if (!this.text()) {\n            return;\n        }\n        var padding = this.padding(), fontSize = this.fontSize(), lineHeightPx = this.lineHeight() * fontSize, verticalAlign = this.verticalAlign(), alignY = 0, align = this.align(), totalWidth = this.getWidth(), letterSpacing = this.letterSpacing(), fill = this.fill(), textDecoration = this.textDecoration(), shouldUnderline = textDecoration.indexOf('underline') !== -1, shouldLineThrough = textDecoration.indexOf('line-through') !== -1, n;\n        var translateY = 0;\n        var translateY = lineHeightPx / 2;\n        var lineTranslateX = 0;\n        var lineTranslateY = 0;\n        context.setAttr('font', this._getContextFont());\n        context.setAttr('textBaseline', MIDDLE);\n        context.setAttr('textAlign', LEFT);\n        if (verticalAlign === MIDDLE) {\n            alignY = (this.getHeight() - textArrLen * lineHeightPx - padding * 2) / 2;\n        }\n        else if (verticalAlign === BOTTOM) {\n            alignY = this.getHeight() - textArrLen * lineHeightPx - padding * 2;\n        }\n        context.translate(padding, alignY + padding);\n        for (n = 0; n < textArrLen; n++) {\n            var lineTranslateX = 0;\n            var lineTranslateY = 0;\n            var obj = textArr[n], text = obj.text, width = obj.width, lastLine = obj.lastInParagraph, spacesNumber, oneWord, lineWidth;\n            context.save();\n            if (align === RIGHT) {\n                lineTranslateX += totalWidth - width - padding * 2;\n            }\n            else if (align === CENTER) {\n                lineTranslateX += (totalWidth - width - padding * 2) / 2;\n            }\n            if (shouldUnderline) {\n                context.save();\n                context.beginPath();\n                context.moveTo(lineTranslateX, translateY + lineTranslateY + Math.round(fontSize / 2));\n                spacesNumber = text.split(' ').length - 1;\n                oneWord = spacesNumber === 0;\n                lineWidth =\n                    align === JUSTIFY && lastLine && !oneWord\n                        ? totalWidth - padding * 2\n                        : width;\n                context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY + Math.round(fontSize / 2));\n                context.lineWidth = fontSize / 15;\n                context.strokeStyle = fill;\n                context.stroke();\n                context.restore();\n            }\n            if (shouldLineThrough) {\n                context.save();\n                context.beginPath();\n                context.moveTo(lineTranslateX, translateY + lineTranslateY);\n                spacesNumber = text.split(' ').length - 1;\n                oneWord = spacesNumber === 0;\n                lineWidth =\n                    align === JUSTIFY && lastLine && !oneWord\n                        ? totalWidth - padding * 2\n                        : width;\n                context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY);\n                context.lineWidth = fontSize / 15;\n                context.strokeStyle = fill;\n                context.stroke();\n                context.restore();\n            }\n            if (letterSpacing !== 0 || align === JUSTIFY) {\n                spacesNumber = text.split(' ').length - 1;\n                var array = stringToArray(text);\n                for (var li = 0; li < array.length; li++) {\n                    var letter = array[li];\n                    if (letter === ' ' && !lastLine && align === JUSTIFY) {\n                        lineTranslateX += (totalWidth - padding * 2 - width) / spacesNumber;\n                    }\n                    this._partialTextX = lineTranslateX;\n                    this._partialTextY = translateY + lineTranslateY;\n                    this._partialText = letter;\n                    context.fillStrokeShape(this);\n                    lineTranslateX += this.measureSize(letter).width + letterSpacing;\n                }\n            }\n            else {\n                this._partialTextX = lineTranslateX;\n                this._partialTextY = translateY + lineTranslateY;\n                this._partialText = text;\n                context.fillStrokeShape(this);\n            }\n            context.restore();\n            if (textArrLen > 1) {\n                translateY += lineHeightPx;\n            }\n        }\n    }\n    _hitFunc(context) {\n        var width = this.getWidth(), height = this.getHeight();\n        context.beginPath();\n        context.rect(0, 0, width, height);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    setText(text) {\n        var str = Util._isString(text)\n            ? text\n            : text === null || text === undefined\n                ? ''\n                : text + '';\n        this._setAttr(TEXT, str);\n        return this;\n    }\n    getWidth() {\n        var isAuto = this.attrs.width === AUTO || this.attrs.width === undefined;\n        return isAuto ? this.getTextWidth() + this.padding() * 2 : this.attrs.width;\n    }\n    getHeight() {\n        var isAuto = this.attrs.height === AUTO || this.attrs.height === undefined;\n        return isAuto\n            ? this.fontSize() * this.textArr.length * this.lineHeight() +\n                this.padding() * 2\n            : this.attrs.height;\n    }\n    getTextWidth() {\n        return this.textWidth;\n    }\n    getTextHeight() {\n        Util.warn('text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.');\n        return this.textHeight;\n    }\n    measureSize(text) {\n        var _context = getDummyContext(), fontSize = this.fontSize(), metrics;\n        _context.save();\n        _context.font = this._getContextFont();\n        metrics = _context.measureText(text);\n        _context.restore();\n        return {\n            width: metrics.width,\n            height: fontSize,\n        };\n    }\n    _getContextFont() {\n        return (this.fontStyle() +\n            SPACE +\n            this.fontVariant() +\n            SPACE +\n            (this.fontSize() + PX_SPACE) +\n            normalizeFontFamily(this.fontFamily()));\n    }\n    _addTextLine(line) {\n        if (this.align() === JUSTIFY) {\n            line = line.trim();\n        }\n        var width = this._getTextWidth(line);\n        return this.textArr.push({\n            text: line,\n            width: width,\n            lastInParagraph: false,\n        });\n    }\n    _getTextWidth(text) {\n        var letterSpacing = this.letterSpacing();\n        var length = text.length;\n        return (getDummyContext().measureText(text).width +\n            (length ? letterSpacing * (length - 1) : 0));\n    }\n    _setTextData() {\n        var lines = this.text().split('\\n'), fontSize = +this.fontSize(), textWidth = 0, lineHeightPx = this.lineHeight() * fontSize, width = this.attrs.width, height = this.attrs.height, fixedWidth = width !== AUTO && width !== undefined, fixedHeight = height !== AUTO && height !== undefined, padding = this.padding(), maxWidth = width - padding * 2, maxHeightPx = height - padding * 2, currentHeightPx = 0, wrap = this.wrap(), shouldWrap = wrap !== NONE, wrapAtWord = wrap !== CHAR && shouldWrap, shouldAddEllipsis = this.ellipsis();\n        this.textArr = [];\n        getDummyContext().font = this._getContextFont();\n        var additionalWidth = shouldAddEllipsis ? this._getTextWidth(ELLIPSIS) : 0;\n        for (var i = 0, max = lines.length; i < max; ++i) {\n            var line = lines[i];\n            var lineWidth = this._getTextWidth(line);\n            if (fixedWidth && lineWidth > maxWidth) {\n                while (line.length > 0) {\n                    var low = 0, high = line.length, match = '', matchWidth = 0;\n                    while (low < high) {\n                        var mid = (low + high) >>> 1, substr = line.slice(0, mid + 1), substrWidth = this._getTextWidth(substr) + additionalWidth;\n                        if (substrWidth <= maxWidth) {\n                            low = mid + 1;\n                            match = substr;\n                            matchWidth = substrWidth;\n                        }\n                        else {\n                            high = mid;\n                        }\n                    }\n                    if (match) {\n                        if (wrapAtWord) {\n                            var wrapIndex;\n                            var nextChar = line[match.length];\n                            var nextIsSpaceOrDash = nextChar === SPACE || nextChar === DASH;\n                            if (nextIsSpaceOrDash && matchWidth <= maxWidth) {\n                                wrapIndex = match.length;\n                            }\n                            else {\n                                wrapIndex =\n                                    Math.max(match.lastIndexOf(SPACE), match.lastIndexOf(DASH)) +\n                                        1;\n                            }\n                            if (wrapIndex > 0) {\n                                low = wrapIndex;\n                                match = match.slice(0, low);\n                                matchWidth = this._getTextWidth(match);\n                            }\n                        }\n                        match = match.trimRight();\n                        this._addTextLine(match);\n                        textWidth = Math.max(textWidth, matchWidth);\n                        currentHeightPx += lineHeightPx;\n                        if (!shouldWrap ||\n                            (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx)) {\n                            var lastLine = this.textArr[this.textArr.length - 1];\n                            if (lastLine) {\n                                if (shouldAddEllipsis) {\n                                    var haveSpace = this._getTextWidth(lastLine.text + ELLIPSIS) < maxWidth;\n                                    if (!haveSpace) {\n                                        lastLine.text = lastLine.text.slice(0, lastLine.text.length - 3);\n                                    }\n                                    this.textArr.splice(this.textArr.length - 1, 1);\n                                    this._addTextLine(lastLine.text + ELLIPSIS);\n                                }\n                            }\n                            break;\n                        }\n                        line = line.slice(low);\n                        line = line.trimLeft();\n                        if (line.length > 0) {\n                            lineWidth = this._getTextWidth(line);\n                            if (lineWidth <= maxWidth) {\n                                this._addTextLine(line);\n                                currentHeightPx += lineHeightPx;\n                                textWidth = Math.max(textWidth, lineWidth);\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            else {\n                this._addTextLine(line);\n                currentHeightPx += lineHeightPx;\n                textWidth = Math.max(textWidth, lineWidth);\n            }\n            if (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx) {\n                break;\n            }\n            if (this.textArr[this.textArr.length - 1]) {\n                this.textArr[this.textArr.length - 1].lastInParagraph = true;\n            }\n        }\n        this.textHeight = fontSize;\n        this.textWidth = textWidth;\n    }\n    getStrokeScaleEnabled() {\n        return true;\n    }\n}\nText.prototype._fillFunc = _fillFunc;\nText.prototype._strokeFunc = _strokeFunc;\nText.prototype.className = TEXT_UPPER;\nText.prototype._attrsAffectingSize = [\n    'text',\n    'fontSize',\n    'padding',\n    'wrap',\n    'lineHeight',\n    'letterSpacing',\n];\n_registerNode(Text);\nFactory.overWriteSetter(Text, 'width', getNumberOrAutoValidator());\nFactory.overWriteSetter(Text, 'height', getNumberOrAutoValidator());\nFactory.addGetterSetter(Text, 'fontFamily', 'Arial');\nFactory.addGetterSetter(Text, 'fontSize', 12, getNumberValidator());\nFactory.addGetterSetter(Text, 'fontStyle', NORMAL);\nFactory.addGetterSetter(Text, 'fontVariant', NORMAL);\nFactory.addGetterSetter(Text, 'padding', 0, getNumberValidator());\nFactory.addGetterSetter(Text, 'align', LEFT);\nFactory.addGetterSetter(Text, 'verticalAlign', TOP);\nFactory.addGetterSetter(Text, 'lineHeight', 1, getNumberValidator());\nFactory.addGetterSetter(Text, 'wrap', WORD);\nFactory.addGetterSetter(Text, 'ellipsis', false, getBooleanValidator());\nFactory.addGetterSetter(Text, 'letterSpacing', 0, getNumberValidator());\nFactory.addGetterSetter(Text, 'text', '', getStringValidator());\nFactory.addGetterSetter(Text, 'textDecoration', '');\n","import { Util } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Path } from './Path.js';\nimport { Text, stringToArray } from './Text.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar EMPTY_STRING = '', NORMAL = 'normal';\nfunction _fillFunc(context) {\n    context.fillText(this.partialText, 0, 0);\n}\nfunction _strokeFunc(context) {\n    context.strokeText(this.partialText, 0, 0);\n}\nexport class TextPath extends Shape {\n    constructor(config) {\n        super(config);\n        this.dummyCanvas = Util.createCanvasElement();\n        this.dataArray = [];\n        this.dataArray = Path.parsePathData(this.attrs.data);\n        this.on('dataChange.konva', function () {\n            this.dataArray = Path.parsePathData(this.attrs.data);\n            this._setTextData();\n        });\n        this.on('textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva', this._setTextData);\n        this._setTextData();\n    }\n    _sceneFunc(context) {\n        context.setAttr('font', this._getContextFont());\n        context.setAttr('textBaseline', this.textBaseline());\n        context.setAttr('textAlign', 'left');\n        context.save();\n        var textDecoration = this.textDecoration();\n        var fill = this.fill();\n        var fontSize = this.fontSize();\n        var glyphInfo = this.glyphInfo;\n        if (textDecoration === 'underline') {\n            context.beginPath();\n        }\n        for (var i = 0; i < glyphInfo.length; i++) {\n            context.save();\n            var p0 = glyphInfo[i].p0;\n            context.translate(p0.x, p0.y);\n            context.rotate(glyphInfo[i].rotation);\n            this.partialText = glyphInfo[i].text;\n            context.fillStrokeShape(this);\n            if (textDecoration === 'underline') {\n                if (i === 0) {\n                    context.moveTo(0, fontSize / 2 + 1);\n                }\n                context.lineTo(fontSize, fontSize / 2 + 1);\n            }\n            context.restore();\n        }\n        if (textDecoration === 'underline') {\n            context.strokeStyle = fill;\n            context.lineWidth = fontSize / 20;\n            context.stroke();\n        }\n        context.restore();\n    }\n    _hitFunc(context) {\n        context.beginPath();\n        var glyphInfo = this.glyphInfo;\n        if (glyphInfo.length >= 1) {\n            var p0 = glyphInfo[0].p0;\n            context.moveTo(p0.x, p0.y);\n        }\n        for (var i = 0; i < glyphInfo.length; i++) {\n            var p1 = glyphInfo[i].p1;\n            context.lineTo(p1.x, p1.y);\n        }\n        context.setAttr('lineWidth', this.fontSize());\n        context.setAttr('strokeStyle', this.colorKey);\n        context.stroke();\n    }\n    getTextWidth() {\n        return this.textWidth;\n    }\n    getTextHeight() {\n        Util.warn('text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.');\n        return this.textHeight;\n    }\n    setText(text) {\n        return Text.prototype.setText.call(this, text);\n    }\n    _getContextFont() {\n        return Text.prototype._getContextFont.call(this);\n    }\n    _getTextSize(text) {\n        var dummyCanvas = this.dummyCanvas;\n        var _context = dummyCanvas.getContext('2d');\n        _context.save();\n        _context.font = this._getContextFont();\n        var metrics = _context.measureText(text);\n        _context.restore();\n        return {\n            width: metrics.width,\n            height: parseInt(this.attrs.fontSize, 10),\n        };\n    }\n    _setTextData() {\n        var that = this;\n        var size = this._getTextSize(this.attrs.text);\n        var letterSpacing = this.letterSpacing();\n        var align = this.align();\n        var kerningFunc = this.kerningFunc();\n        this.textWidth = size.width;\n        this.textHeight = size.height;\n        var textFullWidth = Math.max(this.textWidth + ((this.attrs.text || '').length - 1) * letterSpacing, 0);\n        this.glyphInfo = [];\n        var fullPathWidth = 0;\n        for (var l = 0; l < that.dataArray.length; l++) {\n            if (that.dataArray[l].pathLength > 0) {\n                fullPathWidth += that.dataArray[l].pathLength;\n            }\n        }\n        var offset = 0;\n        if (align === 'center') {\n            offset = Math.max(0, fullPathWidth / 2 - textFullWidth / 2);\n        }\n        if (align === 'right') {\n            offset = Math.max(0, fullPathWidth - textFullWidth);\n        }\n        var charArr = stringToArray(this.text());\n        var spacesNumber = this.text().split(' ').length - 1;\n        var p0, p1, pathCmd;\n        var pIndex = -1;\n        var currentT = 0;\n        var getNextPathSegment = function () {\n            currentT = 0;\n            var pathData = that.dataArray;\n            for (var j = pIndex + 1; j < pathData.length; j++) {\n                if (pathData[j].pathLength > 0) {\n                    pIndex = j;\n                    return pathData[j];\n                }\n                else if (pathData[j].command === 'M') {\n                    p0 = {\n                        x: pathData[j].points[0],\n                        y: pathData[j].points[1],\n                    };\n                }\n            }\n            return {};\n        };\n        var findSegmentToFitCharacter = function (c) {\n            var glyphWidth = that._getTextSize(c).width + letterSpacing;\n            if (c === ' ' && align === 'justify') {\n                glyphWidth += (fullPathWidth - textFullWidth) / spacesNumber;\n            }\n            var currLen = 0;\n            var attempts = 0;\n            p1 = undefined;\n            while (Math.abs(glyphWidth - currLen) / glyphWidth > 0.01 &&\n                attempts < 20) {\n                attempts++;\n                var cumulativePathLength = currLen;\n                while (pathCmd === undefined) {\n                    pathCmd = getNextPathSegment();\n                    if (pathCmd &&\n                        cumulativePathLength + pathCmd.pathLength < glyphWidth) {\n                        cumulativePathLength += pathCmd.pathLength;\n                        pathCmd = undefined;\n                    }\n                }\n                if (pathCmd === {} || p0 === undefined) {\n                    return undefined;\n                }\n                var needNewSegment = false;\n                switch (pathCmd.command) {\n                    case 'L':\n                        if (Path.getLineLength(p0.x, p0.y, pathCmd.points[0], pathCmd.points[1]) > glyphWidth) {\n                            p1 = Path.getPointOnLine(glyphWidth, p0.x, p0.y, pathCmd.points[0], pathCmd.points[1], p0.x, p0.y);\n                        }\n                        else {\n                            pathCmd = undefined;\n                        }\n                        break;\n                    case 'A':\n                        var start = pathCmd.points[4];\n                        var dTheta = pathCmd.points[5];\n                        var end = pathCmd.points[4] + dTheta;\n                        if (currentT === 0) {\n                            currentT = start + 0.00000001;\n                        }\n                        else if (glyphWidth > currLen) {\n                            currentT += ((Math.PI / 180.0) * dTheta) / Math.abs(dTheta);\n                        }\n                        else {\n                            currentT -= ((Math.PI / 360.0) * dTheta) / Math.abs(dTheta);\n                        }\n                        if ((dTheta < 0 && currentT < end) ||\n                            (dTheta >= 0 && currentT > end)) {\n                            currentT = end;\n                            needNewSegment = true;\n                        }\n                        p1 = Path.getPointOnEllipticalArc(pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3], currentT, pathCmd.points[6]);\n                        break;\n                    case 'C':\n                        if (currentT === 0) {\n                            if (glyphWidth > pathCmd.pathLength) {\n                                currentT = 0.00000001;\n                            }\n                            else {\n                                currentT = glyphWidth / pathCmd.pathLength;\n                            }\n                        }\n                        else if (glyphWidth > currLen) {\n                            currentT += (glyphWidth - currLen) / pathCmd.pathLength / 2;\n                        }\n                        else {\n                            currentT = Math.max(currentT - (currLen - glyphWidth) / pathCmd.pathLength / 2, 0);\n                        }\n                        if (currentT > 1.0) {\n                            currentT = 1.0;\n                            needNewSegment = true;\n                        }\n                        p1 = Path.getPointOnCubicBezier(currentT, pathCmd.start.x, pathCmd.start.y, pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3], pathCmd.points[4], pathCmd.points[5]);\n                        break;\n                    case 'Q':\n                        if (currentT === 0) {\n                            currentT = glyphWidth / pathCmd.pathLength;\n                        }\n                        else if (glyphWidth > currLen) {\n                            currentT += (glyphWidth - currLen) / pathCmd.pathLength;\n                        }\n                        else {\n                            currentT -= (currLen - glyphWidth) / pathCmd.pathLength;\n                        }\n                        if (currentT > 1.0) {\n                            currentT = 1.0;\n                            needNewSegment = true;\n                        }\n                        p1 = Path.getPointOnQuadraticBezier(currentT, pathCmd.start.x, pathCmd.start.y, pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3]);\n                        break;\n                }\n                if (p1 !== undefined) {\n                    currLen = Path.getLineLength(p0.x, p0.y, p1.x, p1.y);\n                }\n                if (needNewSegment) {\n                    needNewSegment = false;\n                    pathCmd = undefined;\n                }\n            }\n        };\n        var testChar = 'C';\n        var glyphWidth = that._getTextSize(testChar).width + letterSpacing;\n        var lettersInOffset = offset / glyphWidth - 1;\n        for (var k = 0; k < lettersInOffset; k++) {\n            findSegmentToFitCharacter(testChar);\n            if (p0 === undefined || p1 === undefined) {\n                break;\n            }\n            p0 = p1;\n        }\n        for (var i = 0; i < charArr.length; i++) {\n            findSegmentToFitCharacter(charArr[i]);\n            if (p0 === undefined || p1 === undefined) {\n                break;\n            }\n            var width = Path.getLineLength(p0.x, p0.y, p1.x, p1.y);\n            var kern = 0;\n            if (kerningFunc) {\n                try {\n                    kern = kerningFunc(charArr[i - 1], charArr[i]) * this.fontSize();\n                }\n                catch (e) {\n                    kern = 0;\n                }\n            }\n            p0.x += kern;\n            p1.x += kern;\n            this.textWidth += kern;\n            var midpoint = Path.getPointOnLine(kern + width / 2.0, p0.x, p0.y, p1.x, p1.y);\n            var rotation = Math.atan2(p1.y - p0.y, p1.x - p0.x);\n            this.glyphInfo.push({\n                transposeX: midpoint.x,\n                transposeY: midpoint.y,\n                text: charArr[i],\n                rotation: rotation,\n                p0: p0,\n                p1: p1,\n            });\n            p0 = p1;\n        }\n    }\n    getSelfRect() {\n        if (!this.glyphInfo.length) {\n            return {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        var points = [];\n        this.glyphInfo.forEach(function (info) {\n            points.push(info.p0.x);\n            points.push(info.p0.y);\n            points.push(info.p1.x);\n            points.push(info.p1.y);\n        });\n        var minX = points[0] || 0;\n        var maxX = points[0] || 0;\n        var minY = points[1] || 0;\n        var maxY = points[1] || 0;\n        var x, y;\n        for (var i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            minX = Math.min(minX, x);\n            maxX = Math.max(maxX, x);\n            minY = Math.min(minY, y);\n            maxY = Math.max(maxY, y);\n        }\n        var fontSize = this.fontSize();\n        return {\n            x: minX - fontSize / 2,\n            y: minY - fontSize / 2,\n            width: maxX - minX + fontSize,\n            height: maxY - minY + fontSize,\n        };\n    }\n}\nTextPath.prototype._fillFunc = _fillFunc;\nTextPath.prototype._strokeFunc = _strokeFunc;\nTextPath.prototype._fillFuncHit = _fillFunc;\nTextPath.prototype._strokeFuncHit = _strokeFunc;\nTextPath.prototype.className = 'TextPath';\nTextPath.prototype._attrsAffectingSize = ['text', 'fontSize', 'data'];\n_registerNode(TextPath);\nFactory.addGetterSetter(TextPath, 'data');\nFactory.addGetterSetter(TextPath, 'fontFamily', 'Arial');\nFactory.addGetterSetter(TextPath, 'fontSize', 12, getNumberValidator());\nFactory.addGetterSetter(TextPath, 'fontStyle', NORMAL);\nFactory.addGetterSetter(TextPath, 'align', 'left');\nFactory.addGetterSetter(TextPath, 'letterSpacing', 0, getNumberValidator());\nFactory.addGetterSetter(TextPath, 'textBaseline', 'middle');\nFactory.addGetterSetter(TextPath, 'fontVariant', NORMAL);\nFactory.addGetterSetter(TextPath, 'text', EMPTY_STRING);\nFactory.addGetterSetter(TextPath, 'textDecoration', null);\nFactory.addGetterSetter(TextPath, 'kerningFunc', null);\n","import { Util, Transform } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { Shape } from '../Shape.js';\nimport { Rect } from './Rect.js';\nimport { Group } from '../Group.js';\nimport { Konva } from '../Global.js';\nimport { getBooleanValidator, getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nvar EVENTS_NAME = 'tr-konva';\nvar ATTR_CHANGE_LIST = [\n    'resizeEnabledChange',\n    'rotateAnchorOffsetChange',\n    'rotateEnabledChange',\n    'enabledAnchorsChange',\n    'anchorSizeChange',\n    'borderEnabledChange',\n    'borderStrokeChange',\n    'borderStrokeWidthChange',\n    'borderDashChange',\n    'anchorStrokeChange',\n    'anchorStrokeWidthChange',\n    'anchorFillChange',\n    'anchorCornerRadiusChange',\n    'ignoreStrokeChange',\n]\n    .map((e) => e + `.${EVENTS_NAME}`)\n    .join(' ');\nvar NODES_RECT = 'nodesRect';\nvar TRANSFORM_CHANGE_STR = [\n    'widthChange',\n    'heightChange',\n    'scaleXChange',\n    'scaleYChange',\n    'skewXChange',\n    'skewYChange',\n    'rotationChange',\n    'offsetXChange',\n    'offsetYChange',\n    'transformsEnabledChange',\n    'strokeWidthChange',\n];\nvar ANGLES = {\n    'top-left': -45,\n    'top-center': 0,\n    'top-right': 45,\n    'middle-right': -90,\n    'middle-left': 90,\n    'bottom-left': -135,\n    'bottom-center': 180,\n    'bottom-right': 135,\n};\nconst TOUCH_DEVICE = 'ontouchstart' in Konva._global;\nfunction getCursor(anchorName, rad) {\n    if (anchorName === 'rotater') {\n        return 'crosshair';\n    }\n    rad += Util.degToRad(ANGLES[anchorName] || 0);\n    var angle = ((Util.radToDeg(rad) % 360) + 360) % 360;\n    if (Util._inRange(angle, 315 + 22.5, 360) || Util._inRange(angle, 0, 22.5)) {\n        return 'ns-resize';\n    }\n    else if (Util._inRange(angle, 45 - 22.5, 45 + 22.5)) {\n        return 'nesw-resize';\n    }\n    else if (Util._inRange(angle, 90 - 22.5, 90 + 22.5)) {\n        return 'ew-resize';\n    }\n    else if (Util._inRange(angle, 135 - 22.5, 135 + 22.5)) {\n        return 'nwse-resize';\n    }\n    else if (Util._inRange(angle, 180 - 22.5, 180 + 22.5)) {\n        return 'ns-resize';\n    }\n    else if (Util._inRange(angle, 225 - 22.5, 225 + 22.5)) {\n        return 'nesw-resize';\n    }\n    else if (Util._inRange(angle, 270 - 22.5, 270 + 22.5)) {\n        return 'ew-resize';\n    }\n    else if (Util._inRange(angle, 315 - 22.5, 315 + 22.5)) {\n        return 'nwse-resize';\n    }\n    else {\n        Util.error('Transformer has unknown angle for cursor detection: ' + angle);\n        return 'pointer';\n    }\n}\nvar ANCHORS_NAMES = [\n    'top-left',\n    'top-center',\n    'top-right',\n    'middle-right',\n    'middle-left',\n    'bottom-left',\n    'bottom-center',\n    'bottom-right',\n];\nvar MAX_SAFE_INTEGER = 100000000;\nfunction getCenter(shape) {\n    return {\n        x: shape.x +\n            (shape.width / 2) * Math.cos(shape.rotation) +\n            (shape.height / 2) * Math.sin(-shape.rotation),\n        y: shape.y +\n            (shape.height / 2) * Math.cos(shape.rotation) +\n            (shape.width / 2) * Math.sin(shape.rotation),\n    };\n}\nfunction rotateAroundPoint(shape, angleRad, point) {\n    const x = point.x +\n        (shape.x - point.x) * Math.cos(angleRad) -\n        (shape.y - point.y) * Math.sin(angleRad);\n    const y = point.y +\n        (shape.x - point.x) * Math.sin(angleRad) +\n        (shape.y - point.y) * Math.cos(angleRad);\n    return Object.assign(Object.assign({}, shape), { rotation: shape.rotation + angleRad, x,\n        y });\n}\nfunction rotateAroundCenter(shape, deltaRad) {\n    const center = getCenter(shape);\n    return rotateAroundPoint(shape, deltaRad, center);\n}\nfunction getSnap(snaps, newRotationRad, tol) {\n    let snapped = newRotationRad;\n    for (let i = 0; i < snaps.length; i++) {\n        const angle = Konva.getAngle(snaps[i]);\n        const absDiff = Math.abs(angle - newRotationRad) % (Math.PI * 2);\n        const dif = Math.min(absDiff, Math.PI * 2 - absDiff);\n        if (dif < tol) {\n            snapped = angle;\n        }\n    }\n    return snapped;\n}\nexport class Transformer extends Group {\n    constructor(config) {\n        super(config);\n        this._transforming = false;\n        this._createElements();\n        this._handleMouseMove = this._handleMouseMove.bind(this);\n        this._handleMouseUp = this._handleMouseUp.bind(this);\n        this.update = this.update.bind(this);\n        this.on(ATTR_CHANGE_LIST, this.update);\n        if (this.getNode()) {\n            this.update();\n        }\n    }\n    attachTo(node) {\n        this.setNode(node);\n        return this;\n    }\n    setNode(node) {\n        Util.warn('tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead.');\n        return this.setNodes([node]);\n    }\n    getNode() {\n        return this._nodes && this._nodes[0];\n    }\n    _getEventNamespace() {\n        return EVENTS_NAME + this._id;\n    }\n    setNodes(nodes = []) {\n        if (this._nodes && this._nodes.length) {\n            this.detach();\n        }\n        this._nodes = nodes;\n        if (nodes.length === 1 && this.useSingleNodeRotation()) {\n            this.rotation(nodes[0].getAbsoluteRotation());\n        }\n        else {\n            this.rotation(0);\n        }\n        this._nodes.forEach((node) => {\n            const onChange = () => {\n                if (this.nodes().length === 1 && this.useSingleNodeRotation()) {\n                    this.rotation(this.nodes()[0].getAbsoluteRotation());\n                }\n                this._resetTransformCache();\n                if (!this._transforming && !this.isDragging()) {\n                    this.update();\n                }\n            };\n            const additionalEvents = node._attrsAffectingSize\n                .map((prop) => prop + 'Change.' + this._getEventNamespace())\n                .join(' ');\n            node.on(additionalEvents, onChange);\n            node.on(TRANSFORM_CHANGE_STR.map((e) => e + `.${this._getEventNamespace()}`).join(' '), onChange);\n            node.on(`absoluteTransformChange.${this._getEventNamespace()}`, onChange);\n            this._proxyDrag(node);\n        });\n        this._resetTransformCache();\n        var elementsCreated = !!this.findOne('.top-left');\n        if (elementsCreated) {\n            this.update();\n        }\n        return this;\n    }\n    _proxyDrag(node) {\n        let lastPos;\n        node.on(`dragstart.${this._getEventNamespace()}`, (e) => {\n            lastPos = node.getAbsolutePosition();\n            if (!this.isDragging() && node !== this.findOne('.back')) {\n                this.startDrag(e, false);\n            }\n        });\n        node.on(`dragmove.${this._getEventNamespace()}`, (e) => {\n            if (!lastPos) {\n                return;\n            }\n            const abs = node.getAbsolutePosition();\n            const dx = abs.x - lastPos.x;\n            const dy = abs.y - lastPos.y;\n            this.nodes().forEach((otherNode) => {\n                if (otherNode === node) {\n                    return;\n                }\n                if (otherNode.isDragging()) {\n                    return;\n                }\n                const otherAbs = otherNode.getAbsolutePosition();\n                otherNode.setAbsolutePosition({\n                    x: otherAbs.x + dx,\n                    y: otherAbs.y + dy,\n                });\n                otherNode.startDrag(e);\n            });\n            lastPos = null;\n        });\n    }\n    getNodes() {\n        return this._nodes || [];\n    }\n    getActiveAnchor() {\n        return this._movingAnchorName;\n    }\n    detach() {\n        if (this._nodes) {\n            this._nodes.forEach((node) => {\n                node.off('.' + this._getEventNamespace());\n            });\n        }\n        this._nodes = [];\n        this._resetTransformCache();\n    }\n    _resetTransformCache() {\n        this._clearCache(NODES_RECT);\n        this._clearCache('transform');\n        this._clearSelfAndDescendantCache('absoluteTransform');\n    }\n    _getNodeRect() {\n        return this._getCache(NODES_RECT, this.__getNodeRect);\n    }\n    __getNodeShape(node, rot = this.rotation(), relative) {\n        var rect = node.getClientRect({\n            skipTransform: true,\n            skipShadow: true,\n            skipStroke: this.ignoreStroke(),\n        });\n        var absScale = node.getAbsoluteScale(relative);\n        var absPos = node.getAbsolutePosition(relative);\n        var dx = rect.x * absScale.x - node.offsetX() * absScale.x;\n        var dy = rect.y * absScale.y - node.offsetY() * absScale.y;\n        const rotation = (Konva.getAngle(node.getAbsoluteRotation()) + Math.PI * 2) %\n            (Math.PI * 2);\n        const box = {\n            x: absPos.x + dx * Math.cos(rotation) + dy * Math.sin(-rotation),\n            y: absPos.y + dy * Math.cos(rotation) + dx * Math.sin(rotation),\n            width: rect.width * absScale.x,\n            height: rect.height * absScale.y,\n            rotation: rotation,\n        };\n        return rotateAroundPoint(box, -Konva.getAngle(rot), {\n            x: 0,\n            y: 0,\n        });\n    }\n    __getNodeRect() {\n        var node = this.getNode();\n        if (!node) {\n            return {\n                x: -MAX_SAFE_INTEGER,\n                y: -MAX_SAFE_INTEGER,\n                width: 0,\n                height: 0,\n                rotation: 0,\n            };\n        }\n        const totalPoints = [];\n        this.nodes().map((node) => {\n            const box = node.getClientRect({\n                skipTransform: true,\n                skipShadow: true,\n                skipStroke: this.ignoreStroke(),\n            });\n            var points = [\n                { x: box.x, y: box.y },\n                { x: box.x + box.width, y: box.y },\n                { x: box.x + box.width, y: box.y + box.height },\n                { x: box.x, y: box.y + box.height },\n            ];\n            var trans = node.getAbsoluteTransform();\n            points.forEach(function (point) {\n                var transformed = trans.point(point);\n                totalPoints.push(transformed);\n            });\n        });\n        const tr = new Transform();\n        tr.rotate(-Konva.getAngle(this.rotation()));\n        var minX, minY, maxX, maxY;\n        totalPoints.forEach(function (point) {\n            var transformed = tr.point(point);\n            if (minX === undefined) {\n                minX = maxX = transformed.x;\n                minY = maxY = transformed.y;\n            }\n            minX = Math.min(minX, transformed.x);\n            minY = Math.min(minY, transformed.y);\n            maxX = Math.max(maxX, transformed.x);\n            maxY = Math.max(maxY, transformed.y);\n        });\n        tr.invert();\n        const p = tr.point({ x: minX, y: minY });\n        return {\n            x: p.x,\n            y: p.y,\n            width: maxX - minX,\n            height: maxY - minY,\n            rotation: Konva.getAngle(this.rotation()),\n        };\n    }\n    getX() {\n        return this._getNodeRect().x;\n    }\n    getY() {\n        return this._getNodeRect().y;\n    }\n    getWidth() {\n        return this._getNodeRect().width;\n    }\n    getHeight() {\n        return this._getNodeRect().height;\n    }\n    _createElements() {\n        this._createBack();\n        ANCHORS_NAMES.forEach(function (name) {\n            this._createAnchor(name);\n        }.bind(this));\n        this._createAnchor('rotater');\n    }\n    _createAnchor(name) {\n        var anchor = new Rect({\n            stroke: 'rgb(0, 161, 255)',\n            fill: 'white',\n            strokeWidth: 1,\n            name: name + ' _anchor',\n            dragDistance: 0,\n            draggable: true,\n            hitStrokeWidth: TOUCH_DEVICE ? 10 : 'auto',\n        });\n        var self = this;\n        anchor.on('mousedown touchstart', function (e) {\n            self._handleMouseDown(e);\n        });\n        anchor.on('dragstart', (e) => {\n            anchor.stopDrag();\n            e.cancelBubble = true;\n        });\n        anchor.on('dragend', (e) => {\n            e.cancelBubble = true;\n        });\n        anchor.on('mouseenter', () => {\n            var rad = Konva.getAngle(this.rotation());\n            var cursor = getCursor(name, rad);\n            anchor.getStage().content &&\n                (anchor.getStage().content.style.cursor = cursor);\n            this._cursorChange = true;\n        });\n        anchor.on('mouseout', () => {\n            anchor.getStage().content &&\n                (anchor.getStage().content.style.cursor = '');\n            this._cursorChange = false;\n        });\n        this.add(anchor);\n    }\n    _createBack() {\n        var back = new Shape({\n            name: 'back',\n            width: 0,\n            height: 0,\n            draggable: true,\n            sceneFunc(ctx) {\n                var tr = this.getParent();\n                var padding = tr.padding();\n                ctx.beginPath();\n                ctx.rect(-padding, -padding, this.width() + padding * 2, this.height() + padding * 2);\n                ctx.moveTo(this.width() / 2, -padding);\n                if (tr.rotateEnabled()) {\n                    ctx.lineTo(this.width() / 2, -tr.rotateAnchorOffset() * Util._sign(this.height()) - padding);\n                }\n                ctx.fillStrokeShape(this);\n            },\n            hitFunc: (ctx, shape) => {\n                if (!this.shouldOverdrawWholeArea()) {\n                    return;\n                }\n                var padding = this.padding();\n                ctx.beginPath();\n                ctx.rect(-padding, -padding, shape.width() + padding * 2, shape.height() + padding * 2);\n                ctx.fillStrokeShape(shape);\n            },\n        });\n        this.add(back);\n        this._proxyDrag(back);\n        back.on('dragstart', (e) => {\n            e.cancelBubble = true;\n        });\n        back.on('dragmove', (e) => {\n            e.cancelBubble = true;\n        });\n        back.on('dragend', (e) => {\n            e.cancelBubble = true;\n        });\n        this.on('dragmove', (e) => {\n            this.update();\n        });\n    }\n    _handleMouseDown(e) {\n        this._movingAnchorName = e.target.name().split(' ')[0];\n        var attrs = this._getNodeRect();\n        var width = attrs.width;\n        var height = attrs.height;\n        var hypotenuse = Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2));\n        this.sin = Math.abs(height / hypotenuse);\n        this.cos = Math.abs(width / hypotenuse);\n        if (typeof window !== 'undefined') {\n            window.addEventListener('mousemove', this._handleMouseMove);\n            window.addEventListener('touchmove', this._handleMouseMove);\n            window.addEventListener('mouseup', this._handleMouseUp, true);\n            window.addEventListener('touchend', this._handleMouseUp, true);\n        }\n        this._transforming = true;\n        var ap = e.target.getAbsolutePosition();\n        var pos = e.target.getStage().getPointerPosition();\n        this._anchorDragOffset = {\n            x: pos.x - ap.x,\n            y: pos.y - ap.y,\n        };\n        this._fire('transformstart', { evt: e.evt, target: this.getNode() });\n        this._nodes.forEach((target) => {\n            target._fire('transformstart', { evt: e.evt, target });\n        });\n    }\n    _handleMouseMove(e) {\n        var x, y, newHypotenuse;\n        var anchorNode = this.findOne('.' + this._movingAnchorName);\n        var stage = anchorNode.getStage();\n        stage.setPointersPositions(e);\n        const pp = stage.getPointerPosition();\n        let newNodePos = {\n            x: pp.x - this._anchorDragOffset.x,\n            y: pp.y - this._anchorDragOffset.y,\n        };\n        const oldAbs = anchorNode.getAbsolutePosition();\n        if (this.anchorDragBoundFunc()) {\n            newNodePos = this.anchorDragBoundFunc()(oldAbs, newNodePos, e);\n        }\n        anchorNode.setAbsolutePosition(newNodePos);\n        const newAbs = anchorNode.getAbsolutePosition();\n        if (oldAbs.x === newAbs.x && oldAbs.y === newAbs.y) {\n            return;\n        }\n        if (this._movingAnchorName === 'rotater') {\n            var attrs = this._getNodeRect();\n            x = anchorNode.x() - attrs.width / 2;\n            y = -anchorNode.y() + attrs.height / 2;\n            let delta = Math.atan2(-y, x) + Math.PI / 2;\n            if (attrs.height < 0) {\n                delta -= Math.PI;\n            }\n            var oldRotation = Konva.getAngle(this.rotation());\n            const newRotation = oldRotation + delta;\n            const tol = Konva.getAngle(this.rotationSnapTolerance());\n            const snappedRot = getSnap(this.rotationSnaps(), newRotation, tol);\n            const diff = snappedRot - attrs.rotation;\n            const shape = rotateAroundCenter(attrs, diff);\n            this._fitNodesInto(shape, e);\n            return;\n        }\n        var keepProportion = this.keepRatio() || e.shiftKey;\n        var centeredScaling = this.centeredScaling() || e.altKey;\n        if (this._movingAnchorName === 'top-left') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.bottom-right').x(),\n                        y: this.findOne('.bottom-right').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(comparePoint.x - anchorNode.x(), 2) +\n                    Math.pow(comparePoint.y - anchorNode.y(), 2));\n                var reverseX = this.findOne('.top-left').x() > comparePoint.x ? -1 : 1;\n                var reverseY = this.findOne('.top-left').y() > comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                this.findOne('.top-left').x(comparePoint.x - x);\n                this.findOne('.top-left').y(comparePoint.y - y);\n            }\n        }\n        else if (this._movingAnchorName === 'top-center') {\n            this.findOne('.top-left').y(anchorNode.y());\n        }\n        else if (this._movingAnchorName === 'top-right') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.bottom-left').x(),\n                        y: this.findOne('.bottom-left').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(anchorNode.x() - comparePoint.x, 2) +\n                    Math.pow(comparePoint.y - anchorNode.y(), 2));\n                var reverseX = this.findOne('.top-right').x() < comparePoint.x ? -1 : 1;\n                var reverseY = this.findOne('.top-right').y() > comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                this.findOne('.top-right').x(comparePoint.x + x);\n                this.findOne('.top-right').y(comparePoint.y - y);\n            }\n            var pos = anchorNode.position();\n            this.findOne('.top-left').y(pos.y);\n            this.findOne('.bottom-right').x(pos.x);\n        }\n        else if (this._movingAnchorName === 'middle-left') {\n            this.findOne('.top-left').x(anchorNode.x());\n        }\n        else if (this._movingAnchorName === 'middle-right') {\n            this.findOne('.bottom-right').x(anchorNode.x());\n        }\n        else if (this._movingAnchorName === 'bottom-left') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.top-right').x(),\n                        y: this.findOne('.top-right').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(comparePoint.x - anchorNode.x(), 2) +\n                    Math.pow(anchorNode.y() - comparePoint.y, 2));\n                var reverseX = comparePoint.x < anchorNode.x() ? -1 : 1;\n                var reverseY = anchorNode.y() < comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                anchorNode.x(comparePoint.x - x);\n                anchorNode.y(comparePoint.y + y);\n            }\n            pos = anchorNode.position();\n            this.findOne('.top-left').x(pos.x);\n            this.findOne('.bottom-right').y(pos.y);\n        }\n        else if (this._movingAnchorName === 'bottom-center') {\n            this.findOne('.bottom-right').y(anchorNode.y());\n        }\n        else if (this._movingAnchorName === 'bottom-right') {\n            if (keepProportion) {\n                var comparePoint = centeredScaling\n                    ? {\n                        x: this.width() / 2,\n                        y: this.height() / 2,\n                    }\n                    : {\n                        x: this.findOne('.top-left').x(),\n                        y: this.findOne('.top-left').y(),\n                    };\n                newHypotenuse = Math.sqrt(Math.pow(anchorNode.x() - comparePoint.x, 2) +\n                    Math.pow(anchorNode.y() - comparePoint.y, 2));\n                var reverseX = this.findOne('.bottom-right').x() < comparePoint.x ? -1 : 1;\n                var reverseY = this.findOne('.bottom-right').y() < comparePoint.y ? -1 : 1;\n                x = newHypotenuse * this.cos * reverseX;\n                y = newHypotenuse * this.sin * reverseY;\n                this.findOne('.bottom-right').x(comparePoint.x + x);\n                this.findOne('.bottom-right').y(comparePoint.y + y);\n            }\n        }\n        else {\n            console.error(new Error('Wrong position argument of selection resizer: ' +\n                this._movingAnchorName));\n        }\n        var centeredScaling = this.centeredScaling() || e.altKey;\n        if (centeredScaling) {\n            var topLeft = this.findOne('.top-left');\n            var bottomRight = this.findOne('.bottom-right');\n            var topOffsetX = topLeft.x();\n            var topOffsetY = topLeft.y();\n            var bottomOffsetX = this.getWidth() - bottomRight.x();\n            var bottomOffsetY = this.getHeight() - bottomRight.y();\n            bottomRight.move({\n                x: -topOffsetX,\n                y: -topOffsetY,\n            });\n            topLeft.move({\n                x: bottomOffsetX,\n                y: bottomOffsetY,\n            });\n        }\n        var absPos = this.findOne('.top-left').getAbsolutePosition();\n        x = absPos.x;\n        y = absPos.y;\n        var width = this.findOne('.bottom-right').x() - this.findOne('.top-left').x();\n        var height = this.findOne('.bottom-right').y() - this.findOne('.top-left').y();\n        this._fitNodesInto({\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n            rotation: Konva.getAngle(this.rotation()),\n        }, e);\n    }\n    _handleMouseUp(e) {\n        this._removeEvents(e);\n    }\n    getAbsoluteTransform() {\n        return this.getTransform();\n    }\n    _removeEvents(e) {\n        if (this._transforming) {\n            this._transforming = false;\n            if (typeof window !== 'undefined') {\n                window.removeEventListener('mousemove', this._handleMouseMove);\n                window.removeEventListener('touchmove', this._handleMouseMove);\n                window.removeEventListener('mouseup', this._handleMouseUp, true);\n                window.removeEventListener('touchend', this._handleMouseUp, true);\n            }\n            var node = this.getNode();\n            this._fire('transformend', { evt: e, target: node });\n            if (node) {\n                this._nodes.forEach((target) => {\n                    target._fire('transformend', { evt: e, target });\n                });\n            }\n            this._movingAnchorName = null;\n        }\n    }\n    _fitNodesInto(newAttrs, evt) {\n        var oldAttrs = this._getNodeRect();\n        const minSize = 1;\n        if (Util._inRange(newAttrs.width, -this.padding() * 2 - minSize, minSize)) {\n            this.update();\n            return;\n        }\n        if (Util._inRange(newAttrs.height, -this.padding() * 2 - minSize, minSize)) {\n            this.update();\n            return;\n        }\n        const allowNegativeScale = this.flipEnabled();\n        var t = new Transform();\n        t.rotate(Konva.getAngle(this.rotation()));\n        if (this._movingAnchorName &&\n            newAttrs.width < 0 &&\n            this._movingAnchorName.indexOf('left') >= 0) {\n            const offset = t.point({\n                x: -this.padding() * 2,\n                y: 0,\n            });\n            newAttrs.x += offset.x;\n            newAttrs.y += offset.y;\n            newAttrs.width += this.padding() * 2;\n            this._movingAnchorName = this._movingAnchorName.replace('left', 'right');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        else if (this._movingAnchorName &&\n            newAttrs.width < 0 &&\n            this._movingAnchorName.indexOf('right') >= 0) {\n            const offset = t.point({\n                x: this.padding() * 2,\n                y: 0,\n            });\n            this._movingAnchorName = this._movingAnchorName.replace('right', 'left');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            newAttrs.width += this.padding() * 2;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        if (this._movingAnchorName &&\n            newAttrs.height < 0 &&\n            this._movingAnchorName.indexOf('top') >= 0) {\n            const offset = t.point({\n                x: 0,\n                y: -this.padding() * 2,\n            });\n            newAttrs.x += offset.x;\n            newAttrs.y += offset.y;\n            this._movingAnchorName = this._movingAnchorName.replace('top', 'bottom');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            newAttrs.height += this.padding() * 2;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        else if (this._movingAnchorName &&\n            newAttrs.height < 0 &&\n            this._movingAnchorName.indexOf('bottom') >= 0) {\n            const offset = t.point({\n                x: 0,\n                y: this.padding() * 2,\n            });\n            this._movingAnchorName = this._movingAnchorName.replace('bottom', 'top');\n            this._anchorDragOffset.x -= offset.x;\n            this._anchorDragOffset.y -= offset.y;\n            newAttrs.height += this.padding() * 2;\n            if (!allowNegativeScale) {\n                this.update();\n                return;\n            }\n        }\n        if (this.boundBoxFunc()) {\n            const bounded = this.boundBoxFunc()(oldAttrs, newAttrs);\n            if (bounded) {\n                newAttrs = bounded;\n            }\n            else {\n                Util.warn('boundBoxFunc returned falsy. You should return new bound rect from it!');\n            }\n        }\n        const baseSize = 10000000;\n        const oldTr = new Transform();\n        oldTr.translate(oldAttrs.x, oldAttrs.y);\n        oldTr.rotate(oldAttrs.rotation);\n        oldTr.scale(oldAttrs.width / baseSize, oldAttrs.height / baseSize);\n        const newTr = new Transform();\n        newTr.translate(newAttrs.x, newAttrs.y);\n        newTr.rotate(newAttrs.rotation);\n        newTr.scale(newAttrs.width / baseSize, newAttrs.height / baseSize);\n        const delta = newTr.multiply(oldTr.invert());\n        this._nodes.forEach((node) => {\n            var _a;\n            const parentTransform = node.getParent().getAbsoluteTransform();\n            const localTransform = node.getTransform().copy();\n            localTransform.translate(node.offsetX(), node.offsetY());\n            const newLocalTransform = new Transform();\n            newLocalTransform\n                .multiply(parentTransform.copy().invert())\n                .multiply(delta)\n                .multiply(parentTransform)\n                .multiply(localTransform);\n            const attrs = newLocalTransform.decompose();\n            node.setAttrs(attrs);\n            this._fire('transform', { evt: evt, target: node });\n            node._fire('transform', { evt: evt, target: node });\n            (_a = node.getLayer()) === null || _a === void 0 ? void 0 : _a.batchDraw();\n        });\n        this.rotation(Util._getRotation(newAttrs.rotation));\n        this._resetTransformCache();\n        this.update();\n        this.getLayer().batchDraw();\n    }\n    forceUpdate() {\n        this._resetTransformCache();\n        this.update();\n    }\n    _batchChangeChild(selector, attrs) {\n        const anchor = this.findOne(selector);\n        anchor.setAttrs(attrs);\n    }\n    update() {\n        var _a;\n        var attrs = this._getNodeRect();\n        this.rotation(Util._getRotation(attrs.rotation));\n        var width = attrs.width;\n        var height = attrs.height;\n        var enabledAnchors = this.enabledAnchors();\n        var resizeEnabled = this.resizeEnabled();\n        var padding = this.padding();\n        var anchorSize = this.anchorSize();\n        this.find('._anchor').forEach((node) => {\n            node.setAttrs({\n                width: anchorSize,\n                height: anchorSize,\n                offsetX: anchorSize / 2,\n                offsetY: anchorSize / 2,\n                stroke: this.anchorStroke(),\n                strokeWidth: this.anchorStrokeWidth(),\n                fill: this.anchorFill(),\n                cornerRadius: this.anchorCornerRadius(),\n            });\n        });\n        this._batchChangeChild('.top-left', {\n            x: 0,\n            y: 0,\n            offsetX: anchorSize / 2 + padding,\n            offsetY: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('top-left') >= 0,\n        });\n        this._batchChangeChild('.top-center', {\n            x: width / 2,\n            y: 0,\n            offsetY: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('top-center') >= 0,\n        });\n        this._batchChangeChild('.top-right', {\n            x: width,\n            y: 0,\n            offsetX: anchorSize / 2 - padding,\n            offsetY: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('top-right') >= 0,\n        });\n        this._batchChangeChild('.middle-left', {\n            x: 0,\n            y: height / 2,\n            offsetX: anchorSize / 2 + padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('middle-left') >= 0,\n        });\n        this._batchChangeChild('.middle-right', {\n            x: width,\n            y: height / 2,\n            offsetX: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('middle-right') >= 0,\n        });\n        this._batchChangeChild('.bottom-left', {\n            x: 0,\n            y: height,\n            offsetX: anchorSize / 2 + padding,\n            offsetY: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('bottom-left') >= 0,\n        });\n        this._batchChangeChild('.bottom-center', {\n            x: width / 2,\n            y: height,\n            offsetY: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('bottom-center') >= 0,\n        });\n        this._batchChangeChild('.bottom-right', {\n            x: width,\n            y: height,\n            offsetX: anchorSize / 2 - padding,\n            offsetY: anchorSize / 2 - padding,\n            visible: resizeEnabled && enabledAnchors.indexOf('bottom-right') >= 0,\n        });\n        this._batchChangeChild('.rotater', {\n            x: width / 2,\n            y: -this.rotateAnchorOffset() * Util._sign(height) - padding,\n            visible: this.rotateEnabled(),\n        });\n        this._batchChangeChild('.back', {\n            width: width,\n            height: height,\n            visible: this.borderEnabled(),\n            stroke: this.borderStroke(),\n            strokeWidth: this.borderStrokeWidth(),\n            dash: this.borderDash(),\n            x: 0,\n            y: 0,\n        });\n        (_a = this.getLayer()) === null || _a === void 0 ? void 0 : _a.batchDraw();\n    }\n    isTransforming() {\n        return this._transforming;\n    }\n    stopTransform() {\n        if (this._transforming) {\n            this._removeEvents();\n            var anchorNode = this.findOne('.' + this._movingAnchorName);\n            if (anchorNode) {\n                anchorNode.stopDrag();\n            }\n        }\n    }\n    destroy() {\n        if (this.getStage() && this._cursorChange) {\n            this.getStage().content && (this.getStage().content.style.cursor = '');\n        }\n        Group.prototype.destroy.call(this);\n        this.detach();\n        this._removeEvents();\n        return this;\n    }\n    toObject() {\n        return Node.prototype.toObject.call(this);\n    }\n}\nfunction validateAnchors(val) {\n    if (!(val instanceof Array)) {\n        Util.warn('enabledAnchors value should be an array');\n    }\n    if (val instanceof Array) {\n        val.forEach(function (name) {\n            if (ANCHORS_NAMES.indexOf(name) === -1) {\n                Util.warn('Unknown anchor name: ' +\n                    name +\n                    '. Available names are: ' +\n                    ANCHORS_NAMES.join(', '));\n            }\n        });\n    }\n    return val || [];\n}\nTransformer.prototype.className = 'Transformer';\n_registerNode(Transformer);\nFactory.addGetterSetter(Transformer, 'enabledAnchors', ANCHORS_NAMES, validateAnchors);\nFactory.addGetterSetter(Transformer, 'flipEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Transformer, 'resizeEnabled', true);\nFactory.addGetterSetter(Transformer, 'anchorSize', 10, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'rotateEnabled', true);\nFactory.addGetterSetter(Transformer, 'rotationSnaps', []);\nFactory.addGetterSetter(Transformer, 'rotateAnchorOffset', 50, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'rotationSnapTolerance', 5, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'borderEnabled', true);\nFactory.addGetterSetter(Transformer, 'anchorStroke', 'rgb(0, 161, 255)');\nFactory.addGetterSetter(Transformer, 'anchorStrokeWidth', 1, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'anchorFill', 'white');\nFactory.addGetterSetter(Transformer, 'anchorCornerRadius', 0, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'borderStroke', 'rgb(0, 161, 255)');\nFactory.addGetterSetter(Transformer, 'borderStrokeWidth', 1, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'borderDash');\nFactory.addGetterSetter(Transformer, 'keepRatio', true);\nFactory.addGetterSetter(Transformer, 'centeredScaling', false);\nFactory.addGetterSetter(Transformer, 'ignoreStroke', false);\nFactory.addGetterSetter(Transformer, 'padding', 0, getNumberValidator());\nFactory.addGetterSetter(Transformer, 'node');\nFactory.addGetterSetter(Transformer, 'nodes');\nFactory.addGetterSetter(Transformer, 'boundBoxFunc');\nFactory.addGetterSetter(Transformer, 'anchorDragBoundFunc');\nFactory.addGetterSetter(Transformer, 'shouldOverdrawWholeArea', false);\nFactory.addGetterSetter(Transformer, 'useSingleNodeRotation', true);\nFactory.backCompat(Transformer, {\n    lineEnabled: 'borderEnabled',\n    rotateHandlerOffset: 'rotateAnchorOffset',\n    enabledHandlers: 'enabledAnchors',\n});\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { Konva } from '../Global.js';\nimport { getNumberValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport class Wedge extends Shape {\n    _sceneFunc(context) {\n        context.beginPath();\n        context.arc(0, 0, this.radius(), 0, Konva.getAngle(this.angle()), this.clockwise());\n        context.lineTo(0, 0);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    getWidth() {\n        return this.radius() * 2;\n    }\n    getHeight() {\n        return this.radius() * 2;\n    }\n    setWidth(width) {\n        this.radius(width / 2);\n    }\n    setHeight(height) {\n        this.radius(height / 2);\n    }\n}\nWedge.prototype.className = 'Wedge';\nWedge.prototype._centroid = true;\nWedge.prototype._attrsAffectingSize = ['radius'];\n_registerNode(Wedge);\nFactory.addGetterSetter(Wedge, 'radius', 0, getNumberValidator());\nFactory.addGetterSetter(Wedge, 'angle', 0, getNumberValidator());\nFactory.addGetterSetter(Wedge, 'clockwise', false);\nFactory.backCompat(Wedge, {\n    angleDeg: 'angle',\n    getAngleDeg: 'getAngle',\n    setAngleDeg: 'setAngle',\n});\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nfunction BlurStack() {\n    this.r = 0;\n    this.g = 0;\n    this.b = 0;\n    this.a = 0;\n    this.next = null;\n}\nvar mul_table = [\n    512,\n    512,\n    456,\n    512,\n    328,\n    456,\n    335,\n    512,\n    405,\n    328,\n    271,\n    456,\n    388,\n    335,\n    292,\n    512,\n    454,\n    405,\n    364,\n    328,\n    298,\n    271,\n    496,\n    456,\n    420,\n    388,\n    360,\n    335,\n    312,\n    292,\n    273,\n    512,\n    482,\n    454,\n    428,\n    405,\n    383,\n    364,\n    345,\n    328,\n    312,\n    298,\n    284,\n    271,\n    259,\n    496,\n    475,\n    456,\n    437,\n    420,\n    404,\n    388,\n    374,\n    360,\n    347,\n    335,\n    323,\n    312,\n    302,\n    292,\n    282,\n    273,\n    265,\n    512,\n    497,\n    482,\n    468,\n    454,\n    441,\n    428,\n    417,\n    405,\n    394,\n    383,\n    373,\n    364,\n    354,\n    345,\n    337,\n    328,\n    320,\n    312,\n    305,\n    298,\n    291,\n    284,\n    278,\n    271,\n    265,\n    259,\n    507,\n    496,\n    485,\n    475,\n    465,\n    456,\n    446,\n    437,\n    428,\n    420,\n    412,\n    404,\n    396,\n    388,\n    381,\n    374,\n    367,\n    360,\n    354,\n    347,\n    341,\n    335,\n    329,\n    323,\n    318,\n    312,\n    307,\n    302,\n    297,\n    292,\n    287,\n    282,\n    278,\n    273,\n    269,\n    265,\n    261,\n    512,\n    505,\n    497,\n    489,\n    482,\n    475,\n    468,\n    461,\n    454,\n    447,\n    441,\n    435,\n    428,\n    422,\n    417,\n    411,\n    405,\n    399,\n    394,\n    389,\n    383,\n    378,\n    373,\n    368,\n    364,\n    359,\n    354,\n    350,\n    345,\n    341,\n    337,\n    332,\n    328,\n    324,\n    320,\n    316,\n    312,\n    309,\n    305,\n    301,\n    298,\n    294,\n    291,\n    287,\n    284,\n    281,\n    278,\n    274,\n    271,\n    268,\n    265,\n    262,\n    259,\n    257,\n    507,\n    501,\n    496,\n    491,\n    485,\n    480,\n    475,\n    470,\n    465,\n    460,\n    456,\n    451,\n    446,\n    442,\n    437,\n    433,\n    428,\n    424,\n    420,\n    416,\n    412,\n    408,\n    404,\n    400,\n    396,\n    392,\n    388,\n    385,\n    381,\n    377,\n    374,\n    370,\n    367,\n    363,\n    360,\n    357,\n    354,\n    350,\n    347,\n    344,\n    341,\n    338,\n    335,\n    332,\n    329,\n    326,\n    323,\n    320,\n    318,\n    315,\n    312,\n    310,\n    307,\n    304,\n    302,\n    299,\n    297,\n    294,\n    292,\n    289,\n    287,\n    285,\n    282,\n    280,\n    278,\n    275,\n    273,\n    271,\n    269,\n    267,\n    265,\n    263,\n    261,\n    259,\n];\nvar shg_table = [\n    9,\n    11,\n    12,\n    13,\n    13,\n    14,\n    14,\n    15,\n    15,\n    15,\n    15,\n    16,\n    16,\n    16,\n    16,\n    17,\n    17,\n    17,\n    17,\n    17,\n    17,\n    17,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    18,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    19,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    20,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    21,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    22,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    23,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n    24,\n];\nfunction filterGaussBlurRGBA(imageData, radius) {\n    var pixels = imageData.data, width = imageData.width, height = imageData.height;\n    var x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum, a_sum, r_out_sum, g_out_sum, b_out_sum, a_out_sum, r_in_sum, g_in_sum, b_in_sum, a_in_sum, pr, pg, pb, pa, rbs;\n    var div = radius + radius + 1, widthMinus1 = width - 1, heightMinus1 = height - 1, radiusPlus1 = radius + 1, sumFactor = (radiusPlus1 * (radiusPlus1 + 1)) / 2, stackStart = new BlurStack(), stackEnd = null, stack = stackStart, stackIn = null, stackOut = null, mul_sum = mul_table[radius], shg_sum = shg_table[radius];\n    for (i = 1; i < div; i++) {\n        stack = stack.next = new BlurStack();\n        if (i === radiusPlus1) {\n            stackEnd = stack;\n        }\n    }\n    stack.next = stackStart;\n    yw = yi = 0;\n    for (y = 0; y < height; y++) {\n        r_in_sum = g_in_sum = b_in_sum = a_in_sum = r_sum = g_sum = b_sum = a_sum = 0;\n        r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n        g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);\n        b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);\n        a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);\n        r_sum += sumFactor * pr;\n        g_sum += sumFactor * pg;\n        b_sum += sumFactor * pb;\n        a_sum += sumFactor * pa;\n        stack = stackStart;\n        for (i = 0; i < radiusPlus1; i++) {\n            stack.r = pr;\n            stack.g = pg;\n            stack.b = pb;\n            stack.a = pa;\n            stack = stack.next;\n        }\n        for (i = 1; i < radiusPlus1; i++) {\n            p = yi + ((widthMinus1 < i ? widthMinus1 : i) << 2);\n            r_sum += (stack.r = pr = pixels[p]) * (rbs = radiusPlus1 - i);\n            g_sum += (stack.g = pg = pixels[p + 1]) * rbs;\n            b_sum += (stack.b = pb = pixels[p + 2]) * rbs;\n            a_sum += (stack.a = pa = pixels[p + 3]) * rbs;\n            r_in_sum += pr;\n            g_in_sum += pg;\n            b_in_sum += pb;\n            a_in_sum += pa;\n            stack = stack.next;\n        }\n        stackIn = stackStart;\n        stackOut = stackEnd;\n        for (x = 0; x < width; x++) {\n            pixels[yi + 3] = pa = (a_sum * mul_sum) >> shg_sum;\n            if (pa !== 0) {\n                pa = 255 / pa;\n                pixels[yi] = ((r_sum * mul_sum) >> shg_sum) * pa;\n                pixels[yi + 1] = ((g_sum * mul_sum) >> shg_sum) * pa;\n                pixels[yi + 2] = ((b_sum * mul_sum) >> shg_sum) * pa;\n            }\n            else {\n                pixels[yi] = pixels[yi + 1] = pixels[yi + 2] = 0;\n            }\n            r_sum -= r_out_sum;\n            g_sum -= g_out_sum;\n            b_sum -= b_out_sum;\n            a_sum -= a_out_sum;\n            r_out_sum -= stackIn.r;\n            g_out_sum -= stackIn.g;\n            b_out_sum -= stackIn.b;\n            a_out_sum -= stackIn.a;\n            p = (yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1)) << 2;\n            r_in_sum += stackIn.r = pixels[p];\n            g_in_sum += stackIn.g = pixels[p + 1];\n            b_in_sum += stackIn.b = pixels[p + 2];\n            a_in_sum += stackIn.a = pixels[p + 3];\n            r_sum += r_in_sum;\n            g_sum += g_in_sum;\n            b_sum += b_in_sum;\n            a_sum += a_in_sum;\n            stackIn = stackIn.next;\n            r_out_sum += pr = stackOut.r;\n            g_out_sum += pg = stackOut.g;\n            b_out_sum += pb = stackOut.b;\n            a_out_sum += pa = stackOut.a;\n            r_in_sum -= pr;\n            g_in_sum -= pg;\n            b_in_sum -= pb;\n            a_in_sum -= pa;\n            stackOut = stackOut.next;\n            yi += 4;\n        }\n        yw += width;\n    }\n    for (x = 0; x < width; x++) {\n        g_in_sum = b_in_sum = a_in_sum = r_in_sum = g_sum = b_sum = a_sum = r_sum = 0;\n        yi = x << 2;\n        r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n        g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);\n        b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);\n        a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);\n        r_sum += sumFactor * pr;\n        g_sum += sumFactor * pg;\n        b_sum += sumFactor * pb;\n        a_sum += sumFactor * pa;\n        stack = stackStart;\n        for (i = 0; i < radiusPlus1; i++) {\n            stack.r = pr;\n            stack.g = pg;\n            stack.b = pb;\n            stack.a = pa;\n            stack = stack.next;\n        }\n        yp = width;\n        for (i = 1; i <= radius; i++) {\n            yi = (yp + x) << 2;\n            r_sum += (stack.r = pr = pixels[yi]) * (rbs = radiusPlus1 - i);\n            g_sum += (stack.g = pg = pixels[yi + 1]) * rbs;\n            b_sum += (stack.b = pb = pixels[yi + 2]) * rbs;\n            a_sum += (stack.a = pa = pixels[yi + 3]) * rbs;\n            r_in_sum += pr;\n            g_in_sum += pg;\n            b_in_sum += pb;\n            a_in_sum += pa;\n            stack = stack.next;\n            if (i < heightMinus1) {\n                yp += width;\n            }\n        }\n        yi = x;\n        stackIn = stackStart;\n        stackOut = stackEnd;\n        for (y = 0; y < height; y++) {\n            p = yi << 2;\n            pixels[p + 3] = pa = (a_sum * mul_sum) >> shg_sum;\n            if (pa > 0) {\n                pa = 255 / pa;\n                pixels[p] = ((r_sum * mul_sum) >> shg_sum) * pa;\n                pixels[p + 1] = ((g_sum * mul_sum) >> shg_sum) * pa;\n                pixels[p + 2] = ((b_sum * mul_sum) >> shg_sum) * pa;\n            }\n            else {\n                pixels[p] = pixels[p + 1] = pixels[p + 2] = 0;\n            }\n            r_sum -= r_out_sum;\n            g_sum -= g_out_sum;\n            b_sum -= b_out_sum;\n            a_sum -= a_out_sum;\n            r_out_sum -= stackIn.r;\n            g_out_sum -= stackIn.g;\n            b_out_sum -= stackIn.b;\n            a_out_sum -= stackIn.a;\n            p =\n                (x +\n                    ((p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width) <<\n                    2;\n            r_sum += r_in_sum += stackIn.r = pixels[p];\n            g_sum += g_in_sum += stackIn.g = pixels[p + 1];\n            b_sum += b_in_sum += stackIn.b = pixels[p + 2];\n            a_sum += a_in_sum += stackIn.a = pixels[p + 3];\n            stackIn = stackIn.next;\n            r_out_sum += pr = stackOut.r;\n            g_out_sum += pg = stackOut.g;\n            b_out_sum += pb = stackOut.b;\n            a_out_sum += pa = stackOut.a;\n            r_in_sum -= pr;\n            g_in_sum -= pg;\n            b_in_sum -= pb;\n            a_in_sum -= pa;\n            stackOut = stackOut.next;\n            yi += width;\n        }\n    }\n}\nexport const Blur = function Blur(imageData) {\n    var radius = Math.round(this.blurRadius());\n    if (radius > 0) {\n        filterGaussBlurRGBA(imageData, radius);\n    }\n};\nFactory.addGetterSetter(Node, 'blurRadius', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Brighten = function (imageData) {\n    var brightness = this.brightness() * 255, data = imageData.data, len = data.length, i;\n    for (i = 0; i < len; i += 4) {\n        data[i] += brightness;\n        data[i + 1] += brightness;\n        data[i + 2] += brightness;\n    }\n};\nFactory.addGetterSetter(Node, 'brightness', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Contrast = function (imageData) {\n    var adjust = Math.pow((this.contrast() + 100) / 100, 2);\n    var data = imageData.data, nPixels = data.length, red = 150, green = 150, blue = 150, i;\n    for (i = 0; i < nPixels; i += 4) {\n        red = data[i];\n        green = data[i + 1];\n        blue = data[i + 2];\n        red /= 255;\n        red -= 0.5;\n        red *= adjust;\n        red += 0.5;\n        red *= 255;\n        green /= 255;\n        green -= 0.5;\n        green *= adjust;\n        green += 0.5;\n        green *= 255;\n        blue /= 255;\n        blue -= 0.5;\n        blue *= adjust;\n        blue += 0.5;\n        blue *= 255;\n        red = red < 0 ? 0 : red > 255 ? 255 : red;\n        green = green < 0 ? 0 : green > 255 ? 255 : green;\n        blue = blue < 0 ? 0 : blue > 255 ? 255 : blue;\n        data[i] = red;\n        data[i + 1] = green;\n        data[i + 2] = blue;\n    }\n};\nFactory.addGetterSetter(Node, 'contrast', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { Util } from '../Util.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Emboss = function (imageData) {\n    var strength = this.embossStrength() * 10, greyLevel = this.embossWhiteLevel() * 255, direction = this.embossDirection(), blend = this.embossBlend(), dirY = 0, dirX = 0, data = imageData.data, w = imageData.width, h = imageData.height, w4 = w * 4, y = h;\n    switch (direction) {\n        case 'top-left':\n            dirY = -1;\n            dirX = -1;\n            break;\n        case 'top':\n            dirY = -1;\n            dirX = 0;\n            break;\n        case 'top-right':\n            dirY = -1;\n            dirX = 1;\n            break;\n        case 'right':\n            dirY = 0;\n            dirX = 1;\n            break;\n        case 'bottom-right':\n            dirY = 1;\n            dirX = 1;\n            break;\n        case 'bottom':\n            dirY = 1;\n            dirX = 0;\n            break;\n        case 'bottom-left':\n            dirY = 1;\n            dirX = -1;\n            break;\n        case 'left':\n            dirY = 0;\n            dirX = -1;\n            break;\n        default:\n            Util.error('Unknown emboss direction: ' + direction);\n    }\n    do {\n        var offsetY = (y - 1) * w4;\n        var otherY = dirY;\n        if (y + otherY < 1) {\n            otherY = 0;\n        }\n        if (y + otherY > h) {\n            otherY = 0;\n        }\n        var offsetYOther = (y - 1 + otherY) * w * 4;\n        var x = w;\n        do {\n            var offset = offsetY + (x - 1) * 4;\n            var otherX = dirX;\n            if (x + otherX < 1) {\n                otherX = 0;\n            }\n            if (x + otherX > w) {\n                otherX = 0;\n            }\n            var offsetOther = offsetYOther + (x - 1 + otherX) * 4;\n            var dR = data[offset] - data[offsetOther];\n            var dG = data[offset + 1] - data[offsetOther + 1];\n            var dB = data[offset + 2] - data[offsetOther + 2];\n            var dif = dR;\n            var absDif = dif > 0 ? dif : -dif;\n            var absG = dG > 0 ? dG : -dG;\n            var absB = dB > 0 ? dB : -dB;\n            if (absG > absDif) {\n                dif = dG;\n            }\n            if (absB > absDif) {\n                dif = dB;\n            }\n            dif *= strength;\n            if (blend) {\n                var r = data[offset] + dif;\n                var g = data[offset + 1] + dif;\n                var b = data[offset + 2] + dif;\n                data[offset] = r > 255 ? 255 : r < 0 ? 0 : r;\n                data[offset + 1] = g > 255 ? 255 : g < 0 ? 0 : g;\n                data[offset + 2] = b > 255 ? 255 : b < 0 ? 0 : b;\n            }\n            else {\n                var grey = greyLevel - dif;\n                if (grey < 0) {\n                    grey = 0;\n                }\n                else if (grey > 255) {\n                    grey = 255;\n                }\n                data[offset] = data[offset + 1] = data[offset + 2] = grey;\n            }\n        } while (--x);\n    } while (--y);\n};\nFactory.addGetterSetter(Node, 'embossStrength', 0.5, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'embossWhiteLevel', 0.5, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'embossDirection', 'top-left', null, Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'embossBlend', false, null, Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nfunction remap(fromValue, fromMin, fromMax, toMin, toMax) {\n    var fromRange = fromMax - fromMin, toRange = toMax - toMin, toValue;\n    if (fromRange === 0) {\n        return toMin + toRange / 2;\n    }\n    if (toRange === 0) {\n        return toMin;\n    }\n    toValue = (fromValue - fromMin) / fromRange;\n    toValue = toRange * toValue + toMin;\n    return toValue;\n}\nexport const Enhance = function (imageData) {\n    var data = imageData.data, nSubPixels = data.length, rMin = data[0], rMax = rMin, r, gMin = data[1], gMax = gMin, g, bMin = data[2], bMax = bMin, b, i;\n    var enhanceAmount = this.enhance();\n    if (enhanceAmount === 0) {\n        return;\n    }\n    for (i = 0; i < nSubPixels; i += 4) {\n        r = data[i + 0];\n        if (r < rMin) {\n            rMin = r;\n        }\n        else if (r > rMax) {\n            rMax = r;\n        }\n        g = data[i + 1];\n        if (g < gMin) {\n            gMin = g;\n        }\n        else if (g > gMax) {\n            gMax = g;\n        }\n        b = data[i + 2];\n        if (b < bMin) {\n            bMin = b;\n        }\n        else if (b > bMax) {\n            bMax = b;\n        }\n    }\n    if (rMax === rMin) {\n        rMax = 255;\n        rMin = 0;\n    }\n    if (gMax === gMin) {\n        gMax = 255;\n        gMin = 0;\n    }\n    if (bMax === bMin) {\n        bMax = 255;\n        bMin = 0;\n    }\n    var rMid, rGoalMax, rGoalMin, gMid, gGoalMax, gGoalMin, bMid, bGoalMax, bGoalMin;\n    if (enhanceAmount > 0) {\n        rGoalMax = rMax + enhanceAmount * (255 - rMax);\n        rGoalMin = rMin - enhanceAmount * (rMin - 0);\n        gGoalMax = gMax + enhanceAmount * (255 - gMax);\n        gGoalMin = gMin - enhanceAmount * (gMin - 0);\n        bGoalMax = bMax + enhanceAmount * (255 - bMax);\n        bGoalMin = bMin - enhanceAmount * (bMin - 0);\n    }\n    else {\n        rMid = (rMax + rMin) * 0.5;\n        rGoalMax = rMax + enhanceAmount * (rMax - rMid);\n        rGoalMin = rMin + enhanceAmount * (rMin - rMid);\n        gMid = (gMax + gMin) * 0.5;\n        gGoalMax = gMax + enhanceAmount * (gMax - gMid);\n        gGoalMin = gMin + enhanceAmount * (gMin - gMid);\n        bMid = (bMax + bMin) * 0.5;\n        bGoalMax = bMax + enhanceAmount * (bMax - bMid);\n        bGoalMin = bMin + enhanceAmount * (bMin - bMid);\n    }\n    for (i = 0; i < nSubPixels; i += 4) {\n        data[i + 0] = remap(data[i + 0], rMin, rMax, rGoalMin, rGoalMax);\n        data[i + 1] = remap(data[i + 1], gMin, gMax, gGoalMin, gGoalMax);\n        data[i + 2] = remap(data[i + 2], bMin, bMax, bGoalMin, bGoalMax);\n    }\n};\nFactory.addGetterSetter(Node, 'enhance', 0, getNumberValidator(), Factory.afterSetFilter);\n","export const Grayscale = function (imageData) {\n    var data = imageData.data, len = data.length, i, brightness;\n    for (i = 0; i < len; i += 4) {\n        brightness = 0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2];\n        data[i] = brightness;\n        data[i + 1] = brightness;\n        data[i + 2] = brightness;\n    }\n};\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nFactory.addGetterSetter(Node, 'hue', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'saturation', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'luminance', 0, getNumberValidator(), Factory.afterSetFilter);\nexport const HSL = function (imageData) {\n    var data = imageData.data, nPixels = data.length, v = 1, s = Math.pow(2, this.saturation()), h = Math.abs(this.hue() + 360) % 360, l = this.luminance() * 127, i;\n    var vsu = v * s * Math.cos((h * Math.PI) / 180), vsw = v * s * Math.sin((h * Math.PI) / 180);\n    var rr = 0.299 * v + 0.701 * vsu + 0.167 * vsw, rg = 0.587 * v - 0.587 * vsu + 0.33 * vsw, rb = 0.114 * v - 0.114 * vsu - 0.497 * vsw;\n    var gr = 0.299 * v - 0.299 * vsu - 0.328 * vsw, gg = 0.587 * v + 0.413 * vsu + 0.035 * vsw, gb = 0.114 * v - 0.114 * vsu + 0.293 * vsw;\n    var br = 0.299 * v - 0.3 * vsu + 1.25 * vsw, bg = 0.587 * v - 0.586 * vsu - 1.05 * vsw, bb = 0.114 * v + 0.886 * vsu - 0.2 * vsw;\n    var r, g, b, a;\n    for (i = 0; i < nPixels; i += 4) {\n        r = data[i + 0];\n        g = data[i + 1];\n        b = data[i + 2];\n        a = data[i + 3];\n        data[i + 0] = rr * r + rg * g + rb * b + l;\n        data[i + 1] = gr * r + gg * g + gb * b + l;\n        data[i + 2] = br * r + bg * g + bb * b + l;\n        data[i + 3] = a;\n    }\n};\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const HSV = function (imageData) {\n    var data = imageData.data, nPixels = data.length, v = Math.pow(2, this.value()), s = Math.pow(2, this.saturation()), h = Math.abs(this.hue() + 360) % 360, i;\n    var vsu = v * s * Math.cos((h * Math.PI) / 180), vsw = v * s * Math.sin((h * Math.PI) / 180);\n    var rr = 0.299 * v + 0.701 * vsu + 0.167 * vsw, rg = 0.587 * v - 0.587 * vsu + 0.33 * vsw, rb = 0.114 * v - 0.114 * vsu - 0.497 * vsw;\n    var gr = 0.299 * v - 0.299 * vsu - 0.328 * vsw, gg = 0.587 * v + 0.413 * vsu + 0.035 * vsw, gb = 0.114 * v - 0.114 * vsu + 0.293 * vsw;\n    var br = 0.299 * v - 0.3 * vsu + 1.25 * vsw, bg = 0.587 * v - 0.586 * vsu - 1.05 * vsw, bb = 0.114 * v + 0.886 * vsu - 0.2 * vsw;\n    var r, g, b, a;\n    for (i = 0; i < nPixels; i += 4) {\n        r = data[i + 0];\n        g = data[i + 1];\n        b = data[i + 2];\n        a = data[i + 3];\n        data[i + 0] = rr * r + rg * g + rb * b;\n        data[i + 1] = gr * r + gg * g + gb * b;\n        data[i + 2] = br * r + bg * g + bb * b;\n        data[i + 3] = a;\n    }\n};\nFactory.addGetterSetter(Node, 'hue', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'saturation', 0, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'value', 0, getNumberValidator(), Factory.afterSetFilter);\n","export const Invert = function (imageData) {\n    var data = imageData.data, len = data.length, i;\n    for (i = 0; i < len; i += 4) {\n        data[i] = 255 - data[i];\n        data[i + 1] = 255 - data[i + 1];\n        data[i + 2] = 255 - data[i + 2];\n    }\n};\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { Util } from '../Util.js';\nimport { getNumberValidator } from '../Validators.js';\nvar ToPolar = function (src, dst, opt) {\n    var srcPixels = src.data, dstPixels = dst.data, xSize = src.width, ySize = src.height, xMid = opt.polarCenterX || xSize / 2, yMid = opt.polarCenterY || ySize / 2, i, x, y, r = 0, g = 0, b = 0, a = 0;\n    var rad, rMax = Math.sqrt(xMid * xMid + yMid * yMid);\n    x = xSize - xMid;\n    y = ySize - yMid;\n    rad = Math.sqrt(x * x + y * y);\n    rMax = rad > rMax ? rad : rMax;\n    var rSize = ySize, tSize = xSize, radius, theta;\n    var conversion = ((360 / tSize) * Math.PI) / 180, sin, cos;\n    for (theta = 0; theta < tSize; theta += 1) {\n        sin = Math.sin(theta * conversion);\n        cos = Math.cos(theta * conversion);\n        for (radius = 0; radius < rSize; radius += 1) {\n            x = Math.floor(xMid + ((rMax * radius) / rSize) * cos);\n            y = Math.floor(yMid + ((rMax * radius) / rSize) * sin);\n            i = (y * xSize + x) * 4;\n            r = srcPixels[i + 0];\n            g = srcPixels[i + 1];\n            b = srcPixels[i + 2];\n            a = srcPixels[i + 3];\n            i = (theta + radius * xSize) * 4;\n            dstPixels[i + 0] = r;\n            dstPixels[i + 1] = g;\n            dstPixels[i + 2] = b;\n            dstPixels[i + 3] = a;\n        }\n    }\n};\nvar FromPolar = function (src, dst, opt) {\n    var srcPixels = src.data, dstPixels = dst.data, xSize = src.width, ySize = src.height, xMid = opt.polarCenterX || xSize / 2, yMid = opt.polarCenterY || ySize / 2, i, x, y, dx, dy, r = 0, g = 0, b = 0, a = 0;\n    var rad, rMax = Math.sqrt(xMid * xMid + yMid * yMid);\n    x = xSize - xMid;\n    y = ySize - yMid;\n    rad = Math.sqrt(x * x + y * y);\n    rMax = rad > rMax ? rad : rMax;\n    var rSize = ySize, tSize = xSize, radius, theta, phaseShift = opt.polarRotation || 0;\n    var x1, y1;\n    for (x = 0; x < xSize; x += 1) {\n        for (y = 0; y < ySize; y += 1) {\n            dx = x - xMid;\n            dy = y - yMid;\n            radius = (Math.sqrt(dx * dx + dy * dy) * rSize) / rMax;\n            theta = ((Math.atan2(dy, dx) * 180) / Math.PI + 360 + phaseShift) % 360;\n            theta = (theta * tSize) / 360;\n            x1 = Math.floor(theta);\n            y1 = Math.floor(radius);\n            i = (y1 * xSize + x1) * 4;\n            r = srcPixels[i + 0];\n            g = srcPixels[i + 1];\n            b = srcPixels[i + 2];\n            a = srcPixels[i + 3];\n            i = (y * xSize + x) * 4;\n            dstPixels[i + 0] = r;\n            dstPixels[i + 1] = g;\n            dstPixels[i + 2] = b;\n            dstPixels[i + 3] = a;\n        }\n    }\n};\nexport const Kaleidoscope = function (imageData) {\n    var xSize = imageData.width, ySize = imageData.height;\n    var x, y, xoff, i, r, g, b, a, srcPos, dstPos;\n    var power = Math.round(this.kaleidoscopePower());\n    var angle = Math.round(this.kaleidoscopeAngle());\n    var offset = Math.floor((xSize * (angle % 360)) / 360);\n    if (power < 1) {\n        return;\n    }\n    var tempCanvas = Util.createCanvasElement();\n    tempCanvas.width = xSize;\n    tempCanvas.height = ySize;\n    var scratchData = tempCanvas\n        .getContext('2d')\n        .getImageData(0, 0, xSize, ySize);\n    ToPolar(imageData, scratchData, {\n        polarCenterX: xSize / 2,\n        polarCenterY: ySize / 2,\n    });\n    var minSectionSize = xSize / Math.pow(2, power);\n    while (minSectionSize <= 8) {\n        minSectionSize = minSectionSize * 2;\n        power -= 1;\n    }\n    minSectionSize = Math.ceil(minSectionSize);\n    var sectionSize = minSectionSize;\n    var xStart = 0, xEnd = sectionSize, xDelta = 1;\n    if (offset + minSectionSize > xSize) {\n        xStart = sectionSize;\n        xEnd = 0;\n        xDelta = -1;\n    }\n    for (y = 0; y < ySize; y += 1) {\n        for (x = xStart; x !== xEnd; x += xDelta) {\n            xoff = Math.round(x + offset) % xSize;\n            srcPos = (xSize * y + xoff) * 4;\n            r = scratchData.data[srcPos + 0];\n            g = scratchData.data[srcPos + 1];\n            b = scratchData.data[srcPos + 2];\n            a = scratchData.data[srcPos + 3];\n            dstPos = (xSize * y + x) * 4;\n            scratchData.data[dstPos + 0] = r;\n            scratchData.data[dstPos + 1] = g;\n            scratchData.data[dstPos + 2] = b;\n            scratchData.data[dstPos + 3] = a;\n        }\n    }\n    for (y = 0; y < ySize; y += 1) {\n        sectionSize = Math.floor(minSectionSize);\n        for (i = 0; i < power; i += 1) {\n            for (x = 0; x < sectionSize + 1; x += 1) {\n                srcPos = (xSize * y + x) * 4;\n                r = scratchData.data[srcPos + 0];\n                g = scratchData.data[srcPos + 1];\n                b = scratchData.data[srcPos + 2];\n                a = scratchData.data[srcPos + 3];\n                dstPos = (xSize * y + sectionSize * 2 - x - 1) * 4;\n                scratchData.data[dstPos + 0] = r;\n                scratchData.data[dstPos + 1] = g;\n                scratchData.data[dstPos + 2] = b;\n                scratchData.data[dstPos + 3] = a;\n            }\n            sectionSize *= 2;\n        }\n    }\n    FromPolar(scratchData, imageData, { polarRotation: 0 });\n};\nFactory.addGetterSetter(Node, 'kaleidoscopePower', 2, getNumberValidator(), Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'kaleidoscopeAngle', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nfunction pixelAt(idata, x, y) {\n    var idx = (y * idata.width + x) * 4;\n    var d = [];\n    d.push(idata.data[idx++], idata.data[idx++], idata.data[idx++], idata.data[idx++]);\n    return d;\n}\nfunction rgbDistance(p1, p2) {\n    return Math.sqrt(Math.pow(p1[0] - p2[0], 2) +\n        Math.pow(p1[1] - p2[1], 2) +\n        Math.pow(p1[2] - p2[2], 2));\n}\nfunction rgbMean(pTab) {\n    var m = [0, 0, 0];\n    for (var i = 0; i < pTab.length; i++) {\n        m[0] += pTab[i][0];\n        m[1] += pTab[i][1];\n        m[2] += pTab[i][2];\n    }\n    m[0] /= pTab.length;\n    m[1] /= pTab.length;\n    m[2] /= pTab.length;\n    return m;\n}\nfunction backgroundMask(idata, threshold) {\n    var rgbv_no = pixelAt(idata, 0, 0);\n    var rgbv_ne = pixelAt(idata, idata.width - 1, 0);\n    var rgbv_so = pixelAt(idata, 0, idata.height - 1);\n    var rgbv_se = pixelAt(idata, idata.width - 1, idata.height - 1);\n    var thres = threshold || 10;\n    if (rgbDistance(rgbv_no, rgbv_ne) < thres &&\n        rgbDistance(rgbv_ne, rgbv_se) < thres &&\n        rgbDistance(rgbv_se, rgbv_so) < thres &&\n        rgbDistance(rgbv_so, rgbv_no) < thres) {\n        var mean = rgbMean([rgbv_ne, rgbv_no, rgbv_se, rgbv_so]);\n        var mask = [];\n        for (var i = 0; i < idata.width * idata.height; i++) {\n            var d = rgbDistance(mean, [\n                idata.data[i * 4],\n                idata.data[i * 4 + 1],\n                idata.data[i * 4 + 2],\n            ]);\n            mask[i] = d < thres ? 0 : 255;\n        }\n        return mask;\n    }\n}\nfunction applyMask(idata, mask) {\n    for (var i = 0; i < idata.width * idata.height; i++) {\n        idata.data[4 * i + 3] = mask[i];\n    }\n}\nfunction erodeMask(mask, sw, sh) {\n    var weights = [1, 1, 1, 1, 0, 1, 1, 1, 1];\n    var side = Math.round(Math.sqrt(weights.length));\n    var halfSide = Math.floor(side / 2);\n    var maskResult = [];\n    for (var y = 0; y < sh; y++) {\n        for (var x = 0; x < sw; x++) {\n            var so = y * sw + x;\n            var a = 0;\n            for (var cy = 0; cy < side; cy++) {\n                for (var cx = 0; cx < side; cx++) {\n                    var scy = y + cy - halfSide;\n                    var scx = x + cx - halfSide;\n                    if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n                        var srcOff = scy * sw + scx;\n                        var wt = weights[cy * side + cx];\n                        a += mask[srcOff] * wt;\n                    }\n                }\n            }\n            maskResult[so] = a === 255 * 8 ? 255 : 0;\n        }\n    }\n    return maskResult;\n}\nfunction dilateMask(mask, sw, sh) {\n    var weights = [1, 1, 1, 1, 1, 1, 1, 1, 1];\n    var side = Math.round(Math.sqrt(weights.length));\n    var halfSide = Math.floor(side / 2);\n    var maskResult = [];\n    for (var y = 0; y < sh; y++) {\n        for (var x = 0; x < sw; x++) {\n            var so = y * sw + x;\n            var a = 0;\n            for (var cy = 0; cy < side; cy++) {\n                for (var cx = 0; cx < side; cx++) {\n                    var scy = y + cy - halfSide;\n                    var scx = x + cx - halfSide;\n                    if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n                        var srcOff = scy * sw + scx;\n                        var wt = weights[cy * side + cx];\n                        a += mask[srcOff] * wt;\n                    }\n                }\n            }\n            maskResult[so] = a >= 255 * 4 ? 255 : 0;\n        }\n    }\n    return maskResult;\n}\nfunction smoothEdgeMask(mask, sw, sh) {\n    var weights = [1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9];\n    var side = Math.round(Math.sqrt(weights.length));\n    var halfSide = Math.floor(side / 2);\n    var maskResult = [];\n    for (var y = 0; y < sh; y++) {\n        for (var x = 0; x < sw; x++) {\n            var so = y * sw + x;\n            var a = 0;\n            for (var cy = 0; cy < side; cy++) {\n                for (var cx = 0; cx < side; cx++) {\n                    var scy = y + cy - halfSide;\n                    var scx = x + cx - halfSide;\n                    if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n                        var srcOff = scy * sw + scx;\n                        var wt = weights[cy * side + cx];\n                        a += mask[srcOff] * wt;\n                    }\n                }\n            }\n            maskResult[so] = a;\n        }\n    }\n    return maskResult;\n}\nexport const Mask = function (imageData) {\n    var threshold = this.threshold(), mask = backgroundMask(imageData, threshold);\n    if (mask) {\n        mask = erodeMask(mask, imageData.width, imageData.height);\n        mask = dilateMask(mask, imageData.width, imageData.height);\n        mask = smoothEdgeMask(mask, imageData.width, imageData.height);\n        applyMask(imageData, mask);\n    }\n    return imageData;\n};\nFactory.addGetterSetter(Node, 'threshold', 0, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Noise = function (imageData) {\n    var amount = this.noise() * 255, data = imageData.data, nPixels = data.length, half = amount / 2, i;\n    for (i = 0; i < nPixels; i += 4) {\n        data[i + 0] += half - 2 * half * Math.random();\n        data[i + 1] += half - 2 * half * Math.random();\n        data[i + 2] += half - 2 * half * Math.random();\n    }\n};\nFactory.addGetterSetter(Node, 'noise', 0.2, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Util } from '../Util.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Pixelate = function (imageData) {\n    var pixelSize = Math.ceil(this.pixelSize()), width = imageData.width, height = imageData.height, x, y, i, red, green, blue, alpha, nBinsX = Math.ceil(width / pixelSize), nBinsY = Math.ceil(height / pixelSize), xBinStart, xBinEnd, yBinStart, yBinEnd, xBin, yBin, pixelsInBin, data = imageData.data;\n    if (pixelSize <= 0) {\n        Util.error('pixelSize value can not be <= 0');\n        return;\n    }\n    for (xBin = 0; xBin < nBinsX; xBin += 1) {\n        for (yBin = 0; yBin < nBinsY; yBin += 1) {\n            red = 0;\n            green = 0;\n            blue = 0;\n            alpha = 0;\n            xBinStart = xBin * pixelSize;\n            xBinEnd = xBinStart + pixelSize;\n            yBinStart = yBin * pixelSize;\n            yBinEnd = yBinStart + pixelSize;\n            pixelsInBin = 0;\n            for (x = xBinStart; x < xBinEnd; x += 1) {\n                if (x >= width) {\n                    continue;\n                }\n                for (y = yBinStart; y < yBinEnd; y += 1) {\n                    if (y >= height) {\n                        continue;\n                    }\n                    i = (width * y + x) * 4;\n                    red += data[i + 0];\n                    green += data[i + 1];\n                    blue += data[i + 2];\n                    alpha += data[i + 3];\n                    pixelsInBin += 1;\n                }\n            }\n            red = red / pixelsInBin;\n            green = green / pixelsInBin;\n            blue = blue / pixelsInBin;\n            alpha = alpha / pixelsInBin;\n            for (x = xBinStart; x < xBinEnd; x += 1) {\n                if (x >= width) {\n                    continue;\n                }\n                for (y = yBinStart; y < yBinEnd; y += 1) {\n                    if (y >= height) {\n                        continue;\n                    }\n                    i = (width * y + x) * 4;\n                    data[i + 0] = red;\n                    data[i + 1] = green;\n                    data[i + 2] = blue;\n                    data[i + 3] = alpha;\n                }\n            }\n        }\n    }\n};\nFactory.addGetterSetter(Node, 'pixelSize', 8, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Posterize = function (imageData) {\n    var levels = Math.round(this.levels() * 254) + 1, data = imageData.data, len = data.length, scale = 255 / levels, i;\n    for (i = 0; i < len; i += 1) {\n        data[i] = Math.floor(data[i] / scale) * scale;\n    }\n};\nFactory.addGetterSetter(Node, 'levels', 0.5, getNumberValidator(), Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { RGBComponent } from '../Validators.js';\nexport const RGB = function (imageData) {\n    var data = imageData.data, nPixels = data.length, red = this.red(), green = this.green(), blue = this.blue(), i, brightness;\n    for (i = 0; i < nPixels; i += 4) {\n        brightness =\n            (0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2]) / 255;\n        data[i] = brightness * red;\n        data[i + 1] = brightness * green;\n        data[i + 2] = brightness * blue;\n        data[i + 3] = data[i + 3];\n    }\n};\nFactory.addGetterSetter(Node, 'red', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory.addGetterSetter(Node, 'green', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory.addGetterSetter(Node, 'blue', 0, RGBComponent, Factory.afterSetFilter);\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { RGBComponent } from '../Validators.js';\nexport const RGBA = function (imageData) {\n    var data = imageData.data, nPixels = data.length, red = this.red(), green = this.green(), blue = this.blue(), alpha = this.alpha(), i, ia;\n    for (i = 0; i < nPixels; i += 4) {\n        ia = 1 - alpha;\n        data[i] = red * alpha + data[i] * ia;\n        data[i + 1] = green * alpha + data[i + 1] * ia;\n        data[i + 2] = blue * alpha + data[i + 2] * ia;\n    }\n};\nFactory.addGetterSetter(Node, 'red', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory.addGetterSetter(Node, 'green', 0, function (val) {\n    this._filterUpToDate = false;\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return Math.round(val);\n    }\n});\nFactory.addGetterSetter(Node, 'blue', 0, RGBComponent, Factory.afterSetFilter);\nFactory.addGetterSetter(Node, 'alpha', 1, function (val) {\n    this._filterUpToDate = false;\n    if (val > 1) {\n        return 1;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    else {\n        return val;\n    }\n});\n","export const Sepia = function (imageData) {\n    var data = imageData.data, nPixels = data.length, i, r, g, b;\n    for (i = 0; i < nPixels; i += 4) {\n        r = data[i + 0];\n        g = data[i + 1];\n        b = data[i + 2];\n        data[i + 0] = Math.min(255, r * 0.393 + g * 0.769 + b * 0.189);\n        data[i + 1] = Math.min(255, r * 0.349 + g * 0.686 + b * 0.168);\n        data[i + 2] = Math.min(255, r * 0.272 + g * 0.534 + b * 0.131);\n    }\n};\n","export const Solarize = function (imageData) {\n    var data = imageData.data, w = imageData.width, h = imageData.height, w4 = w * 4, y = h;\n    do {\n        var offsetY = (y - 1) * w4;\n        var x = w;\n        do {\n            var offset = offsetY + (x - 1) * 4;\n            var r = data[offset];\n            var g = data[offset + 1];\n            var b = data[offset + 2];\n            if (r > 127) {\n                r = 255 - r;\n            }\n            if (g > 127) {\n                g = 255 - g;\n            }\n            if (b > 127) {\n                b = 255 - b;\n            }\n            data[offset] = r;\n            data[offset + 1] = g;\n            data[offset + 2] = b;\n        } while (--x);\n    } while (--y);\n};\n","import { Factory } from '../Factory.js';\nimport { Node } from '../Node.js';\nimport { getNumberValidator } from '../Validators.js';\nexport const Threshold = function (imageData) {\n    var level = this.threshold() * 255, data = imageData.data, len = data.length, i;\n    for (i = 0; i < len; i += 1) {\n        data[i] = data[i] < level ? 0 : 255;\n    }\n};\nFactory.addGetterSetter(Node, 'threshold', 0.5, getNumberValidator(), Factory.afterSetFilter);\n","import { Konva as Core } from './_CoreInternals.js';\nimport { Arc } from './shapes/Arc.js';\nimport { Arrow } from './shapes/Arrow.js';\nimport { Circle } from './shapes/Circle.js';\nimport { Ellipse } from './shapes/Ellipse.js';\nimport { Image } from './shapes/Image.js';\nimport { Label, Tag } from './shapes/Label.js';\nimport { Line } from './shapes/Line.js';\nimport { Path } from './shapes/Path.js';\nimport { Rect } from './shapes/Rect.js';\nimport { RegularPolygon } from './shapes/RegularPolygon.js';\nimport { Ring } from './shapes/Ring.js';\nimport { Sprite } from './shapes/Sprite.js';\nimport { Star } from './shapes/Star.js';\nimport { Text } from './shapes/Text.js';\nimport { TextPath } from './shapes/TextPath.js';\nimport { Transformer } from './shapes/Transformer.js';\nimport { Wedge } from './shapes/Wedge.js';\nimport { Blur } from './filters/Blur.js';\nimport { Brighten } from './filters/Brighten.js';\nimport { Contrast } from './filters/Contrast.js';\nimport { Emboss } from './filters/Emboss.js';\nimport { Enhance } from './filters/Enhance.js';\nimport { Grayscale } from './filters/Grayscale.js';\nimport { HSL } from './filters/HSL.js';\nimport { HSV } from './filters/HSV.js';\nimport { Invert } from './filters/Invert.js';\nimport { Kaleidoscope } from './filters/Kaleidoscope.js';\nimport { Mask } from './filters/Mask.js';\nimport { Noise } from './filters/Noise.js';\nimport { Pixelate } from './filters/Pixelate.js';\nimport { Posterize } from './filters/Posterize.js';\nimport { RGB } from './filters/RGB.js';\nimport { RGBA } from './filters/RGBA.js';\nimport { Sepia } from './filters/Sepia.js';\nimport { Solarize } from './filters/Solarize.js';\nimport { Threshold } from './filters/Threshold.js';\nexport const Konva = Core.Util._assign(Core, {\n    Arc,\n    Arrow,\n    Circle,\n    Ellipse,\n    Image,\n    Label,\n    Tag,\n    Line,\n    Path,\n    Rect,\n    RegularPolygon,\n    Ring,\n    Sprite,\n    Star,\n    Text,\n    TextPath,\n    Transformer,\n    Wedge,\n    Filters: {\n        Blur,\n        Brighten,\n        Contrast,\n        Emboss,\n        Enhance,\n        Grayscale,\n        HSL,\n        HSV,\n        Invert,\n        Kaleidoscope,\n        Mask,\n        Noise,\n        Pixelate,\n        Posterize,\n        RGB,\n        RGBA,\n        Sepia,\n        Solarize,\n        Threshold,\n    },\n});\n","import { Konva } from './_FullInternals.js';\nexport default Konva;\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import {\n  getLaneFlowPoint,\n  getRoadFlowPoint,\n  getWaitAreaPoint,\n} from './flowPoint'\n// 在canvas为800的基础上，使用以下配置值\nconst baseWidth = 800\n\n// 路口固定配置，根据baseWidth来设置。会根据cross中size等比缩小\nconst CrossConstBase: any = {\n  roadWidth: 40, // 单个车道宽度  // 2.5米  size：0.000720720720721   1个单位= 0.1米\n  bicycleLaneWidth: 15, // 非机动车道\n  greenWidth: 10, // 中间绿化带宽度\n  doubleYellowLineInterval: 10, // 双黄线间距\n  defaultSolidRoadLength: 80, // 进车道实线长度\n  defaultRoadLength: 2000, // 道路长度\n  defaultRoadNumber: 4, // 初始化道路数\n  manRadianLength: 35, // 增加B点位置，释放出交叉口弧度\n  manRoadLength: 30, // 马路间人行道长度\n  manRoadInterval: 16, // 人行道间隔\n  manRoadLineWidth: 1, // 线粗细\n  manCarInterval: 4, // 人行道与车道停止线间隔\n  walkwayWidth: 20, // 行人通道宽度\n  dashLength: 12, // 虚线长度\n  busDashLength: 30, // 公交专用车道虚线长度\n  tidalDashLength: 24, // 潮汐车道虚线长度\n  roadPole: 130, // 路杆子距离人行道距离  绘制非机动车的位置\n}\n\nconst CrossConst: any = {}\n// 固定值， 不会变化\nconst CrossAngle = {\n  radian: 0, // 各个方向间使用一个弧度，该值为偏移角度，越大弧度越平滑。\n  interval: 1, // 每个几度取一个点。\n}\n// 道路中心区域模式\nconst RoadCenterMode = {\n  doubleYellowLine: 'doubleYellowLine', // 双黄线\n  greenArea: 'greenArea', // 绿化带\n  singleYellowLine: 'singleYellowLine', // 单黄实线\n}\n// 工具类\nconst Util = {\n  // 弧度转换成角度\n  toAngle: (radian: any) => {\n    return (radian * 180) / Math.PI\n  },\n  // 角度转换成弧度\n  toRadian: (angle: any) => {\n    return (angle * Math.PI) / 180\n  },\n  //偏移-旋转-偏移\n  pointRotateByPoint: (point: any, angle: any, rotateCenter = [0, 0]) => {\n    let x = point.x - rotateCenter[0]\n    let y = point.y - rotateCenter[1]\n    if (!x) {\n      x = 0\n    }\n    if (!y) {\n      y == 0\n    }\n    let angleXY = Util.toAngle(Math.atan(y / x))\n    if (x < 0) {\n      angleXY += 180\n    }\n    const L = Math.sqrt(x * x + y * y)\n    return {\n      x: Math.cos(Util.toRadian(angleXY - angle)) * L + rotateCenter[0],\n      y: Math.sin(Util.toRadian(angleXY - angle)) * L + rotateCenter[1],\n    }\n  },\n  // 旋转点位偏移[{x,y}]\n  pointRotateAngel: (point: any, angle: any, move = [0, 0]) => {\n    let { x, y } = point\n    if (!x) {\n      x = 0\n    }\n    if (!y) {\n      y == 0\n    }\n    let angleXY = Util.toAngle(Math.atan(y / x))\n    if (x < 0) {\n      angleXY += 180\n    }\n    const L = Math.sqrt(x * x + y * y)\n    return {\n      x: Math.cos(Util.toRadian(angleXY - angle)) * L + move[0],\n      y: Math.sin(Util.toRadian(angleXY - angle)) * L + move[1],\n    }\n  },\n  // 获取距离\n  getDistance: (x1: any, y1: any, x2: any, y2: any) => {\n    const dx = Math.abs(x2 - x1)\n    const dy = Math.abs(y2 - y1)\n    const distance = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2))\n    return distance\n  },\n  /**\n   * @desc 二阶贝塞尔\n   * @param {number} t 当前百分比\n   * @param {Array} p1 起点坐标\n   * @param {Array} p2 终点坐标\n   * @param {Array} cp 控制点\n   */\n  twoBezier: (t: any, p1: any, cp: any, p2: any) => {\n    const [x1, y1] = p1\n    const [cx, cy] = cp\n    const [x2, y2] = p2\n    const x = (1 - t) * (1 - t) * x1 + 2 * t * (1 - t) * cx + t * t * x2\n    const y = (1 - t) * (1 - t) * y1 + 2 * t * (1 - t) * cy + t * t * y2\n    return [x, y]\n  },\n  // 获取两个点之前那的弧线角度 返回二维点位数组\n  getArcPoint: (pointA: any, pointB: any) => {\n    let angelA = 20\n    const pointList = []\n    let [x1, y1] = pointA\n    let [x3, y3] = pointB\n    if (x1 > x3) {\n      angelA = -20\n      ;[x1, y1, x3, y3] = [x3, y3, x1, y1]\n    }\n    let x2 =\n      x1 +\n      (Math.cos(\n        Util.toRadian(angelA + Util.toAngle(Math.atan((y3 - y1) / (x3 - x1))))\n      ) *\n        Math.sqrt((y3 - y1) * (y3 - y1) + (x3 - x1) * (x3 - x1))) /\n        2 /\n        Math.cos(Util.toRadian(angelA))\n    let y2 =\n      y1 +\n      (Math.sin(\n        Util.toRadian(angelA + Util.toAngle(Math.atan((y3 - y1) / (x3 - x1))))\n      ) *\n        Math.sqrt((y3 - y1) * (y3 - y1) + (x3 - x1) * (x3 - x1))) /\n        2 /\n        Math.cos(Util.toRadian(angelA))\n    for (let i = 0; i < 1; i += 0.01) {\n      const erPoint = Util.twoBezier(i, [x1, y1], [x2, y2], [x3, y3])\n      pointList.push(erPoint)\n    }\n    return pointList\n  },\n  //计算两个点位的弧度\n  calculateAngle(leftDegree: any, rightDegree: any) {\n    let degree = leftDegree - rightDegree\n    if (degree < 0) {\n      degree += 360\n    }\n    return degree\n  },\n\n  // os的角度degree转换成路口模型的角度angle\n  degreeToAngle: (agree: any) => {\n    let angle = 0\n    if (agree >= 0 && agree <= 90) {\n      angle = 90 - agree\n    } else if (agree > 90 && agree < 180) {\n      angle = 360 - agree + 90\n    } else if (agree >= 180 && agree <= 270) {\n      angle = 270 - agree + 180\n    } else if (agree > 270 && agree <= 360) {\n      angle = 360 - agree + 90\n    }\n    return angle\n  },\n\n  // 计算左右两边道路的计算弧度\n  calculateLeftRightRadian(leftDegree: any, rightDegree: any) {\n    let degree = leftDegree - rightDegree\n    let degreeRadia = 0\n    if (degree < 0) {\n      degree += 360\n    }\n    if (degree <= 90) {\n      degreeRadia = Util.toRadian(90 - degree)\n    } else if (degree > 90) {\n      degreeRadia = Util.toRadian(degree - 90)\n    }\n    return degreeRadia\n  },\n\n  // 根据两个点位以及分割距离计算分割的每一段的点位\n  getSplitPoint(point1: any, point2: any, spliceLength: any) {\n    const spliteArr = []\n    const d = Util.getDistance(point1.x, point1.y, point2.x, point2.y)\n    const dx = ((point2.x - point1.x) / d) * spliceLength\n    const dy = ((point2.y - point1.y) / d) * spliceLength\n    const length = Math.ceil(d / spliceLength / 2)\n    for (let j = 0; j < length; j++) {\n      spliteArr.push([\n        [point1.x + dx * 2 * j, point1.y + dy * 2 * j],\n        [point1.x + dx * (2 * j + 1), point1.y + dy * (2 * j + 1)],\n      ])\n    }\n    return spliteArr\n  },\n}\n// 经纬度\n\n/**\n * @description 方向对象\n * @author wsx\n * @Date  2021-07-29 13:10:27\n */\nclass CrossInfo {\n  entrances: any\n  origin: any\n  centerLineMode: any\n  roadNumber: any\n  drawOption: any\n  is_have_son: any\n  baseWidth: any\n  clientWidth: any\n  clientHeight: any\n  entranceArray: any\n\n  constructor(param: any) {\n    const option = Object.assign(\n      {\n        entrances: [], // 各个方向数据\n        origin: [0, 0], // 经纬度或者canvas的原点\n        // size: 400, // 控制大小， 经纬度大小或者canvas画布大小\n        centerLineMode: false, // true：道路中心线交叉原点、false:黄线对齐。\n        drawOption: {}, // 绘制参数\n        is_have_son: 0, // 0普通路口 1父子路口 2匝道\n        baseWidth: 800,\n        clientWidth: 800,\n        clientHeight: 800,\n      },\n      param\n    )\n    const scale = option.is_have_son == 2 ? 1.1 : 0.8\n\n    for (const prop in CrossConstBase) {\n      CrossConst[prop] =\n        ((option.baseWidth * scale) / baseWidth) * CrossConstBase[prop]\n    }\n    if (option.expandManRadian) {\n      CrossConst.manRadianLength = CrossConst.manRadianLength * 3\n    }\n    this.entrances = option.entrances\n    this.origin = option.origin\n    this.centerLineMode = option.centerLineMode\n    this.roadNumber = this.entrances.length\n    this.drawOption = option.drawOption\n    this.is_have_son = option.is_have_son\n    this.baseWidth = option.baseWidth\n    this.clientWidth = option.clientWidth\n    this.clientHeight = option.clientHeight\n    if (this.roadNumber < 2) {\n      console.error('路口模型不能小于两个方向。')\n      return\n    }\n    this.init()\n  }\n\n  init() {\n    this.entranceArray = this.entrances.map((info: any, index: any) => {\n      info.roadNumber = this.roadNumber\n      info.number = index\n      info.origin = this.origin\n      info.centerLineMode = this.centerLineMode\n      info.drawOption = this.drawOption\n      info.entranceNum = this.entrances.length\n      info.is_have_son = this.is_have_son\n      info.baseWidth = this.baseWidth\n      info.clientWidth = this.clientWidth\n      info.clientHeight = this.clientHeight\n\n      // 第二个进口的进口数量,绘制匝道\n      info.secondIn = this.entrances[1].motor_lanes.length\n      if (this.is_have_son === 2) {\n        return new CrossRampObject(info)\n      } else {\n        return new CrossDirectionObject(info)\n      }\n    })\n    // 普通路口做计算\n    if (this.is_have_son != 2) {\n      this.entranceArray.map((info: any, index: any) => {\n        const param = {\n          degreeLeft:\n            index === this.roadNumber - 1\n              ? this.entranceArray[0].degree\n              : this.entranceArray[index + 1].degree,\n          degreeRight:\n            index === 0\n              ? this.entranceArray[this.roadNumber - 1].degree\n              : this.entranceArray[index - 1].degree,\n          widthLeft:\n            index === this.roadNumber - 1\n              ? this.entranceArray[0].rightWidth\n              : this.entranceArray[index + 1].rightWidth,\n          widthRight:\n            index === 0\n              ? this.entranceArray[this.roadNumber - 1].leftWidth\n              : this.entranceArray[index - 1].leftWidth,\n        }\n        info.setLeftAndRight(param)\n      })\n    }\n  }\n}\n/**\n * @description 方向对象\n * @author wsx\n * @Date  2021-07-29 13:10:27\n */\nclass CrossDirectionObject {\n  // 进口数\n  entranceNum: any\n  // 进口id\n  en_id: any\n  name: any;\n  // 进路口车道数\n  in: any\n  // 进路口非机动车道数\n  inBicycleLane: any\n  // 出路口车道数\n  out: any\n  // 出路口非机动车道数\n  outBicycleLane: any\n  origin: any\n  centerLineMode: any\n  drawOption: any\n  // 道路中间类型。 双黄线、绿化带、单黄线等\n  road_center_mode: any\n  twice_crossing_street: any\n  canalization: any\n  // 车道流向\n  motor_lanes: any\n  degree: any\n  // 路口方向相对正南方向偏移角度  （ -360 / CrossConst.defaultRoadNumber, 360 / CrossConst.defaultRoadNumber ）\n  angle: any\n  // this.angle = option.angle\n  // 道路长度\n  roadLength: any\n  // 路口类型，几方向路口\n  roadNumber: any\n  // 当前是第几个方向，正在方为0，逆时针数\n  number: any\n  centerToManRoadDistance: any\n  // 核心点位\n  point: any\n  // 转换正后的坐标\n  correctPoint: any\n  // 准确计算后的点线面数据\n  pointData: any\n  lineData: any\n  polygonData: any\n  angleLeft: any\n  angleRight: any\n  degreeLeft: any\n  degreeRight: any\n  widthLeft: any\n  widthRight: any\n  leftWidth: any\n  rightWidth: any\n  width: any\n\n  constructor(param: any) {\n    const option = Object.assign(\n      {\n        entranceNum: 4,\n        en_id: 1,\n        in: 2,\n        inBicycleLane: 0,\n        out: 2,\n        name: '道路',\n        outBicycleLane: 0,\n        origin: [0, 0],\n        centerLineMode: true,\n        road_center_mode: RoadCenterMode.singleYellowLine,\n        canalization: 0, // 右转渠化\n        drawOption: {},\n        motor_lanes: [], // 进口车道流向\n        degree: 0, //道路角度 根据os提供的角度\n        angle: 0, //道路角度 根据os提供的角度进行转换\n        roadNumber: CrossConst.defaultRoadNumber,\n        number: 0,\n        roadLength: CrossConst.defaultRoadLength,\n        centerToManRoadDistance: 0,\n      },\n      param\n    )\n\n    // 进口数\n    this.entranceNum = option.entranceNum\n    // 进口id\n    this.en_id = option.en_id\n    this.name = option.name\n    // 进路口车道数\n    this.in = option.motor_lanes.length\n    // 进路口非机动车道数\n    this.inBicycleLane = option.inBicycleLane\n    // 出路口车道数\n    this.out = option.exit_lanes.length\n    // 出路口非机动车道数\n    this.outBicycleLane = option.outBicycleLane\n    this.origin = option.origin\n    this.centerLineMode = option.centerLineMode\n    this.drawOption = option.drawOption\n    // 道路中间类型。 双黄线、绿化带、单黄线等\n    this.road_center_mode = option.road_center_mode\n    this.canalization = option.canalization\n    this.twice_crossing_street = option.twice_crossing_street\n    // 车道流向\n    this.motor_lanes = option.motor_lanes\n    this.degree = option.degree\n    // 路口方向相对正南方向偏移角度  （ -360 / CrossConst.defaultRoadNumber, 360 / CrossConst.defaultRoadNumber ）\n    this.angle = Util.degreeToAngle(option.degree)\n    // this.angle = option.angle\n    // 道路长度\n    this.roadLength = option.roadLength\n    // 路口类型，几方向路口\n    this.roadNumber = option.roadNumber\n    // 当前是第几个方向，正在方为0，逆时针数\n    this.number = option.number\n    this.centerToManRoadDistance = option.centerToManRoadDistance\n    this.calculation('width')\n\n    // 核心点位\n    this.point = {}\n    // 转换正后的坐标\n    this.correctPoint = {}\n    // 准确计算后的点线面数据\n    this.pointData = {}\n    this.lineData = {}\n    this.polygonData = {}\n  }\n\n  // 设置左右方向参数\n  setLeftAndRight(param: any): void {\n    const option = Object.assign(\n      {\n        angleLeft: 0,\n        angleRight: 0,\n        degreeLeft: 0,\n        degreeRight: 0,\n        widthLeft: 4 * CrossConst.roadWidth,\n        widthRight: 4 * CrossConst.roadWidth,\n      },\n      param\n    )\n    // 该路口左右测路口信息。\n    this.angleLeft = option.angleLeft\n    this.angleRight = option.angleRight\n    this.degreeLeft = option.degreeLeft\n    this.degreeRight = option.degreeRight\n    this.widthLeft = option.widthLeft\n    this.widthRight = option.widthRight\n    this.calculation('point')\n  }\n\n  // 计算关联属性\n  calculation(prop: any): void {\n    let angleLeft2 = Util.calculateLeftRightRadian(this.degreeLeft, this.degree)\n    let angleRight2 = Util.calculateLeftRightRadian(\n      this.degree,\n      this.degreeRight\n    )\n    let toLeftAngle = Util.calculateAngle(this.degreeLeft, this.degree)\n    let toRightAngle = Util.calculateAngle(this.degree, this.degreeRight)\n\n    let x = 0\n    let y = 0\n    let dy = 0\n    let dw = 0\n    // 根据中心区域不同类型设置, 黄实线的宽度\n    switch (this.road_center_mode) {\n      case RoadCenterMode.doubleYellowLine:\n        dw = CrossConst.doubleYellowLineInterval\n        break\n      case RoadCenterMode.greenArea:\n        dw = CrossConst.greenWidth\n        break\n      case RoadCenterMode.singleYellowLine:\n        dw = 0\n        break\n    }\n    switch (prop) {\n      // 道路宽度\n      case 'width':\n        // this.width = (this.in + this.out) * CrossConst.roadWidth + dw + (this.inBicycleLane + this.outBicycleLane) * CrossConst.bicycleLaneWidth\n        // 自身左右道路长度\n        this.leftWidth =\n          this.out * CrossConst.roadWidth +\n          dw / 2 +\n          this.outBicycleLane * CrossConst.bicycleLaneWidth\n        this.rightWidth =\n          this.in * CrossConst.roadWidth +\n          dw / 2 +\n          this.inBicycleLane * CrossConst.bicycleLaneWidth\n        this.width = this.leftWidth + this.rightWidth\n        if (this.centerLineMode) {\n          this.leftWidth = this.rightWidth = this.width / 2\n        }\n        break\n      // 核心点位\n      case 'point':\n        this.point = {\n          // 左顶点\n          AL: {\n            x: this.centerLineMode\n              ? -this.width / 2\n              : -(\n                  this.out * CrossConst.roadWidth +\n                  dw / 2 +\n                  this.outBicycleLane * CrossConst.bicycleLaneWidth\n                ),\n          },\n          // 右顶点\n          AR: {\n            x: this.centerLineMode\n              ? this.width / 2\n              : this.in * CrossConst.roadWidth +\n                dw / 2 +\n                this.inBicycleLane * CrossConst.bicycleLaneWidth,\n          },\n        }\n        if (toLeftAngle <= 90) {\n          this.point.AL.y =\n            Math.tan(angleLeft2) * this.point.AL.x -\n            this.widthLeft / Math.cos(angleLeft2)\n        } else if (toLeftAngle > 90 && toLeftAngle < 180) {\n          this.point.AL.y =\n            -Math.tan(angleLeft2) * this.point.AL.x -\n            this.widthLeft / Math.cos(angleLeft2)\n        } else {\n          this.point.AL.y = -20\n        }\n\n        if (toRightAngle <= 90) {\n          this.point.AR.y =\n            -Math.tan(angleRight2) * this.point.AR.x -\n            this.widthRight / Math.cos(angleRight2)\n        } else if (toRightAngle > 90 && toRightAngle < 180) {\n          this.point.AR.y =\n            Math.tan(angleRight2) * this.point.AR.x -\n            this.widthRight / Math.cos(angleRight2)\n        }\n\n        if (toLeftAngle >= 180) {\n          this.point.AL.y = this.point.AR.y\n        }\n        if (toRightAngle >= 180) {\n          this.point.AR.y = this.point.AL.y\n        }\n\n        if (this.entranceNum === 2) {\n          this.point.AL.y = -CrossConst.roadWidth * 2.5\n          this.point.AR.y = -CrossConst.roadWidth * 2.5\n        }\n\n        // eslint-disable-next-line no-case-declarations\n        // const minY = this.point.AL.y < this.point.AR.y ? this.point.AL.y : this.point.AR.y\n        // const MINY = Number(Math.min(this.point.AL.y , this.point.AR.y))\n        this.point.CL = {\n          x: this.point.AL.x,\n          y:\n            Math.min(this.point.AL.y, this.point.AR.y) -\n            CrossConst.defaultRoadLength,\n        }\n        this.point.CR = {\n          x: this.point.AR.x,\n          y:\n            Math.min(this.point.AL.y, this.point.AR.y) -\n            CrossConst.defaultRoadLength,\n        }\n        // 使每个路口都垂直，所以关键点位8的高度要一致\n        // let MINH =Number( Math.min(this.point.AL.y, this.point.AR.y))\n        // 记录原来的B点位 BLO  BRO\n        this.point.BLO = {\n          x: this.point.AL.x,\n          y:\n            this.centerToManRoadDistance !== 0\n              ? -this.centerToManRoadDistance\n              : this.point.AL.y -\n                (CrossConst.manRoadLength + CrossConst.manRadianLength),\n        }\n        this.point.BRO = {\n          x: this.point.AR.x,\n          y:\n            this.centerToManRoadDistance !== 0\n              ? -this.centerToManRoadDistance\n              : this.point.AR.y -\n                (CrossConst.manRoadLength + CrossConst.manRadianLength),\n        }\n        this.point.BL = {\n          x: this.point.AL.x,\n          y:\n            this.centerToManRoadDistance !== 0\n              ? -this.centerToManRoadDistance\n              : Math.min(this.point.AL.y, this.point.AR.y) -\n                (CrossConst.manRoadLength + CrossConst.manRadianLength),\n        }\n        this.point.BR = {\n          x: this.point.AR.x,\n          y:\n            this.centerToManRoadDistance !== 0\n              ? -this.centerToManRoadDistance\n              : Math.min(this.point.AL.y, this.point.AR.y) -\n                (CrossConst.manRoadLength + CrossConst.manRadianLength),\n        }\n        // 设备杆位置\n        this.point.roadPole = {\n          x: this.point.BR.x + CrossConst.walkwayWidth / 2,\n          y: this.point.BR.y - CrossConst.roadPole,\n        }\n        // 右边设备杆\n        this.point.roadPoleL = {\n          x: this.point.BL.x - CrossConst.walkwayWidth / 2,\n          y: this.point.BL.y - CrossConst.roadPole,\n        }\n        this.point.B1L = {\n          x: this.point.BL.x - CrossConst.walkwayWidth,\n          y: this.point.BL.y,\n        }\n        this.point.B1R = {\n          x: this.point.BR.x + CrossConst.walkwayWidth,\n          y: this.point.BR.y,\n        }\n        this.point.C1L = {\n          x: this.point.AL.x - CrossConst.walkwayWidth,\n          y:\n            Math.min(this.point.AL.y, this.point.AR.y) -\n            CrossConst.defaultRoadLength,\n        }\n        this.point.C1R = {\n          x: this.point.AR.x + CrossConst.walkwayWidth,\n          y:\n            Math.min(this.point.AL.y, this.point.AR.y) -\n            CrossConst.defaultRoadLength,\n        }\n        // 道路名称位置\n        this.point.roadName = {\n          x: this.point.BL.x - CrossConst.walkwayWidth - 12,\n          y: this.point.BL.y,\n        }\n        // 道路中心绿化带区域点位\n        if (this.road_center_mode === RoadCenterMode.greenArea) {\n          this.point.E1 = {\n            x:\n              this.point.CL.x +\n              this.out * CrossConst.roadWidth +\n              this.outBicycleLane * CrossConst.bicycleLaneWidth,\n            y:\n              Math.min(this.point.AL.y, this.point.AR.y) -\n              CrossConst.defaultRoadLength,\n          }\n          this.point.F1 = {\n            x:\n              this.point.CL.x +\n              this.out * CrossConst.roadWidth +\n              CrossConst.greenWidth +\n              this.outBicycleLane * CrossConst.bicycleLaneWidth,\n            y:\n              Math.min(this.point.AL.y, this.point.AR.y) -\n              CrossConst.defaultRoadLength,\n          }\n          this.point.FToE = []\n          let angleIndex = 0\n          const dx =\n            this.point.CL.x +\n            this.out * CrossConst.roadWidth +\n            this.outBicycleLane * CrossConst.bicycleLaneWidth +\n            CrossConst.greenWidth / 2\n          const dy =\n            this.point.BL.y +\n            ((this.out * CrossConst.roadWidth +\n              this.outBicycleLane * CrossConst.bicycleLaneWidth +\n              CrossConst.greenWidth / 2) /\n              (this.point.BR.x - this.point.BL.x)) *\n              (this.point.BR.y - this.point.BL.y) -\n            CrossConst.greenWidth / 2\n          do {\n            this.point.FToE.push({\n              x:\n                dx +\n                (Math.cos(Util.toRadian(angleIndex)) * CrossConst.greenWidth) /\n                  2,\n              y:\n                dy +\n                (Math.sin(Util.toRadian(angleIndex)) * CrossConst.greenWidth) /\n                  2,\n            })\n            angleIndex += CrossAngle.interval\n          } while (angleIndex <= 180)\n        }\n\n        this.calculation('point2')\n        break\n      case 'point2':\n        // 计算从B到D点间弧度的点。\n        this.calculation('BToD')\n        // 计算人行道点\n        this.calculation('ALToAR')\n        // 人行道点位确定\n        this.calculation('pointH')\n        // 计算 车道 流向点位\n        this.calculation('pointLaneFlow')\n        // 计算 进口 流向点位\n        this.calculation('pointRoadFlow')\n        // 计算待驶区的点位\n        this.calculation('pointWaitArea')\n        for (const prop in this.point) {\n          if (Array.isArray(this.point[prop])) {\n            this.correctPoint[prop] = []\n            this.point[prop].forEach((info: any, index: any) => {\n              if (Array.isArray(info)) {\n                this.correctPoint[prop][index] = []\n                info.map((it) => {\n                  this.correctPoint[prop][index].push(\n                    Util.pointRotateAngel(it, -this.angle, this.origin)\n                  )\n                })\n              } else {\n                this.correctPoint[prop].push(\n                  Util.pointRotateAngel(info, -this.angle, this.origin)\n                )\n              }\n            })\n          } else {\n            this.correctPoint[prop] = Util.pointRotateAngel(\n              this.point[prop],\n              -this.angle,\n              this.origin\n            )\n          }\n        }\n        // 道路面数据计算\n        this.calculation('RoadPolygon')\n        this.calculation('walkwayPolygonR')\n        this.calculation('walkwayPolygonL')\n        this.calculation('manRoadLine')\n        this.calculation('carRoadLine0')\n        this.calculation('carRoadLine1')\n        this.calculation('carRoadLine2')\n        this.calculation('carRoadLine3')\n        this.calculation('carRoadLine4')\n        this.calculation('fdsplitLine')\n        this.calculation('laneFlowPolygon')\n        this.calculation('roadFlowPolygon')\n        if (this.road_center_mode === RoadCenterMode.greenArea) {\n          this.calculation('greenPolygon')\n        }\n        break\n      // 计算从B到D点间弧度的点。\n      case 'BToD':\n        // eslint-disable-next-line no-case-declarations\n        // const angelA = 20\n        // eslint-disable-next-line no-case-declarations\n        let rightPoint = {\n          x:\n            this.point.AR.x +\n            Math.cos(angleRight2) *\n              (CrossConst.manRoadLength + CrossConst.manRadianLength),\n          y:\n            this.point.AR.y +\n            Math.sin(angleRight2) *\n              (CrossConst.manRoadLength + CrossConst.manRadianLength),\n        }\n        if (toRightAngle <= 90) {\n          rightPoint = {\n            x:\n              this.point.AR.x +\n              Math.cos(angleRight2) *\n                (CrossConst.manRoadLength + CrossConst.manRadianLength),\n            y:\n              this.point.AR.y -\n              Math.sin(angleRight2) *\n                (CrossConst.manRoadLength + CrossConst.manRadianLength),\n          }\n        } else if (toRightAngle > 180) {\n          // todo 待验证\n          rightPoint = {\n            x: this.point.AR.x,\n            y:\n              this.point.AR.y -\n              Math.sin(angleRight2) *\n                (CrossConst.manRoadLength + CrossConst.manRadianLength),\n          }\n        }\n        this.point.BToDR = []\n        this.point.B1ToD1R = []\n        let { x: x1, y: y1 } = this.point.BR\n        let { x: x3, y: y3 } = rightPoint\n        let X1 = this.point.BR.x\n        let x2 =\n          X1 +\n          (Math.cos(\n            Util.toRadian(20 + Util.toAngle(Math.atan((y3 - y1) / (x3 - X1))))\n          ) *\n            Math.sqrt((y3 - y1) * (y3 - y1) + (x3 - X1) * (x3 - X1))) /\n            2 /\n            Math.cos(Util.toRadian(20))\n        let y2 =\n          y1 +\n          (Math.sin(\n            Util.toRadian(20 + Util.toAngle(Math.atan((y3 - y1) / (x3 - X1))))\n          ) *\n            Math.sqrt((y3 - y1) * (y3 - y1) + (x3 - X1) * (x3 - X1))) /\n            2 /\n            Math.cos(Util.toRadian(20))\n        if (toRightAngle < 180 && this.entranceNum !== 2) {\n          for (let index = 0; index < 1; index += 0.01) {\n            const [x, y] = Util.twoBezier(index, [X1, y1], [x2, y2], [x3, y3])\n            this.point.BToDR.push({ x, y })\n          }\n        } else {\n          this.point.BToDR = [\n            { x: X1, y: y1 },\n            { x: x3, y: y3 },\n          ]\n        }\n        // 边缘内容\n        rightPoint = {\n          x: rightPoint.x + Math.sin(angleRight2) * CrossConst.walkwayWidth,\n          y: rightPoint.y - Math.cos(angleRight2) * CrossConst.walkwayWidth,\n        }\n        this.point.rightPoint = rightPoint\n        X1 += CrossConst.walkwayWidth\n        x3 = rightPoint.x\n        y3 = rightPoint.y\n        x2 =\n          X1 +\n          (Math.cos(\n            Util.toRadian(20 + Util.toAngle(Math.atan((y3 - y1) / (x3 - X1))))\n          ) *\n            Math.sqrt((y3 - y1) * (y3 - y1) + (x3 - X1) * (x3 - X1))) /\n            2 /\n            Math.cos(Util.toRadian(20))\n        y2 =\n          y1 +\n          (Math.sin(\n            Util.toRadian(20 + Util.toAngle(Math.atan((y3 - y1) / (x3 - X1))))\n          ) *\n            Math.sqrt((y3 - y1) * (y3 - y1) + (x3 - X1) * (x3 - X1))) /\n            2 /\n            Math.cos(Util.toRadian(20))\n        this.point.OOO = {\n          x: x2,\n          y: y2,\n        }\n        if (toRightAngle < 180 && this.entranceNum !== 2) {\n          for (let index = 0; index < 1; index += 0.01) {\n            const [x, y] = Util.twoBezier(index, [X1, y1], [x2, y2], [x3, y3])\n            this.point.B1ToD1R.push({ x, y })\n          }\n        } else {\n          this.point.B1ToD1R = [\n            { x: X1, y: y1 },\n            { x: x3, y: y3 },\n          ]\n        }\n        break\n      // ALToAR 和 BLToBR\n      case 'ALToAR':\n        this.point.ALToAR = []\n        this.point.BLToBR = []\n        // eslint-disable-next-line prefer-destructuring\n        x = this.point.BL.x\n        dy =\n          ((this.point.BR.y - this.point.BL.y) / this.width) *\n          CrossConst.manRoadInterval\n        // eslint-disable-next-line prefer-destructuring\n        y = this.point.BL.y\n        do {\n          this.point.ALToAR.push({ x, y: y + CrossConst.manRoadLength })\n          this.point.BLToBR.push({ x, y })\n          x += CrossConst.manRoadInterval\n          y += dy\n        } while (x <= this.point.BR.x)\n        break\n      case 'pointH':\n        dy =\n          ((this.point.BR.y - this.point.BL.y) /\n            (this.point.BR.x - this.point.BL.x)) *\n          CrossConst.roadWidth\n        // 车道数据\n        this.point.H0 = []\n        this.point.H1 = []\n        this.point.H2 = []\n        for (let i = 0; i < this.in + this.out + 1; i++) {\n          switch (this.road_center_mode) {\n            case RoadCenterMode.doubleYellowLine:\n              const dInterval =\n                ((this.point.BR.y - this.point.BL.y) /\n                  (this.point.BR.x - this.point.BL.x)) *\n                CrossConst.doubleYellowLineInterval\n              x =\n                this.point.BR.x -\n                CrossConst.roadWidth * i -\n                (i < this.in ? 0 : CrossConst.doubleYellowLineInterval) -\n                this.inBicycleLane * CrossConst.bicycleLaneWidth\n              y =\n                this.point.BR.y -\n                CrossConst.manCarInterval -\n                dy * i -\n                (i < this.in ? 0 : dInterval) -\n                (dy * this.inBicycleLane * CrossConst.bicycleLaneWidth) /\n                  CrossConst.roadWidth\n              break\n            case RoadCenterMode.greenArea:\n              const dGreeny =\n                ((this.point.BR.y - this.point.BL.y) /\n                  (this.point.BR.x - this.point.BL.x)) *\n                CrossConst.greenWidth\n              x =\n                this.point.BR.x -\n                CrossConst.roadWidth * i -\n                (i < this.in ? 0 : CrossConst.greenWidth) -\n                this.inBicycleLane * CrossConst.bicycleLaneWidth\n              y =\n                this.point.BR.y -\n                CrossConst.manCarInterval -\n                dy * i -\n                (i < this.in ? 0 : dGreeny) -\n                (dy * this.inBicycleLane * CrossConst.bicycleLaneWidth) /\n                  CrossConst.roadWidth\n              break\n            case RoadCenterMode.singleYellowLine:\n              x =\n                this.point.BR.x -\n                CrossConst.roadWidth * i -\n                this.inBicycleLane * CrossConst.bicycleLaneWidth\n              y =\n                this.point.BR.y -\n                CrossConst.manCarInterval -\n                dy * i -\n                (dy * this.inBicycleLane * CrossConst.bicycleLaneWidth) /\n                  CrossConst.roadWidth\n              break\n          }\n          this.point.H0.push({\n            x: x,\n            y: y,\n          })\n          this.point.H1.push({\n            x: x,\n            y: y - CrossConst.defaultSolidRoadLength,\n          })\n          this.point.H2.push({\n            x: x,\n            y: this.point.CR.y,\n          })\n          if (\n            (this.road_center_mode === RoadCenterMode.greenArea ||\n              this.road_center_mode === RoadCenterMode.doubleYellowLine) &&\n            i === this.in - 1\n          ) {\n            switch (this.road_center_mode) {\n              case RoadCenterMode.doubleYellowLine:\n                x =\n                  this.point.BR.x -\n                  CrossConst.roadWidth * (i + 1) -\n                  this.inBicycleLane * CrossConst.bicycleLaneWidth\n                y =\n                  this.point.BR.y -\n                  CrossConst.manCarInterval -\n                  dy * (i + 1) -\n                  (dy * this.inBicycleLane * CrossConst.bicycleLaneWidth) /\n                    CrossConst.roadWidth\n                break\n              case RoadCenterMode.greenArea:\n                x =\n                  this.point.BR.x -\n                  CrossConst.roadWidth * (i + 1) -\n                  this.inBicycleLane * CrossConst.bicycleLaneWidth\n                y =\n                  this.point.BR.y -\n                  CrossConst.manCarInterval -\n                  dy * (i + 1) -\n                  (dy * this.inBicycleLane * CrossConst.bicycleLaneWidth) /\n                    CrossConst.roadWidth\n                break\n            }\n            this.point.H0.push({\n              x: x,\n              y: y,\n            })\n            this.point.H1.push({\n              x: x,\n              y: y - CrossConst.defaultSolidRoadLength,\n            })\n            this.point.H2.push({\n              x: x,\n              y: this.point.CR.y,\n            })\n          }\n        }\n        break\n      // 计算每个车道流向绘制的点位\n      case 'pointLaneFlow':\n        this.point.pointLaneFlow = []\n        this.motor_lanes.forEach((it: any, i: any) => {\n          // 车道里面的流向\n          const laneFlowPoints = getLaneFlowPoint(\n            it.id,\n            it.lane_flow,\n            CrossConst,\n            this,\n            null\n          )\n          this.point.pointLaneFlow.push(laneFlowPoints)\n\n          // 左转待行驶区域的流向\n          if (\n            it.has_waiting_area &&\n            (it.lane_flow === 1 || it.lane_flow === 2)\n          ) {\n            const waitAreaFlowPoints = getLaneFlowPoint(\n              it.id,\n              it.lane_flow,\n              CrossConst,\n              this,\n              'waitAreaFlow'\n            )\n            const waitAreaPoints = getLaneFlowPoint(\n              it.id,\n              it.lane_flow,\n              CrossConst,\n              this,\n              'waitArea'\n            )\n            this.point.pointLaneFlow.push(waitAreaFlowPoints)\n            this.point.pointLaneFlow.push(waitAreaPoints)\n          }\n        })\n        break\n      // 计算流向点位\n      case 'pointRoadFlow':\n        this.point.pointRoadFlow = []\n        this.point.pointRoadFlowText = []\n        if (this.in) {\n          for (let i = 1; i <= 4; i++) {\n            const { roadFlowPoints, flowTextPoint } = getRoadFlowPoint(\n              i,\n              CrossConst,\n              this\n            )\n            this.point.pointRoadFlow.push(roadFlowPoints)\n            this.point.pointRoadFlowText.push(flowTextPoint)\n          }\n        }\n        break\n      // 计算待驶区的点位\n      case 'pointWaitArea':\n        this.point.pointWaitArea = []\n        this.motor_lanes.forEach((it: any, i: any) => {\n          // 左转待行驶区域的流向\n          if (\n            it.has_waiting_area &&\n            (it.lane_flow === 1 || it.lane_flow === 2)\n          ) {\n            const waitAreaPoints = getWaitAreaPoint(\n              it.id,\n              it.lane_flow,\n              CrossConst,\n              this\n            )\n            this.point.pointWaitArea.push(waitAreaPoints)\n          }\n        })\n        break\n      // 道路面数据计算\n      case 'RoadPolygon':\n        this.polygonData[prop] = []\n        for (let i = this.correctPoint.BToDR.length - 1; i >= 0; i--) {\n          const point = this.correctPoint.BToDR[i]\n          this.polygonData[prop].push([point.x, point.y])\n        }\n        this.polygonData[prop].push([\n          this.correctPoint.CR.x,\n          this.correctPoint.CR.y,\n        ])\n        this.polygonData[prop].push([\n          this.correctPoint.CL.x,\n          this.correctPoint.CL.y,\n        ])\n        this.polygonData[prop].push([\n          this.correctPoint.BL.x,\n          this.correctPoint.BL.y,\n        ])\n        // debugger\n        break\n      // 行人通道面积-- 右\n      case 'walkwayPolygonR':\n        this.polygonData[prop] = []\n        for (let i = this.correctPoint.BToDR.length - 1; i > 0; i--) {\n          this.polygonData[prop].push([\n            this.correctPoint.BToDR[i].x,\n            this.correctPoint.BToDR[i].y,\n          ])\n        }\n        this.polygonData[prop].push([\n          this.correctPoint.CR.x,\n          this.correctPoint.CR.y,\n        ])\n        this.polygonData[prop].push([\n          this.correctPoint.C1R.x,\n          this.correctPoint.C1R.y,\n        ])\n        this.correctPoint.B1ToD1R.map((info: any) => {\n          this.polygonData[prop].push([info.x, info.y])\n        })\n        break\n      // 行人通道面积-- 左\n      case 'walkwayPolygonL':\n        this.polygonData[prop] = []\n        this.polygonData[prop].push([\n          this.correctPoint.B1L.x,\n          this.correctPoint.B1L.y,\n        ])\n        this.polygonData[prop].push([\n          this.correctPoint.C1L.x,\n          this.correctPoint.C1L.y,\n        ])\n        this.polygonData[prop].push([\n          this.correctPoint.CL.x,\n          this.correctPoint.CL.y,\n        ])\n        this.polygonData[prop].push([\n          this.correctPoint.BL.x,\n          this.correctPoint.BL.y,\n        ])\n        break\n      // 绿化地\n      case 'greenPolygon':\n        this.polygonData[prop] = []\n        this.correctPoint.FToE.map((info: any) => {\n          this.polygonData[prop].push([info.x, info.y])\n        })\n        this.polygonData[prop].push([\n          this.correctPoint.E1.x,\n          this.correctPoint.E1.y,\n        ])\n        this.polygonData[prop].push([\n          this.correctPoint.F1.x,\n          this.correctPoint.F1.y,\n        ])\n        break\n      // 人行道线路\n      case 'manRoadLine':\n        this.lineData[prop] = []\n        for (let i = 0, len = this.correctPoint.ALToAR.length; i < len; i++) {\n          this.lineData[prop].push([\n            [this.correctPoint.ALToAR[i].x, this.correctPoint.ALToAR[i].y],\n            [this.correctPoint.BLToBR[i].x, this.correctPoint.BLToBR[i].y],\n          ])\n        }\n        break\n      // 车道边线\n      case 'carRoadLine0':\n        this.lineData[prop] = []\n        // 道路边线\n        this.lineData[prop].push([\n          [this.correctPoint.H2[0].x, this.correctPoint.H2[0].y],\n          [this.correctPoint.H0[0].x, this.correctPoint.H0[0].y],\n        ])\n        this.lineData[prop].push([\n          [\n            this.correctPoint.H2[this.correctPoint.H2.length - 1].x,\n            this.correctPoint.H2[this.correctPoint.H2.length - 1].y,\n          ],\n          [\n            this.correctPoint.H0[this.correctPoint.H2.length - 1].x,\n            this.correctPoint.H0[this.correctPoint.H2.length - 1].y,\n          ],\n        ])\n        break\n      // 车道线路  白实线部分\n      case 'carRoadLine1':\n        this.lineData[prop] = []\n        for (let i = 0, len = this.in; i < len; i++) {\n          if (i) {\n            const right_lane_type = this.motor_lanes[this.in - i].lane_type\n            const left_lane_type = this.motor_lanes[this.in - (i + 1)]\n              ? this.motor_lanes[this.in - (i + 1)].lane_type\n              : 0\n            // 特殊车道类型公交车道/潮汐车道不画侧边停车线\n            if (\n              right_lane_type === 1 ||\n              right_lane_type === 2 ||\n              left_lane_type === 1 ||\n              left_lane_type === 2\n            ) {\n              this.lineData[prop].push([\n                [this.correctPoint.H0[i].x, this.correctPoint.H0[i].y],\n                [this.correctPoint.H0[i + 1].x, this.correctPoint.H0[i + 1].y],\n              ])\n            } else {\n              this.lineData[prop].push([\n                [this.correctPoint.H1[i].x, this.correctPoint.H1[i].y],\n                [this.correctPoint.H0[i].x, this.correctPoint.H0[i].y],\n                [this.correctPoint.H0[i + 1].x, this.correctPoint.H0[i + 1].y],\n                [this.correctPoint.H0[i].x, this.correctPoint.H0[i].y],\n              ])\n            }\n          } else {\n            this.lineData[prop].push([\n              [this.correctPoint.H0[i].x, this.correctPoint.H0[i].y],\n              [this.correctPoint.H0[i + 1].x, this.correctPoint.H0[i + 1].y],\n            ])\n          }\n        }\n        break\n      //  车道线路  白虚线部分\n      case 'carRoadLine2':\n        this.lineData[prop] = []\n        for (let i = 1, len = this.correctPoint.H0.length; i < len; i++) {\n          // if (this.road_center_mode === RoadCenterMode.doubleYellowLine ||\n          //   this.road_center_mode === RoadCenterMode.greenArea) {\n          //   if (i === this.in + 1) {\n          //     continue\n          //   }\n          // }\n          if (i === this.in) {\n            continue\n          }\n          if (i < this.in + 1) {\n            const right_lane_type = this.motor_lanes[this.in - i].lane_type\n            const left_lane_type = this.motor_lanes[this.in - (i + 1)]\n              ? this.motor_lanes[this.in - (i + 1)].lane_type\n              : 0\n            // 特殊车道1：潮汐/2公交 不用画虚线\n            if (\n              right_lane_type === 1 ||\n              right_lane_type === 2 ||\n              left_lane_type === 1 ||\n              left_lane_type === 2\n            ) {\n              continue\n            }\n            const lineDate = Util.getSplitPoint(\n              this.correctPoint.H1[i],\n              this.correctPoint.H2[i],\n              CrossConst.dashLength\n            )\n            this.lineData[prop] = this.lineData[prop].concat(lineDate)\n          } else {\n            const lineDate = Util.getSplitPoint(\n              this.correctPoint.H0[i],\n              this.correctPoint.H2[i],\n              CrossConst.dashLength\n            )\n            this.lineData[prop] = this.lineData[prop].concat(lineDate)\n          }\n        }\n        break\n      //  车道线路  中间部分，双实线、实线、绿化带\n      case 'carRoadLine3':\n        this.lineData[prop] = []\n        // 根据中心区域不同类型设置宽度\n        switch (this.road_center_mode) {\n          case RoadCenterMode.greenArea:\n            this.lineData[prop].push([\n              [\n                this.correctPoint.H0[this.in].x,\n                this.correctPoint.H0[this.in].y,\n              ],\n              [\n                this.correctPoint.H2[this.in].x,\n                this.correctPoint.H2[this.in].y,\n              ],\n              [\n                this.correctPoint.H2[this.in + 1].x,\n                this.correctPoint.H2[this.in + 1].y,\n              ],\n              [\n                this.correctPoint.H0[this.in + 1].x,\n                this.correctPoint.H0[this.in + 1].y,\n              ],\n            ])\n            break\n          case RoadCenterMode.doubleYellowLine:\n            this.lineData[prop].push([\n              [\n                this.correctPoint.H0[this.in].x,\n                this.correctPoint.H0[this.in].y,\n              ],\n              [\n                this.correctPoint.H2[this.in].x,\n                this.correctPoint.H2[this.in].y,\n              ],\n            ])\n            this.lineData[prop].push([\n              [\n                this.correctPoint.H0[this.in + 1].x,\n                this.correctPoint.H0[this.in + 1].y,\n              ],\n              [\n                this.correctPoint.H2[this.in + 1].x,\n                this.correctPoint.H2[this.in + 1].y,\n              ],\n            ])\n            break\n          case RoadCenterMode.singleYellowLine:\n            this.lineData[prop].push([\n              [\n                this.correctPoint.H0[this.in].x,\n                this.correctPoint.H0[this.in].y,\n              ],\n              [\n                this.correctPoint.H2[this.in].x,\n                this.correctPoint.H2[this.in].y,\n              ],\n            ])\n            break\n        }\n        break\n      // 特殊黄色车道线  公交专用车道  潮汐车道\n      case 'carRoadLine4':\n        this.lineData[prop] = []\n        this.motor_lanes.forEach((it: any, i: any) => {\n          const leftIndex = this.in - i // 车道左边index\n          const rightIndex = this.in - (i + 1) // 车道右边index\n          // 潮汐车道\n          if (it.lane_type === 1) {\n            const leftH0 = Util.pointRotateAngel(\n              {\n                x: this.point.H0[leftIndex].x + 3,\n                y: this.point.H0[leftIndex].y,\n              },\n              -this.angle,\n              this.origin\n            )\n            const leftH2 = Util.pointRotateAngel(\n              {\n                x: this.point.H2[leftIndex].x + 3,\n                y: this.point.H2[leftIndex].y,\n              },\n              -this.angle,\n              this.origin\n            )\n            const rightH0 = Util.pointRotateAngel(\n              {\n                x: this.point.H0[rightIndex].x - 3,\n                y: this.point.H0[rightIndex].y,\n              },\n              -this.angle,\n              this.origin\n            )\n            const rightH2 = Util.pointRotateAngel(\n              {\n                x: this.point.H2[rightIndex].x - 3,\n                y: this.point.H2[rightIndex].y,\n              },\n              -this.angle,\n              this.origin\n            )\n            const lineDate1 = Util.getSplitPoint(\n              this.correctPoint.H0[leftIndex],\n              this.correctPoint.H2[leftIndex],\n              CrossConst.tidalDashLength\n            )\n            const lineDate2 = Util.getSplitPoint(\n              leftH0,\n              leftH2,\n              CrossConst.tidalDashLength\n            )\n            const lineDate3 = Util.getSplitPoint(\n              this.correctPoint.H0[rightIndex],\n              this.correctPoint.H2[rightIndex],\n              CrossConst.tidalDashLength\n            )\n            const lineDate4 = Util.getSplitPoint(\n              rightH0,\n              rightH2,\n              CrossConst.tidalDashLength\n            )\n            this.lineData[prop] = this.lineData[prop]\n              .concat(lineDate1)\n              .concat(lineDate2)\n              .concat(lineDate3)\n              .concat(lineDate4)\n          } else if (it.lane_type === 2) {\n            // 公交专用车道\n            const lineDate1 = Util.getSplitPoint(\n              this.correctPoint.H0[leftIndex],\n              this.correctPoint.H2[leftIndex],\n              CrossConst.busDashLength\n            )\n            const lineDate2 = Util.getSplitPoint(\n              this.correctPoint.H0[rightIndex],\n              this.correctPoint.H2[rightIndex],\n              CrossConst.busDashLength\n            )\n            this.lineData[prop] = this.lineData[prop]\n              .concat(lineDate1)\n              .concat(lineDate2)\n          }\n        })\n        break\n      // 辅道分割线\n      case 'fdsplitLine':\n        this.lineData[prop] = []\n        const fdLaneNum = this.motor_lanes.findIndex((it: any) => {\n          return it.lane_type === 4\n        })\n        if (fdLaneNum > -1) {\n          const { x: x1, y: y1 } = this.correctPoint.H0[this.in - fdLaneNum]\n          const { x: x2, y: y2 } = this.correctPoint.H2[this.in - fdLaneNum]\n          this.lineData[prop].push([\n            [x1, y1],\n            [x2, y2],\n          ])\n        }\n        break\n      // 车道流向\n      case 'laneFlowPolygon':\n        this.polygonData[prop] = []\n        this.correctPoint.pointLaneFlow.forEach((it: any, i: any) => {\n          this.polygonData[prop][i] = []\n          it.forEach((itt: any) => {\n            this.polygonData[prop][i].push([itt.x, itt.y])\n          })\n        })\n        break\n      // 进口流向\n      case 'roadFlowPolygon':\n        this.polygonData[prop] = []\n        this.correctPoint.pointRoadFlow.forEach((it: any, i: any) => {\n          this.polygonData[prop][i] = []\n          it.forEach((itt: any) => {\n            this.polygonData[prop][i].push([itt.x, itt.y])\n          })\n        })\n        break\n      default:\n        break\n    }\n  }\n}\n\n/**\n * @description 匝道方向对象\n * @author wsx\n * @Date  2021-10-20 13:20:50\n */\nclass CrossRampObject {\n  en_id: any\n  name: any;\n  in: any\n  motor_lanes: any\n  road_center_mode: any\n  degree: any\n  angle: any\n  origin: any\n  secondIn: any\n  drawOption: any\n  baseWidth: any\n  clientWidth: any\n  clientHeight: any\n  point: any\n  correctPoint: any\n  pointData: any\n  lineData: any\n  polygonData: any\n  constructor(param: any) {\n    const option = Object.assign(\n      {\n        en_id: 1,\n        in: 2,\n        name: '道路',\n        origin: [0, 0],\n        degree: 0, //道路角度 根据os提供的角度\n        angle: 0, //道路角度 根据os提供的角度进行转换\n        road_center_mode: RoadCenterMode.singleYellowLine,\n        motor_lanes: [], // 进口车道流向\n        secondIn: 3,\n        baseWidth: 800,\n        clientWidth: 800,\n        clientHeight: 800,\n      },\n      param\n    )\n    // 进口id\n    this.en_id = option.en_id\n    // 进口名称\n    this.name = option.name\n    // 进路口车道数\n    this.in = option.motor_lanes.length\n    // 车道流向\n    this.motor_lanes = option.motor_lanes\n    // 间隔线类型\n    this.road_center_mode = option.road_center_mode\n    this.degree = this.getDegreeByEnId(this.en_id)\n    // 路口方向相对正南方向偏移角度  （ -360 / CrossConst.defaultRoadNumber, 360 / CrossConst.defaultRoadNumber ）\n    this.angle = Util.degreeToAngle(this.degree)\n    this.origin = option.origin\n    this.secondIn = option.secondIn\n    this.drawOption = option.drawOption\n    this.baseWidth = option.baseWidth\n    this.clientWidth = option.baseWidth\n    this.clientHeight = option.clientHeight\n\n    // 核心点位\n    this.point = {}\n    // 转换正后的坐标\n    this.correctPoint = {}\n    // 准确计算后的点线面数据\n    this.pointData = {}\n    this.lineData = {}\n    this.polygonData = {}\n\n    this.calculation('point')\n  }\n  getDegreeByEnId(en_id: any): void {\n    const degreeMap: any = {\n      1: 270,\n      2: 90,\n      3: 75,\n    }\n    return degreeMap[en_id]\n  }\n  // 计算关键点位数据\n  calculation(prop: any): void {\n    let dw = 0\n    switch (this.road_center_mode) {\n      case RoadCenterMode.doubleYellowLine:\n        dw = CrossConst.doubleYellowLineInterval\n        break\n      case RoadCenterMode.greenArea:\n        dw = CrossConst.greenWidth\n        break\n      case RoadCenterMode.singleYellowLine:\n        dw = 0\n        break\n    }\n    switch (prop) {\n      case 'point':\n        if (this.en_id === 1) {\n          const x = CrossConst.roadWidth * this.secondIn + dw\n          const x2 = CrossConst.roadWidth * (this.secondIn + this.in) + dw\n          const y = this.clientHeight / 2\n          this.point = {\n            AL: { x: x, y: y },\n            AR: { x: x2, y: y },\n            BL: { x: x, y: -y },\n            BR: { x: x2, y: -y },\n          }\n        } else if (this.en_id === 2) {\n          const x = CrossConst.roadWidth * this.in\n          const y = this.clientHeight / 2\n          this.point = {\n            AL: { x: -x, y: y },\n            AR: { x: 0, y: y },\n            BL: { x: -x, y: -y },\n            BR: { x: 0, y: -y },\n          }\n        } else if (this.en_id === 3) {\n          const x = (CrossConst.roadWidth * this.in) / 2\n          const y =\n            (CrossConst.roadWidth * this.in) /\n            2 /\n            Math.tan((this.angle * Math.PI) / 180)\n          this.point = {\n            AL: { x: -x, y: -y },\n            AR: { x: x, y: -y },\n            BL: { x: -x, y: -y - CrossConst.defaultRoadLength },\n            BR: { x: x, y: -y - CrossConst.defaultRoadLength },\n          }\n        }\n        // 道路名称位置\n        this.point.roadName = {\n          x: this.point.AR.x + 12,\n          y: this.point.AR.y,\n        }\n        this.calculation('point2')\n        break\n      case 'point2':\n        // 计算人行道点位\n        this.calculation('pointH')\n        // 计算车道流向点位\n        this.calculation('pointLaneFlow')\n        // 计算进口流向点位\n        this.calculation('pointRoadFlow')\n        for (const prop in this.point) {\n          if (Array.isArray(this.point[prop])) {\n            this.correctPoint[prop] = []\n            this.point[prop].forEach((info: any, index: any) => {\n              if (Array.isArray(info)) {\n                this.correctPoint[prop][index] = []\n                info.map((it) => {\n                  this.correctPoint[prop][index].push(\n                    Util.pointRotateAngel(it, -this.angle, this.origin)\n                  )\n                })\n              } else {\n                this.correctPoint[prop].push(\n                  Util.pointRotateAngel(info, -this.angle, this.origin)\n                )\n              }\n            })\n          } else {\n            this.correctPoint[prop] = Util.pointRotateAngel(\n              this.point[prop],\n              -this.angle,\n              this.origin\n            )\n          }\n        }\n        // 道路面数据计算\n        this.calculation('RoadPolygon')\n        // 车道边线\n        this.calculation('carRoadLine0')\n        // 车道线路  白实线部分\n        this.calculation('carRoadLine1')\n        //  车道线路  白虚线部分\n        this.calculation('carRoadLine2')\n        //  车道线路  中间部分，双实线、实线、绿化带\n        this.calculation('carRoadLine3')\n        this.calculation('laneFlowPolygon')\n        this.calculation('roadFlowPolygon')\n        // 补充匝道面数据\n        this.calculation('poly')\n        this.calculation('line')\n        break\n      case 'pointH':\n        let x = 0\n        let y = 0\n        this.point.H0 = []\n        this.point.H1 = []\n        this.point.H2 = []\n        for (let i = 0; i < this.in + 1; i++) {\n          this.point.H0.push({\n            x: this.point.AR.x - i * CrossConst.roadWidth,\n            y: this.point.AR.y,\n          })\n          this.point.H1.push({\n            x: this.point.BR.x - i * CrossConst.roadWidth,\n            y: this.point.BR.y,\n          })\n          this.point.H2.push({\n            x: this.point.BR.x - i * CrossConst.roadWidth,\n            y: this.point.BR.y,\n          })\n\n          if (\n            (this.road_center_mode === RoadCenterMode.greenArea ||\n              this.road_center_mode === RoadCenterMode.doubleYellowLine) &&\n            i === this.in &&\n            this.en_id === 1\n          ) {\n            x = this.point.AR.x - i * CrossConst.roadWidth - dw\n            y = this.point.AR.y\n            this.point.H0.push({\n              x: x,\n              y: this.point.AR.y,\n            })\n            this.point.H1.push({\n              x: x,\n              y: this.point.BR.y,\n            })\n            this.point.H2.push({\n              x: x,\n              y: this.point.BR.y,\n            })\n          }\n        }\n        break\n      // 计算每个车道流向绘制的点位\n      case 'pointLaneFlow':\n        this.point.pointLaneFlow = []\n        this.motor_lanes.forEach((it: any, i: any) => {\n          const laneFlowPoints = getLaneFlowPoint(\n            it.id,\n            it.lane_flow,\n            CrossConst,\n            this,\n            null\n          )\n          this.point.pointLaneFlow.push(laneFlowPoints)\n        })\n        break\n      // 计算流向点位\n      case 'pointRoadFlow':\n        this.point.pointRoadFlow = []\n        this.point.pointRoadFlowText = []\n        for (let i = 1; i <= 14; i++) {\n          const { roadFlowPoints, flowTextPoint } = getRoadFlowPoint(\n            i,\n            CrossConst,\n            this\n          )\n          this.point.pointRoadFlow.push(roadFlowPoints)\n          this.point.pointRoadFlowText.push(flowTextPoint)\n        }\n        break\n      case 'RoadPolygon':\n        this.polygonData[prop] = []\n        if (this.en_id === 3) {\n          this.polygonData[prop].push([0, CrossConst.roadWidth * 6])\n          this.polygonData[prop].push([\n            this.correctPoint.AR.x,\n            this.correctPoint.AR.y,\n          ])\n          this.polygonData[prop].push([\n            this.correctPoint.BR.x,\n            this.correctPoint.BR.y,\n          ])\n          this.polygonData[prop].push([\n            this.correctPoint.BL.x,\n            this.correctPoint.BL.y,\n          ])\n          this.polygonData[prop].push([\n            this.correctPoint.AL.x,\n            this.correctPoint.AL.y,\n          ])\n        } else {\n          this.polygonData[prop].push([\n            this.correctPoint.AL.x,\n            this.correctPoint.AL.y,\n          ])\n          this.polygonData[prop].push([\n            this.correctPoint.AR.x,\n            this.correctPoint.AR.y,\n          ])\n          this.polygonData[prop].push([\n            this.correctPoint.BR.x,\n            this.correctPoint.BR.y,\n          ])\n          this.polygonData[prop].push([\n            this.correctPoint.BL.x,\n            this.correctPoint.BL.y,\n          ])\n        }\n      // 车道边线\n      case 'carRoadLine0':\n        this.lineData[prop] = []\n        if (this.en_id === 1) {\n          this.lineData[prop].push([\n            [this.correctPoint.H1[0].x, this.correctPoint.H1[0].y],\n            [this.correctPoint.H0[0].x, this.correctPoint.H0[0].y],\n          ])\n        } else if (this.en_id === 2) {\n          this.lineData[prop].push([\n            [this.correctPoint.H0[0].x, this.correctPoint.H0[0].y],\n            [this.correctPoint.H1[0].x, CrossConst.roadWidth * 6],\n          ])\n          this.lineData[prop].push([\n            [this.correctPoint.H0[0].x, -CrossConst.roadWidth],\n            [this.correctPoint.H1[0].x, this.correctPoint.H1[0].y],\n          ])\n        } else if (this.en_id === 3) {\n          this.lineData[prop].push([\n            [this.correctPoint.H0[this.in].x, this.correctPoint.H0[this.in].y],\n            [this.correctPoint.H1[this.in].x, this.correctPoint.H1[this.in].y],\n          ])\n          this.lineData[prop].push([\n            [0, CrossConst.roadWidth * 6],\n            [this.correctPoint.H0[0].x, this.correctPoint.H0[0].y],\n          ])\n          this.lineData[prop].push([\n            [this.correctPoint.H0[0].x, this.correctPoint.H0[0].y],\n            [this.correctPoint.H1[0].x, this.correctPoint.H1[0].y],\n          ])\n        }\n        break\n      // 车道线路  白实线部分\n      case 'carRoadLine1':\n        this.lineData[prop] = []\n        if (this.en_id === 3) {\n          this.lineData[prop].push([\n            [this.correctPoint.H0[0].x, this.correctPoint.H0[0].y],\n            [this.correctPoint.H0[this.in].x, this.correctPoint.H0[this.in].y],\n          ])\n        }\n        break\n      //  车道线路  白虚线部分\n      case 'carRoadLine2':\n        this.lineData[prop] = []\n        for (let i = 1; i < this.in; i++) {\n          this.lineData[prop].push([\n            [this.correctPoint.H0[i].x, this.correctPoint.H0[i].y],\n            [this.correctPoint.H1[i].x, this.correctPoint.H1[i].y],\n          ])\n        }\n        if (this.en_id === 3) {\n          this.lineData[prop].push([\n            [this.correctPoint.H0[this.in].x, -CrossConst.roadWidth],\n            [this.correctPoint.H0[this.in].x, CrossConst.roadWidth * 6],\n          ])\n        }\n        break\n      //  车道线路  中间部分，双实线、实线、绿化带\n      case 'carRoadLine3':\n        this.lineData[prop] = []\n        // 根据中心区域不同类型设置宽度\n        if (this.en_id == 1) {\n          switch (this.road_center_mode) {\n            case RoadCenterMode.greenArea:\n              this.lineData[prop].push([\n                [\n                  this.correctPoint.H0[this.in].x,\n                  this.correctPoint.H0[this.in].y,\n                ],\n                [\n                  this.correctPoint.H2[this.in].x,\n                  this.correctPoint.H2[this.in].y,\n                ],\n                [\n                  this.correctPoint.H2[this.in + 1].x,\n                  this.correctPoint.H2[this.in + 1].y,\n                ],\n                [\n                  this.correctPoint.H0[this.in + 1].x,\n                  this.correctPoint.H0[this.in + 1].y,\n                ],\n              ])\n              break\n            case RoadCenterMode.doubleYellowLine:\n              this.lineData[prop].push([\n                [\n                  this.correctPoint.H0[this.in].x,\n                  this.correctPoint.H0[this.in].y,\n                ],\n                [\n                  this.correctPoint.H2[this.in].x,\n                  this.correctPoint.H2[this.in].y,\n                ],\n              ])\n              this.lineData[prop].push([\n                [\n                  this.correctPoint.H0[this.in + 1].x,\n                  this.correctPoint.H0[this.in + 1].y,\n                ],\n                [\n                  this.correctPoint.H2[this.in + 1].x,\n                  this.correctPoint.H2[this.in + 1].y,\n                ],\n              ])\n              break\n            case RoadCenterMode.singleYellowLine:\n              this.lineData[prop].push([\n                [\n                  this.correctPoint.H0[this.in].x,\n                  this.correctPoint.H0[this.in].y,\n                ],\n                [\n                  this.correctPoint.H1[this.in].x,\n                  this.correctPoint.H1[this.in].y,\n                ],\n              ])\n              break\n          }\n        }\n        break\n      // 车道流向\n      case 'laneFlowPolygon':\n        this.polygonData[prop] = []\n        this.correctPoint.pointLaneFlow.forEach((it: any, i: any) => {\n          this.polygonData[prop][i] = []\n          it.forEach((itt: any) => {\n            this.polygonData[prop][i].push([itt.x, itt.y])\n          })\n        })\n        break\n      // 进口流向\n      case 'roadFlowPolygon':\n        this.polygonData[prop] = []\n        this.correctPoint.pointRoadFlow.forEach((it: any, i: any) => {\n          this.polygonData[prop][i] = []\n          it.forEach((itt: any) => {\n            this.polygonData[prop][i].push([itt.x, itt.y])\n          })\n        })\n        break\n      case 'poly':\n        this.polygonData.walkwayPolygonL = []\n        this.polygonData.walkwayPolygonR = []\n        break\n      case 'line':\n        this.lineData.manRoadLine = []\n        break\n      case 'greenPolygon':\n        this.polygonData.greenPolygon = []\n        break\n    }\n  }\n}\n\nexport { baseWidth, CrossConst, CrossInfo, RoadCenterMode, Util }\n","import { CrossConst } from './interModel'\n/**\n * @name wsx\n * @Date 2021-08-02 13:36:29\n * @introduction 获取车道流向点位\n * @description 详细描述\n * @param {参数类型} laneNumber 进口车道序号1/2/3\n * @param {参数类型} laneFlow 流向1/2/3\n * @param {参数类型} CrossConst 路口模型配置参数\n * @param {参数类型} self 当前进口到信息\n * @param {参数类型} type 待行驶区域 area/areaFlow\n * @return 无返回类型\n * @exception [违例类型] [违例类型说明]\n */\nexport function getLaneFlowPoint(\n  laneNumber: any,\n  laneFlow: any,\n  CrossConst: any,\n  self: any,\n  type: any\n) {\n  const points = []\n  // 绘制的顶点\n  let { x: x1, y: y1 } = self.point.H0[self.in - laneNumber + 1]\n  let { y: y2 } = self.point.H0[self.in - laneNumber]\n  const roadWidth = CrossConst.roadWidth\n  let offsetY = self.drawOption.laneFlowOffetStopLine * -roadWidth\n  let cenY = (y1 + y2) / 2 + offsetY - 2 * roadWidth\n  if (laneFlow === 1) {\n    // 左\n    if (type && type === 'waitAreaFlow') {\n      x1 -= roadWidth / 3\n      cenY +=\n        roadWidth * 2.2 + CrossConst.manRoadLength + CrossConst.manCarInterval\n    }\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY })\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY + roadWidth })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + (11 * roadWidth) / 8 })\n    points.push({ x: x1 + (3 * roadWidth) / 8, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY + roadWidth })\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY })\n  } else if (laneFlow === 2) {\n    // 直\n    if (type && type === 'waitAreaFlow') {\n      cenY +=\n        roadWidth * 2.2 + CrossConst.manRoadLength + CrossConst.manCarInterval\n    }\n    points.push({ x: x1 + roadWidth / 2, y: cenY })\n    points.push({ x: x1 + roadWidth / 2, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + (5 * roadWidth) / 8, y: cenY + (11 * roadWidth) / 8 })\n    points.push({ x: x1 + (3 * roadWidth) / 8, y: cenY + (11 * roadWidth) / 8 })\n    points.push({ x: x1 + roadWidth / 2, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + roadWidth / 2, y: cenY })\n  } else if (laneFlow === 3) {\n    // 右\n    points.push({ x: x1 + roadWidth / 4, y: cenY })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + roadWidth })\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY + (11 * roadWidth) / 8 })\n    points.push({ x: x1 + (5 * roadWidth) / 8, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + roadWidth })\n    points.push({ x: x1 + roadWidth / 4, y: cenY })\n  } else if (laneFlow === 4) {\n  } else if (laneFlow === 5) {\n    // 左直\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY })\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY + roadWidth })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + (11 * roadWidth) / 8 })\n    points.push({ x: x1 + (3 * roadWidth) / 8, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY + roadWidth })\n\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + (5 * roadWidth) / 8, y: cenY + (11 * roadWidth) / 8 })\n    points.push({ x: x1 + (7 * roadWidth) / 8, y: cenY + (11 * roadWidth) / 8 })\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY + (3 * roadWidth) / 2 })\n\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY })\n  } else if (laneFlow === 6) {\n    // 直右\n    points.push({ x: x1 + roadWidth / 4, y: cenY })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + roadWidth })\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY + (11 * roadWidth) / 8 })\n    points.push({ x: x1 + (5 * roadWidth) / 8, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + roadWidth })\n\n    points.push({ x: x1 + roadWidth / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + (1 * roadWidth) / 8, y: cenY + (11 * roadWidth) / 8 })\n    points.push({ x: x1 + (3 * roadWidth) / 8, y: cenY + (11 * roadWidth) / 8 })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + (3 * roadWidth) / 2 })\n\n    points.push({ x: x1 + roadWidth / 4, y: cenY })\n  } else if (laneFlow === 7) {\n    // 通行\n    points.push({ x: x1 + roadWidth / 2, y: cenY })\n    points.push({ x: x1 + roadWidth / 2, y: cenY + roadWidth })\n\n    points.push({ x: x1 + roadWidth / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + (11 * roadWidth) / 8 })\n    points.push({ x: x1 + (3 * roadWidth) / 8, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + roadWidth / 2, y: cenY + roadWidth })\n\n    points.push({ x: x1 + roadWidth / 2, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + (3 * roadWidth) / 8, y: cenY + (11 * roadWidth) / 8 })\n    points.push({ x: x1 + (5 * roadWidth) / 8, y: cenY + (11 * roadWidth) / 8 })\n    points.push({ x: x1 + roadWidth / 2, y: cenY + (3 * roadWidth) / 2 })\n\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + (5 * roadWidth) / 5, y: cenY + (11 * roadWidth) / 8 })\n    points.push({ x: x1 + (7 * roadWidth) / 8, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + roadWidth / 2, y: cenY + roadWidth })\n\n    points.push({ x: x1 + roadWidth / 2, y: cenY })\n  } else if (laneFlow === 8) {\n    // 掉头\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY })\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + roadWidth })\n    points.push({ x: x1 + roadWidth / 8, y: cenY + (9 * roadWidth) / 8 })\n    points.push({ x: x1 + (3 * roadWidth) / 8, y: cenY + (9 * roadWidth) / 8 })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + roadWidth })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY })\n  } else if (laneFlow === 9) {\n    // 左掉头\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY })\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY + roadWidth })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + (11 * roadWidth) / 8 })\n    points.push({ x: x1 + (3 * roadWidth) / 8, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + roadWidth / 4, y: cenY + (3 * roadWidth) / 2 })\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY + roadWidth })\n\n    points.push({ x: x1 + (1 * roadWidth) / 4, y: cenY + roadWidth })\n    points.push({ x: x1 + (1 * roadWidth) / 4, y: cenY + (1 * roadWidth) / 2 })\n    points.push({ x: x1 + (1 * roadWidth) / 8, y: cenY + (5 * roadWidth) / 8 })\n    points.push({ x: x1 + (3 * roadWidth) / 8, y: cenY + (5 * roadWidth) / 8 })\n    points.push({ x: x1 + (1 * roadWidth) / 4, y: cenY + (1 * roadWidth) / 2 })\n    points.push({ x: x1 + (1 * roadWidth) / 4, y: cenY + roadWidth })\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY + roadWidth })\n\n    points.push({ x: x1 + (3 * roadWidth) / 4, y: cenY })\n  } else if (laneFlow === 10) {\n    // 可变车道 车道侧边斜线\n    points.push({ x: x1 + roadWidth, y: y2 })\n    points.push({ x: x1, y: y1 })\n    let step = roadWidth / 5\n    let leftY = CrossConst.defaultSolidRoadLength\n    while (leftY > 0) {\n      points.push({ x: x1, y: y1 - leftY })\n      points.push({ x: x1 + step, y: y1 - leftY + 3 })\n      points.push({ x: x1, y: y1 - leftY })\n      points.push({ x: x1, y: Math.min(y1 - leftY + step, y1) })\n      leftY -= step\n    }\n    points.push({ x: x1 + roadWidth, y: y2 })\n    let rightY = step\n    while (rightY <= CrossConst.defaultSolidRoadLength) {\n      points.push({ x: x1 + roadWidth, y: y2 - rightY })\n      points.push({ x: x1 + roadWidth - step, y: y2 - rightY + step })\n      points.push({ x: x1 + roadWidth, y: y2 - rightY })\n      rightY += step\n    }\n  } else if (laneFlow === 'variableClick') {\n    // 可变车道圆点点击位置\n    points.push({ x: x1 + roadWidth / 2, y: cenY })\n  }\n  return points\n}\n\n/**\n * @name wsx\n * @Date 2021-08-02 13:36:29\n * @introduction 获取饱和度流向点位\n * @description 详细描述\n * @param 流向类型 flowType:1/2/3\n * @param 路口模型参数：CrossConst\n * @param 当前车道 self\n * @return 无返回类型\n * @exception [违例类型] [违例类型说明]\n */\nexport function getRoadFlowPoint(flowType: any, CrossConst: any, self: any) {\n  const points = []\n  let flowTextPoint = {}\n  // 绘制的顶点\n  const { x: x1, y: y1 } = self.point.H0[self.in]\n  const { y: y2 } = self.point.H0[self.in - 1]\n  const roadWidth = CrossConst.roadWidth\n  let offsetY = -2 * roadWidth\n  // 左流向画第一个车道\n  let offsetX = 0\n  if (flowType === 1) {\n    offsetX += 0\n    offsetY += (y2 - y1) / 2\n  } else if (flowType === 2) {\n    if (self.in > 3) {\n      offsetX += (self.point.H0[0].x - self.point.H0[self.in].x - roadWidth) / 2\n      offsetY += (self.point.H0[0].y - self.point.H0[self.in].y) / 2\n    } else {\n      offsetX += roadWidth\n      offsetY += ((y2 - y1) / 2) * 3\n    }\n  } else if (flowType === 3) {\n    if (self.in > 3) {\n      offsetX += self.point.H0[0].x - self.point.H0[self.in].x - roadWidth\n      offsetY += self.point.H0[0].y - self.point.H0[self.in].y - (y2 - y1) / 2\n    } else {\n      offsetX += 2 * roadWidth\n      offsetY += ((y2 - y1) / 2) * 5\n    }\n  } else if (flowType === 4) {\n    offsetX = 0\n    offsetY +=\n      CrossConst.manCarInterval + CrossConst.manRoadLength / 2 + 2 * roadWidth\n  }\n  const manOffsetY = (y2 - y1) * self.in\n  const manOffsetX = roadWidth * (self.in - 1)\n  const leftX = x1 + offsetX\n  const cenY = y1 + offsetY\n  if (flowType === 1) {\n    // 流向左\n    points.push({ x: leftX + (7 * roadWidth) / 8, y: cenY })\n    points.push({\n      x: leftX + (7 * roadWidth) / 8,\n      y: cenY + (3 * roadWidth) / 2,\n    })\n    points.push({\n      x: leftX + (3 * roadWidth) / 8,\n      y: cenY + (3 * roadWidth) / 2,\n    })\n    points.push({\n      x: leftX + (3 * roadWidth) / 8,\n      y: cenY + (13 * roadWidth) / 8,\n    })\n    points.push({\n      x: leftX + (1 * roadWidth) / 8,\n      y: cenY + (11 * roadWidth) / 8,\n    })\n    points.push({\n      x: leftX + (3 * roadWidth) / 8,\n      y: cenY + (9 * roadWidth) / 8,\n    })\n    points.push({\n      x: leftX + (3 * roadWidth) / 8,\n      y: cenY + (5 * roadWidth) / 4,\n    })\n    points.push({\n      x: leftX + (5 * roadWidth) / 8,\n      y: cenY + (5 * roadWidth) / 4,\n    })\n    points.push({ x: leftX + (5 * roadWidth) / 8, y: cenY })\n    flowTextPoint = { x: leftX + (3 * roadWidth) / 4, y: cenY - roadWidth / 2 }\n  } else if (flowType === 2) {\n    // 流向中\n    points.push({ x: leftX + (3 * roadWidth) / 8, y: cenY })\n    points.push({\n      x: leftX + (3 * roadWidth) / 8,\n      y: cenY + (5 * roadWidth) / 4,\n    })\n    points.push({ x: leftX + roadWidth / 4, y: cenY + (5 * roadWidth) / 4 })\n    points.push({ x: leftX + roadWidth / 2, y: cenY + (13 * roadWidth) / 8 })\n    points.push({\n      x: leftX + (3 * roadWidth) / 4,\n      y: cenY + (5 * roadWidth) / 4,\n    })\n    points.push({\n      x: leftX + (5 * roadWidth) / 8,\n      y: cenY + (5 * roadWidth) / 4,\n    })\n    points.push({ x: leftX + (5 * roadWidth) / 8, y: cenY })\n    flowTextPoint = { x: leftX + roadWidth / 2, y: cenY - roadWidth / 2 }\n  } else if (flowType === 3) {\n    // 流向右\n    points.push({ x: leftX + (1 * roadWidth) / 8, y: cenY })\n    points.push({\n      x: leftX + (1 * roadWidth) / 8,\n      y: cenY + (3 * roadWidth) / 2,\n    })\n    points.push({\n      x: leftX + (5 * roadWidth) / 8,\n      y: cenY + (3 * roadWidth) / 2,\n    })\n    points.push({\n      x: leftX + (5 * roadWidth) / 8,\n      y: cenY + (13 * roadWidth) / 8,\n    })\n    points.push({\n      x: leftX + (7 * roadWidth) / 8,\n      y: cenY + (11 * roadWidth) / 8,\n    })\n    points.push({\n      x: leftX + (5 * roadWidth) / 8,\n      y: cenY + (9 * roadWidth) / 8,\n    })\n    points.push({\n      x: leftX + (5 * roadWidth) / 8,\n      y: cenY + (5 * roadWidth) / 4,\n    })\n    points.push({\n      x: leftX + (3 * roadWidth) / 8,\n      y: cenY + (5 * roadWidth) / 4,\n    })\n    points.push({ x: leftX + (3 * roadWidth) / 8, y: cenY })\n    flowTextPoint = { x: leftX + roadWidth / 4, y: cenY - roadWidth / 2 }\n  } else if (flowType === 4) {\n    // 流向人行\n    points.push({ x: leftX, y: cenY })\n    points.push({\n      x: leftX + (2 * roadWidth) / 8,\n      y: cenY - (2 * roadWidth) / 8,\n    })\n\n    points.push({ x: leftX + (2 * roadWidth) / 8, y: cenY - roadWidth / 8 })\n    points.push({\n      x: leftX + (6 * roadWidth) / 8 + manOffsetX,\n      y: cenY - roadWidth / 8 + manOffsetY,\n    })\n\n    points.push({\n      x: leftX + (6 * roadWidth) / 8 + manOffsetX,\n      y: cenY - (2 * roadWidth) / 8 + manOffsetY,\n    })\n    points.push({ x: leftX + roadWidth + manOffsetX, y: cenY + manOffsetY })\n    points.push({\n      x: leftX + (6 * roadWidth) / 8 + manOffsetX,\n      y: cenY + (2 * roadWidth) / 8 + manOffsetY,\n    })\n\n    points.push({\n      x: leftX + (6 * roadWidth) / 8 + manOffsetX,\n      y: cenY + (1 * roadWidth) / 8 + manOffsetY,\n    })\n    points.push({\n      x: leftX + (2 * roadWidth) / 8,\n      y: cenY + (1 * roadWidth) / 8,\n    })\n\n    points.push({\n      x: leftX + (2 * roadWidth) / 8,\n      y: cenY + (2 * roadWidth) / 8,\n    })\n    points.push({ x: leftX, y: cenY })\n  }\n  return { roadFlowPoints: points, flowTextPoint: flowTextPoint }\n}\n\n/**\n * @name wsx\n * @Date 2021-08-05 14:58:40\n * @introduction 获取实时信号机相位点位\n * @description 详细描述\n * @param {参数类型} phaseNum 相位号 1/2/3/4\n * @param {参数类型} flowType 1/2/3/4 左/直/右/人行\n * @param {参数类型} baseLayerWidth 绘制相位dom宽度\n * @return {返回类型说明}\n * @exception [违例类型] [违例类型说明]\n */\nexport function getRealPhasePoint(\n  phaseNum: any,\n  flowType: any,\n  baseLayerWidth: any,\n  fd_flow = 'main'\n) {\n  const points = []\n  let x = baseLayerWidth / 3 + 2\n  let y = -phaseNum * baseLayerWidth + 2 + (1 * baseLayerWidth) / 12\n  let roadWidth = baseLayerWidth / 9\n  // let roadWidth = baseLayerWidth / 15\n  if (fd_flow === 'fd') {\n    roadWidth = roadWidth * 0.5\n    x = x + 5 * roadWidth\n  }\n  if (flowType === 2) {\n    x = x + roadWidth\n  } else if (flowType === 3) {\n    x = x + 2 * roadWidth\n  } else if (flowType === 4) {\n    y = y - (3 * roadWidth) / 8\n    x = x + roadWidth / 8\n  } else if (flowType === 10) {\n    y = y - (3 * roadWidth) / 8\n    x = x + roadWidth / 8 + 1.5 * roadWidth\n  } else if (flowType === 11) {\n    y = y - (3 * roadWidth) / 8\n    x = x + roadWidth / 8 - 1.5 * roadWidth\n  } else if (flowType === 12) {\n    x = x + 4.5 * roadWidth\n    roadWidth = baseLayerWidth / 20\n  } else if (flowType === 13) {\n    x = x + 5 * roadWidth\n    roadWidth = baseLayerWidth / 20\n  }\n  // 流向左\n  if (flowType === 1) {\n    points.push({ x: x + (7 * roadWidth) / 8, y: y })\n    points.push({ x: x + (7 * roadWidth) / 8, y: y + (10 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (13 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (15 * roadWidth) / 8 })\n    points.push({ x: x, y: y + (12 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (9 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (11 * roadWidth) / 8 })\n    points.push({ x: x + (5 * roadWidth) / 8, y: y + (9 * roadWidth) / 8 })\n    points.push({ x: x + (5 * roadWidth) / 8, y: y })\n  } else if (flowType === 2) {\n    // 流向直\n    points.push({ x: x + (3 * roadWidth) / 8, y: y })\n    points.push({ x: x + (3 * roadWidth) / 8, y: y + (11 * roadWidth) / 8 })\n    points.push({ x: x + roadWidth / 4, y: y + (11 * roadWidth) / 8 })\n    points.push({ x: x + roadWidth / 2, y: y + (15 * roadWidth) / 8 })\n    points.push({ x: x + (3 * roadWidth) / 4, y: y + (11 * roadWidth) / 8 })\n    points.push({ x: x + (5 * roadWidth) / 8, y: y + (11 * roadWidth) / 8 })\n    points.push({ x: x + (5 * roadWidth) / 8, y: y })\n  } else if (flowType === 3) {\n    // 流向右\n    points.push({ x: x + (1 * roadWidth) / 8, y: y })\n    points.push({ x: x + (1 * roadWidth) / 8, y: y + (10 * roadWidth) / 8 })\n    points.push({ x: x + (6 * roadWidth) / 8, y: y + (13 * roadWidth) / 8 })\n    points.push({ x: x + (6 * roadWidth) / 8, y: y + (15 * roadWidth) / 8 })\n    points.push({ x: x + roadWidth, y: y + (12 * roadWidth) / 8 })\n    points.push({ x: x + (6 * roadWidth) / 8, y: y + (9 * roadWidth) / 8 })\n    points.push({ x: x + (6 * roadWidth) / 8, y: y + (11 * roadWidth) / 8 })\n    points.push({ x: x + (3 * roadWidth) / 8, y: y + (9 * roadWidth) / 8 })\n    points.push({ x: x + (3 * roadWidth) / 8, y: y })\n  } else if (flowType === 4) {\n    // 人行\n    points.push({ x: x, y: y })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y - (2 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y - roadWidth / 8 })\n    points.push({\n      x: x + (4 * roadWidth) / 8 + 2 * roadWidth,\n      y: y - roadWidth / 8,\n    })\n    points.push({\n      x: x + (4 * roadWidth) / 8 + 2 * roadWidth,\n      y: y - (2 * roadWidth) / 8,\n    })\n    points.push({ x: x + (6 * roadWidth) / 8 + 2 * roadWidth, y: y })\n    points.push({\n      x: x + (4 * roadWidth) / 8 + 2 * roadWidth,\n      y: y + (2 * roadWidth) / 8,\n    })\n    points.push({\n      x: x + (4 * roadWidth) / 8 + 2 * roadWidth,\n      y: y + (1 * roadWidth) / 8,\n    })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (1 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (2 * roadWidth) / 8 })\n    points.push({ x: x, y: y })\n  } else if (flowType === 8) {\n    // 掉头\n    points.push({ x: x + (7 * roadWidth) / 8, y: y })\n    points.push({ x: x + (7 * roadWidth) / 8, y: y + (8 * roadWidth) / 8 })\n    points.push({ x: x + (1 * roadWidth) / 8, y: y + (8 * roadWidth) / 8 })\n    points.push({ x: x + (1 * roadWidth) / 8, y: y + (4 * roadWidth) / 8 })\n    points.push({ x: x + (0 * roadWidth) / 8, y: y + (4 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (2 * roadWidth) / 8 })\n    points.push({ x: x + (4 * roadWidth) / 8, y: y + (4 * roadWidth) / 8 })\n    points.push({ x: x + (3 * roadWidth) / 8, y: y + (4 * roadWidth) / 8 })\n    points.push({ x: x + (3 * roadWidth) / 8, y: y + (6 * roadWidth) / 8 })\n    points.push({ x: x + (5 * roadWidth) / 8, y: y + (6 * roadWidth) / 8 })\n    points.push({ x: x + (5 * roadWidth) / 8, y: y })\n  } else if (flowType === 10) {\n    // 人行1\n    points.push({ x: x, y: y })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y - (2 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y - roadWidth / 8 })\n    points.push({\n      x: x + (4 * roadWidth) / 8 + 2 * roadWidth,\n      y: y - roadWidth / 8,\n    })\n    points.push({\n      x: x + (4 * roadWidth) / 8 + 2 * roadWidth,\n      y: y - (2 * roadWidth) / 8,\n    })\n    points.push({ x: x + (6 * roadWidth) / 8 + 2 * roadWidth, y: y })\n    points.push({\n      x: x + (4 * roadWidth) / 8 + 2 * roadWidth,\n      y: y + (2 * roadWidth) / 8,\n    })\n    points.push({\n      x: x + (4 * roadWidth) / 8 + 2 * roadWidth,\n      y: y + (1 * roadWidth) / 8,\n    })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (1 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (2 * roadWidth) / 8 })\n    points.push({ x: x, y: y })\n  } else if (flowType === 11) {\n    // 人行2\n    points.push({ x: x, y: y })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y - (2 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y - roadWidth / 8 })\n    points.push({\n      x: x + (4 * roadWidth) / 8 + 2 * roadWidth,\n      y: y - roadWidth / 8,\n    })\n    points.push({\n      x: x + (4 * roadWidth) / 8 + 2 * roadWidth,\n      y: y - (2 * roadWidth) / 8,\n    })\n    points.push({ x: x + (6 * roadWidth) / 8 + 2 * roadWidth, y: y })\n    points.push({\n      x: x + (4 * roadWidth) / 8 + 2 * roadWidth,\n      y: y + (2 * roadWidth) / 8,\n    })\n    points.push({\n      x: x + (4 * roadWidth) / 8 + 2 * roadWidth,\n      y: y + (1 * roadWidth) / 8,\n    })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (1 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (2 * roadWidth) / 8 })\n    points.push({ x: x, y: y })\n  } else if (flowType === 12) {\n    // 非机动车左\n    points.push({ x: x + (7 * roadWidth) / 8, y: y })\n    points.push({ x: x + (7 * roadWidth) / 8, y: y + (10 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (13 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (15 * roadWidth) / 8 })\n    points.push({ x: x, y: y + (12 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (9 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (11 * roadWidth) / 8 })\n    points.push({ x: x + (5 * roadWidth) / 8, y: y + (9 * roadWidth) / 8 })\n    points.push({ x: x + (5 * roadWidth) / 8, y: y })\n  } else if (flowType === 13) {\n    // 非机动车直\n    points.push({ x: x + (3 * roadWidth) / 8, y: y })\n    points.push({ x: x + (3 * roadWidth) / 8, y: y + (11 * roadWidth) / 8 })\n    points.push({ x: x + roadWidth / 4, y: y + (11 * roadWidth) / 8 })\n    points.push({ x: x + roadWidth / 2, y: y + (15 * roadWidth) / 8 })\n    points.push({ x: x + (3 * roadWidth) / 4, y: y + (11 * roadWidth) / 8 })\n    points.push({ x: x + (5 * roadWidth) / 8, y: y + (11 * roadWidth) / 8 })\n    points.push({ x: x + (5 * roadWidth) / 8, y: y })\n  }\n  return points\n}\n\n/**\n * @name wsx\n * @Date 2021-08-27 14:19:20\n * @introduction 获取路口模型中当前相位的点位\n * @description 详细描述\n * @param {参数类型} 参数 参数说明\n * @return {返回类型说明}\n * @exception [违例类型] [违例类型说明]\n */\nexport function getInterPhaseflowData(\n  flowType: any,\n  entrance: any,\n  fd_flow = 'main'\n) {\n  const points = []\n  let { x, y } = entrance.point.H0[entrance.in]\n  const { y: y1 } = entrance.point.H0[entrance.in]\n  const { y: y2 } = entrance.point.H0[entrance.in - 1]\n  let laneOffset = y2 - y1\n  const motorWidth = CrossConst.roadWidth * entrance.in\n  let roadWidth = CrossConst.roadWidth * 0.75\n  const nonWidth = roadWidth / 2\n  y += CrossConst.manCarInterval + CrossConst.manRoadLength + 0.5 * roadWidth\n  if (fd_flow === 'fd') {\n    x += 3 * roadWidth\n    roadWidth = roadWidth * 0.8\n  }\n  // 流向左\n  if (flowType === 1) {\n    points.push({ x: x + (7 * roadWidth) / 8, y: y })\n    points.push({ x: x + (7 * roadWidth) / 8, y: y + (10 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (13 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (15 * roadWidth) / 8 })\n    points.push({ x: x, y: y + (12 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (9 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (11 * roadWidth) / 8 })\n    points.push({ x: x + (5 * roadWidth) / 8, y: y + (9 * roadWidth) / 8 })\n    points.push({ x: x + (5 * roadWidth) / 8, y: y })\n  } else if (flowType === 2) {\n    // 流向直\n    x += roadWidth\n    y += laneOffset\n    points.push({ x: x + (3 * roadWidth) / 8, y: y })\n    points.push({ x: x + (3 * roadWidth) / 8, y: y + (11 * roadWidth) / 8 })\n    points.push({ x: x + roadWidth / 4, y: y + (11 * roadWidth) / 8 })\n    points.push({ x: x + roadWidth / 2, y: y + (15 * roadWidth) / 8 })\n    points.push({ x: x + (3 * roadWidth) / 4, y: y + (11 * roadWidth) / 8 })\n    points.push({ x: x + (5 * roadWidth) / 8, y: y + (11 * roadWidth) / 8 })\n    points.push({ x: x + (5 * roadWidth) / 8, y: y })\n  } else if (flowType === 3) {\n    // 流向右\n    x += 2 * roadWidth\n    y += laneOffset * 2\n    points.push({ x: x + (1 * roadWidth) / 8, y: y })\n    points.push({ x: x + (1 * roadWidth) / 8, y: y + (10 * roadWidth) / 8 })\n    points.push({ x: x + (6 * roadWidth) / 8, y: y + (13 * roadWidth) / 8 })\n    points.push({ x: x + (6 * roadWidth) / 8, y: y + (15 * roadWidth) / 8 })\n    points.push({ x: x + roadWidth, y: y + (12 * roadWidth) / 8 })\n    points.push({ x: x + (6 * roadWidth) / 8, y: y + (9 * roadWidth) / 8 })\n    points.push({ x: x + (6 * roadWidth) / 8, y: y + (11 * roadWidth) / 8 })\n    points.push({ x: x + (3 * roadWidth) / 8, y: y + (9 * roadWidth) / 8 })\n    points.push({ x: x + (3 * roadWidth) / 8, y: y })\n  } else if (flowType === 4 || flowType === 10) {\n    // 流向人行或者人行1\n    // const manOffsetX = roadWidth * (entrance.in - 1)\n    const manOffsetX = roadWidth\n    roadWidth = roadWidth * 0.5\n    const { y: y1 } = entrance.point.H0[entrance.in]\n    const { y: y2 } = entrance.point.H0[entrance.in - 1]\n    // const manOffsetY = (y2 - y1) * entrance.in\n    x = x + roadWidth * 1.5\n    const manOffsetY = (y2 - y1) * 3\n    y += laneOffset * 2 - roadWidth * 0.5\n    points.push({ x: x, y: y })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y - (2 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y - roadWidth / 8 })\n    points.push({\n      x: x + (6 * roadWidth) / 8 + manOffsetX,\n      y: y - roadWidth / 8 + manOffsetY,\n    })\n    points.push({\n      x: x + (6 * roadWidth) / 8 + manOffsetX,\n      y: y - (2 * roadWidth) / 8 + manOffsetY,\n    })\n    points.push({ x: x + roadWidth + manOffsetX, y: y + manOffsetY })\n    points.push({\n      x: x + (6 * roadWidth) / 8 + manOffsetX,\n      y: y + (2 * roadWidth) / 8 + manOffsetY,\n    })\n    points.push({\n      x: x + (6 * roadWidth) / 8 + manOffsetX,\n      y: y + (1 * roadWidth) / 8 + manOffsetY,\n    })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (1 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (2 * roadWidth) / 8 })\n    points.push({ x: x, y: y })\n  } else if (flowType === 8) {\n    // 掉头\n    points.push({ x: x + (7 * roadWidth) / 8, y: y })\n    points.push({ x: x + (7 * roadWidth) / 8, y: y + (8 * roadWidth) / 8 })\n    points.push({ x: x + (1 * roadWidth) / 8, y: y + (8 * roadWidth) / 8 })\n    points.push({ x: x + (1 * roadWidth) / 8, y: y + (4 * roadWidth) / 8 })\n    points.push({ x: x + (0 * roadWidth) / 8, y: y + (4 * roadWidth) / 8 })\n    points.push({ x: x + (2 * roadWidth) / 8, y: y + (2 * roadWidth) / 8 })\n    points.push({ x: x + (4 * roadWidth) / 8, y: y + (4 * roadWidth) / 8 })\n    points.push({ x: x + (3 * roadWidth) / 8, y: y + (4 * roadWidth) / 8 })\n    points.push({ x: x + (3 * roadWidth) / 8, y: y + (6 * roadWidth) / 8 })\n    points.push({ x: x + (5 * roadWidth) / 8, y: y + (6 * roadWidth) / 8 })\n    points.push({ x: x + (5 * roadWidth) / 8, y: y })\n  } else if (flowType === 11) {\n    // 流向人行2\n    // const manOffsetX = -roadWidth * (entrance.out - 1)\n    const manOffsetX = -roadWidth\n    roadWidth = roadWidth * 0.5\n    x = x - roadWidth * 1.5\n    const { y: y1 } = entrance.point.H0[entrance.in]\n    const { y: y2 } = entrance.point.H0[entrance.in - 1]\n    // const manOffsetY = (y1 - y2) * entrance.out\n    const manOffsetY = (y1 - y2) * 3\n    y -= roadWidth * 0.2\n    points.push({ x: x, y: y })\n    points.push({ x: x - (2 * roadWidth) / 8, y: y - (2 * roadWidth) / 8 })\n    points.push({ x: x - (2 * roadWidth) / 8, y: y - roadWidth / 8 })\n    points.push({\n      x: x - (6 * roadWidth) / 8 + manOffsetX,\n      y: y - roadWidth / 8 + manOffsetY,\n    })\n    points.push({\n      x: x - (6 * roadWidth) / 8 + manOffsetX,\n      y: y - (2 * roadWidth) / 8 + manOffsetY,\n    })\n    points.push({ x: x - roadWidth + manOffsetX, y: y + manOffsetY })\n    points.push({\n      x: x - (6 * roadWidth) / 8 + manOffsetX,\n      y: y + (2 * roadWidth) / 8 + manOffsetY,\n    })\n    points.push({\n      x: x - (6 * roadWidth) / 8 + manOffsetX,\n      y: y + (1 * roadWidth) / 8 + manOffsetY,\n    })\n    points.push({ x: x - (2 * roadWidth) / 8, y: y + (1 * roadWidth) / 8 })\n    points.push({ x: x - (2 * roadWidth) / 8, y: y + (2 * roadWidth) / 8 })\n    points.push({ x: x, y: y })\n  } else if (flowType === 12) {\n    // 非机动车左\n    x += 5.5 * roadWidth\n    x = Math.max(x, motorWidth)\n    points.push({ x: x + (7 * nonWidth) / 8, y: y })\n    points.push({ x: x + (7 * nonWidth) / 8, y: y + (3 * nonWidth) / 2 })\n    points.push({ x: x + (3 * nonWidth) / 8, y: y + (3 * nonWidth) / 2 })\n    points.push({ x: x + (3 * nonWidth) / 8, y: y + (13 * nonWidth) / 8 })\n    points.push({ x: x + (1 * nonWidth) / 8, y: y + (11 * nonWidth) / 8 })\n    points.push({ x: x + (3 * nonWidth) / 8, y: y + (9 * nonWidth) / 8 })\n    points.push({ x: x + (3 * nonWidth) / 8, y: y + (5 * nonWidth) / 4 })\n    points.push({ x: x + (5 * nonWidth) / 8, y: y + (5 * nonWidth) / 4 })\n    points.push({ x: x + (5 * nonWidth) / 8, y: y })\n  } else if (flowType === 13) {\n    // 非机动车直\n    x += 5.5 * roadWidth + nonWidth\n    x = Math.max(x, motorWidth + nonWidth)\n    points.push({ x: x + (3 * nonWidth) / 8, y: y })\n    points.push({ x: x + (3 * nonWidth) / 8, y: y + (5 * nonWidth) / 4 })\n    points.push({ x: x + nonWidth / 4, y: y + (5 * nonWidth) / 4 })\n    points.push({ x: x + nonWidth / 2, y: y + (13 * nonWidth) / 8 })\n    points.push({ x: x + (3 * nonWidth) / 4, y: y + (5 * nonWidth) / 4 })\n    points.push({ x: x + (5 * nonWidth) / 8, y: y + (5 * nonWidth) / 4 })\n    points.push({ x: x + (5 * nonWidth) / 8, y: y })\n  }\n  return points\n}\n\n/**\n * @name wsx\n * @Date 2021-08-24 15:30:00\n * @introduction 根据初始点位获取绘制车道流向的数据\n * @description 详细描述\n * @param {参数类型} originPoint：绘制的左下角点\n * @param {参数类型} baseWidth：基础宽度\n * @param {参数类型} flowType：流向类型\n * @param {参数类型} entrance：进口信息\n * @return {返回类型说明}\n * @exception [违例类型] [违例类型说明]\n */\nexport function getDrawFlowData(\n  originPoint: any,\n  oriBaseWidth: any,\n  flowType: any,\n  entrance: any,\n  type = 'main'\n) {\n  let baseWidth = type === 'fd' ? oriBaseWidth * 0.8 : oriBaseWidth\n  const points = []\n  const [x, y] = originPoint\n  if (flowType === 1) {\n    // 流向左\n    points.push({ x: x + (7 * baseWidth) / 8, y: y })\n    points.push({ x: x + (7 * baseWidth) / 8, y: y + (3 * baseWidth) / 2 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (3 * baseWidth) / 2 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (13 * baseWidth) / 8 })\n    points.push({ x: x + (1 * baseWidth) / 8, y: y + (11 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (9 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (5 * baseWidth) / 4 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (5 * baseWidth) / 4 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y })\n  } else if (flowType === 2) {\n    // 流向中\n    points.push({ x: x + (3 * baseWidth) / 8, y: y })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (5 * baseWidth) / 4 })\n    points.push({ x: x + baseWidth / 4, y: y + (5 * baseWidth) / 4 })\n    points.push({ x: x + baseWidth / 2, y: y + (13 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 4, y: y + (5 * baseWidth) / 4 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (5 * baseWidth) / 4 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y })\n  } else if (flowType === 3) {\n    // 流向右\n    points.push({ x: x + (1 * baseWidth) / 8, y: y })\n    points.push({ x: x + (1 * baseWidth) / 8, y: y + (3 * baseWidth) / 2 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (3 * baseWidth) / 2 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (13 * baseWidth) / 8 })\n    points.push({ x: x + (7 * baseWidth) / 8, y: y + (11 * baseWidth) / 8 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (9 * baseWidth) / 8 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (5 * baseWidth) / 4 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (5 * baseWidth) / 4 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y })\n  } else if (flowType === 4 || flowType === 10) {\n    // 流向人行 或者人行1\n    const manOffsetX = baseWidth * (entrance.in - 1)\n    const { y: y1 } = entrance.point.H0[entrance.in]\n    const { y: y2 } = entrance.point.H0[entrance.in - 1]\n    const manOffsetY = (y2 - y1) * entrance.in\n    points.push({ x: x, y: y })\n    points.push({ x: x + (2 * baseWidth) / 8, y: y - (2 * baseWidth) / 8 })\n    points.push({ x: x + (2 * baseWidth) / 8, y: y - baseWidth / 8 })\n    points.push({\n      x: x + (6 * baseWidth) / 8 + manOffsetX,\n      y: y - baseWidth / 8 + manOffsetY,\n    })\n    points.push({\n      x: x + (6 * baseWidth) / 8 + manOffsetX,\n      y: y - (2 * baseWidth) / 8 + manOffsetY,\n    })\n    points.push({ x: x + baseWidth + manOffsetX, y: y + manOffsetY })\n    points.push({\n      x: x + (6 * baseWidth) / 8 + manOffsetX,\n      y: y + (2 * baseWidth) / 8 + manOffsetY,\n    })\n    points.push({\n      x: x + (6 * baseWidth) / 8 + manOffsetX,\n      y: y + (1 * baseWidth) / 8 + manOffsetY,\n    })\n    points.push({ x: x + (2 * baseWidth) / 8, y: y + (1 * baseWidth) / 8 })\n    points.push({ x: x + (2 * baseWidth) / 8, y: y + (2 * baseWidth) / 8 })\n    points.push({ x: x, y: y })\n  } else if (flowType === 5) {\n    // 流向左直\n    points.push({ x: x + (7 * baseWidth) / 8, y: y })\n    points.push({ x: x + (7 * baseWidth) / 8, y: y + (11 * baseWidth) / 8 })\n    points.push({ x: x + (8 * baseWidth) / 8, y: y + (11 * baseWidth) / 8 })\n    points.push({ x: x + (6 * baseWidth) / 8, y: y + (13 * baseWidth) / 8 })\n    points.push({ x: x + (4 * baseWidth) / 8, y: y + (11 * baseWidth) / 8 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (11 * baseWidth) / 8 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (9 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (9 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (10 * baseWidth) / 8 })\n    points.push({ x: x + (1 * baseWidth) / 8, y: y + (8 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (6 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (7 * baseWidth) / 8 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (7 * baseWidth) / 8 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y })\n  } else if (flowType === 6) {\n    // 流向直右\n    points.push({ x: x + (1 * baseWidth) / 8, y: y })\n    points.push({ x: x + (1 * baseWidth) / 8, y: y + (11 * baseWidth) / 8 })\n    points.push({ x: x + (0 * baseWidth) / 8, y: y + (11 * baseWidth) / 8 })\n    points.push({ x: x + (2 * baseWidth) / 8, y: y + (13 * baseWidth) / 8 })\n    points.push({ x: x + (4 * baseWidth) / 8, y: y + (11 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (11 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (9 * baseWidth) / 8 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (9 * baseWidth) / 8 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (10 * baseWidth) / 8 })\n    points.push({ x: x + (7 * baseWidth) / 8, y: y + (8 * baseWidth) / 8 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (6 * baseWidth) / 8 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (7 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (7 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y })\n  } else if (flowType === 7) {\n    // 流向通行\n    points.push({ x: x + (5 * baseWidth) / 8, y: y })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (7 * baseWidth) / 8 })\n    points.push({ x: x + (6 * baseWidth) / 8, y: y + (7 * baseWidth) / 8 })\n    points.push({ x: x + (6 * baseWidth) / 8, y: y + (6 * baseWidth) / 8 })\n    points.push({ x: x + (8 * baseWidth) / 8, y: y + (8 * baseWidth) / 8 })\n    points.push({ x: x + (6 * baseWidth) / 8, y: y + (10 * baseWidth) / 8 })\n    points.push({ x: x + (6 * baseWidth) / 8, y: y + (9 * baseWidth) / 8 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (9 * baseWidth) / 8 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (11 * baseWidth) / 8 })\n    points.push({ x: x + (6 * baseWidth) / 8, y: y + (11 * baseWidth) / 8 })\n    points.push({ x: x + (4 * baseWidth) / 8, y: y + (13 * baseWidth) / 8 })\n    points.push({ x: x + (2 * baseWidth) / 8, y: y + (11 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (11 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (9 * baseWidth) / 8 })\n    points.push({ x: x + (2 * baseWidth) / 8, y: y + (9 * baseWidth) / 8 })\n    points.push({ x: x + (2 * baseWidth) / 8, y: y + (10 * baseWidth) / 8 })\n    points.push({ x: x + (0 * baseWidth) / 8, y: y + (8 * baseWidth) / 8 })\n    points.push({ x: x + (2 * baseWidth) / 8, y: y + (6 * baseWidth) / 8 })\n    points.push({ x: x + (2 * baseWidth) / 8, y: y + (7 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (7 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y })\n  } else if (flowType === 8) {\n    // 流向掉头\n    points.push({ x: x + (7 * baseWidth) / 8, y: y })\n    points.push({ x: x + (7 * baseWidth) / 8, y: y + (13 * baseWidth) / 8 })\n    points.push({ x: x + (1 * baseWidth) / 8, y: y + (13 * baseWidth) / 8 })\n    points.push({ x: x + (1 * baseWidth) / 8, y: y + (8 * baseWidth) / 8 })\n    points.push({ x: x + (0 * baseWidth) / 8, y: y + (8 * baseWidth) / 8 })\n    points.push({ x: x + (2 * baseWidth) / 8, y: y + (6 * baseWidth) / 8 })\n    points.push({ x: x + (4 * baseWidth) / 8, y: y + (8 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (8 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (11 * baseWidth) / 8 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (11 * baseWidth) / 8 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y })\n  } else if (flowType === 9) {\n    // 流向左掉头\n    points.push({ x: x + (7 * baseWidth) / 8, y: y })\n    points.push({ x: x + (7 * baseWidth) / 8, y: y + (12 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (12 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (13 * baseWidth) / 8 })\n    points.push({ x: x + (0 * baseWidth) / 8, y: y + (11 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (9 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (10 * baseWidth) / 8 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (10 * baseWidth) / 8 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (8 * baseWidth) / 8 })\n    points.push({ x: x + (1 * baseWidth) / 8, y: y + (8 * baseWidth) / 8 })\n    points.push({ x: x + (1 * baseWidth) / 8, y: y + (4 * baseWidth) / 8 })\n    points.push({ x: x + (0 * baseWidth) / 8, y: y + (4 * baseWidth) / 8 })\n    points.push({ x: x + (2 * baseWidth) / 8, y: y + (2 * baseWidth) / 8 })\n    points.push({ x: x + (4 * baseWidth) / 8, y: y + (4 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (4 * baseWidth) / 8 })\n    points.push({ x: x + (3 * baseWidth) / 8, y: y + (6 * baseWidth) / 8 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y + (6 * baseWidth) / 8 })\n    points.push({ x: x + (5 * baseWidth) / 8, y: y })\n  } else if (flowType === 10) {\n    // 流向人行1 跟 flowType === 4人行一样画\n  } else if (flowType === 11) {\n    // 流向人行2\n    const manOffsetX = -baseWidth * (entrance.out - 1)\n    const { y: y1 } = entrance.point.H0[entrance.in]\n    const { y: y2 } = entrance.point.H0[entrance.in - 1]\n    const manOffsetY = (y1 - y2) * entrance.out\n    points.push({ x: x, y: y })\n    points.push({ x: x - (2 * baseWidth) / 8, y: y - (2 * baseWidth) / 8 })\n    points.push({ x: x - (2 * baseWidth) / 8, y: y - baseWidth / 8 })\n    points.push({\n      x: x - (6 * baseWidth) / 8 + manOffsetX,\n      y: y - baseWidth / 8 + manOffsetY,\n    })\n    points.push({\n      x: x - (6 * baseWidth) / 8 + manOffsetX,\n      y: y - (2 * baseWidth) / 8 + manOffsetY,\n    })\n    points.push({ x: x - baseWidth + manOffsetX, y: y + manOffsetY })\n    points.push({\n      x: x - (6 * baseWidth) / 8 + manOffsetX,\n      y: y + (2 * baseWidth) / 8 + manOffsetY,\n    })\n    points.push({\n      x: x - (6 * baseWidth) / 8 + manOffsetX,\n      y: y + (1 * baseWidth) / 8 + manOffsetY,\n    })\n    points.push({ x: x - (2 * baseWidth) / 8, y: y + (1 * baseWidth) / 8 })\n    points.push({ x: x - (2 * baseWidth) / 8, y: y + (2 * baseWidth) / 8 })\n    points.push({ x: x, y: y })\n  } else if (flowType === 12) {\n    // 非机动车左\n    const nonWidth = baseWidth * 0.6\n    points.push({ x: x + (7 * nonWidth) / 8, y: y })\n    points.push({ x: x + (7 * nonWidth) / 8, y: y + (3 * nonWidth) / 2 })\n    points.push({ x: x + (3 * nonWidth) / 8, y: y + (3 * nonWidth) / 2 })\n    points.push({ x: x + (3 * nonWidth) / 8, y: y + (13 * nonWidth) / 8 })\n    points.push({ x: x + (1 * nonWidth) / 8, y: y + (11 * nonWidth) / 8 })\n    points.push({ x: x + (3 * nonWidth) / 8, y: y + (9 * nonWidth) / 8 })\n    points.push({ x: x + (3 * nonWidth) / 8, y: y + (5 * nonWidth) / 4 })\n    points.push({ x: x + (5 * nonWidth) / 8, y: y + (5 * nonWidth) / 4 })\n    points.push({ x: x + (5 * nonWidth) / 8, y: y })\n  } else if (flowType === 13) {\n    // 非机动车直\n    const nonWidth = baseWidth * 0.6\n    points.push({ x: x + (3 * nonWidth) / 8, y: y })\n    points.push({ x: x + (3 * nonWidth) / 8, y: y + (5 * nonWidth) / 4 })\n    points.push({ x: x + nonWidth / 4, y: y + (5 * nonWidth) / 4 })\n    points.push({ x: x + nonWidth / 2, y: y + (13 * nonWidth) / 8 })\n    points.push({ x: x + (3 * nonWidth) / 4, y: y + (5 * nonWidth) / 4 })\n    points.push({ x: x + (5 * nonWidth) / 8, y: y + (5 * nonWidth) / 4 })\n    points.push({ x: x + (5 * nonWidth) / 8, y: y })\n  } else if (flowType === 14) {\n    // 非机动车左直\n    const nonWidth = baseWidth * 0.6\n    points.push({ x: x + (7 * nonWidth) / 8, y: y })\n    points.push({ x: x + (7 * nonWidth) / 8, y: y + (11 * nonWidth) / 8 })\n    points.push({ x: x + (8 * nonWidth) / 8, y: y + (11 * nonWidth) / 8 })\n    points.push({ x: x + (6 * nonWidth) / 8, y: y + (13 * nonWidth) / 8 })\n    points.push({ x: x + (4 * nonWidth) / 8, y: y + (11 * nonWidth) / 8 })\n    points.push({ x: x + (5 * nonWidth) / 8, y: y + (11 * nonWidth) / 8 })\n    points.push({ x: x + (5 * nonWidth) / 8, y: y + (9 * nonWidth) / 8 })\n    points.push({ x: x + (3 * nonWidth) / 8, y: y + (9 * nonWidth) / 8 })\n    points.push({ x: x + (3 * nonWidth) / 8, y: y + (10 * nonWidth) / 8 })\n    points.push({ x: x + (1 * nonWidth) / 8, y: y + (8 * nonWidth) / 8 })\n    points.push({ x: x + (3 * nonWidth) / 8, y: y + (6 * nonWidth) / 8 })\n    points.push({ x: x + (3 * nonWidth) / 8, y: y + (7 * nonWidth) / 8 })\n    points.push({ x: x + (5 * nonWidth) / 8, y: y + (7 * nonWidth) / 8 })\n    points.push({ x: x + (5 * nonWidth) / 8, y: y })\n  }\n  return points\n}\n\n/**\n * @name wsx\n * @Date 2021-10-11 15:55:00\n * @introduction 获取绘制红绿灯点位数据\n * @description 详细描述\n * @param {参数类型} point：中心点为\n * @param {参数类型} type：green/red\n * @return {返回类型说明}\n * @exception [违例类型] [违例类型说明]\n */\nexport function getFootLightData(point: any, type: any) {\n  const roadWidth = CrossConst.roadWidth\n  const { x, y } = point\n  const points = []\n  if (type === 'green') {\n    points.push({ x: x, y: y - roadWidth / 4 })\n    points.push({\n      x: x - (roadWidth * 3) / 64,\n      y: y + roadWidth / 4 - roadWidth / 64,\n    })\n    points.push({ x: x - roadWidth / 32, y: y + (roadWidth * 6) / 32 })\n    points.push({ x: x - roadWidth / 64, y: y + (roadWidth * 6) / 32 })\n    points.push({ x: x - roadWidth / 64, y: y + (roadWidth * 11) / 64 })\n    points.push({ x: x - (roadWidth * 3) / 64, y: y + (roadWidth * 10) / 64 })\n    points.push({ x: x - (roadWidth * 3) / 32, y: y + (roadWidth * 5) / 64 })\n    points.push({ x: x - (roadWidth * 11) / 64, y: y + roadWidth / 32 })\n    points.push({ x: x - (roadWidth * 9) / 64, y: y + roadWidth / 64 })\n    points.push({ x: x - roadWidth / 16, y: y + roadWidth / 16 })\n    points.push({ x: x - (roadWidth * 3) / 64, y: y + (roadWidth * 3) / 32 })\n    points.push({ x: x - roadWidth / 64, y: y })\n    points.push({\n      x: x - (roadWidth * 15) / 128,\n      y: y - (roadWidth * 17) / 128,\n    })\n    points.push({ x: x - (roadWidth * 9) / 64, y: y - (roadWidth * 17) / 128 })\n    points.push({ x: x - (roadWidth * 5) / 32, y: y - (roadWidth * 19) / 128 })\n    points.push({ x: x - (roadWidth * 7) / 64, y: y - (roadWidth * 11) / 64 })\n    points.push({ x: x + roadWidth / 64, y: y - (roadWidth * 3) / 64 })\n    points.push({ x: x + (roadWidth * 7) / 64, y: y - (roadWidth * 9) / 64 })\n    points.push({ x: x + (roadWidth * 3) / 32, y: y - (roadWidth * 11) / 64 })\n    points.push({ x: x + (roadWidth * 7) / 64, y: y - (roadWidth * 6) / 32 })\n    points.push({ x: x + (roadWidth * 5) / 32, y: y - (roadWidth * 5) / 32 })\n    points.push({ x: x + (roadWidth * 7) / 128, y: y + roadWidth / 128 })\n    points.push({ x: x + (roadWidth * 7) / 128, y: y + (roadWidth * 7) / 64 })\n    points.push({ x: x + (roadWidth * 3) / 32, y: y + (roadWidth * 2) / 32 })\n    points.push({ x: x + (roadWidth * 7) / 64, y: y - roadWidth / 64 })\n    points.push({ x: x + (roadWidth * 9) / 64, y: y })\n    points.push({ x: x + (roadWidth * 4) / 32, y: y + (roadWidth * 3) / 32 })\n    points.push({ x: x + (roadWidth * 2) / 32, y: y + (roadWidth * 5) / 32 })\n    points.push({ x: x + roadWidth / 64, y: y + (roadWidth * 11) / 64 })\n    points.push({\n      x: x + roadWidth / 64,\n      y: y + roadWidth / 4 - roadWidth / 64,\n    })\n    points.push({ x: x, y: y - roadWidth / 4 })\n  } else if (type === 'red') {\n    points.push({\n      x: x - roadWidth / 32,\n      y: y + roadWidth / 4 - roadWidth / 32,\n    })\n    points.push({\n      x: x - roadWidth / 32 + roadWidth / 32 / 4,\n      y: y + (roadWidth * 7) / 32 - (roadWidth * 3) / 64,\n    })\n    points.push({\n      x: x - (roadWidth * 5) / 64,\n      y: y + roadWidth / 4 - (roadWidth * 3) / 32,\n    })\n    points.push({\n      x: x - (roadWidth * 7) / 64,\n      y: y + roadWidth / 4 - (roadWidth * 3) / 32,\n    })\n    points.push({\n      x: x - (roadWidth * 3) / 32 - roadWidth / 32 / 4,\n      y: y - roadWidth / 64,\n    })\n    points.push({ x: x - (roadWidth * 5) / 64, y: y - roadWidth / 32 })\n    points.push({ x: x - (roadWidth * 5) / 64, y: y + (roadWidth * 2) / 32 })\n    points.push({ x: x - (roadWidth * 2) / 32, y: y + (roadWidth * 4) / 32 })\n    points.push({\n      x: x - roadWidth / 32 - roadWidth / 64,\n      y: y + roadWidth / 64,\n    })\n    points.push({\n      x: x - (roadWidth * 5) / 64 - roadWidth / 64,\n      y: y - (roadWidth * 6) / 32,\n    })\n    points.push({\n      x: x - (roadWidth * 7) / 64 + (roadWidth * 4) / 64,\n      y: y - (roadWidth * 7) / 32,\n    })\n    points.push({ x: x, y: y - roadWidth / 32 })\n    points.push({\n      x: x + (roadWidth * 7) / 64 - (roadWidth * 4) / 64,\n      y: y - (roadWidth * 7) / 32,\n    })\n    points.push({ x: x + (roadWidth * 7) / 64, y: y - (roadWidth * 7) / 32 })\n    points.push({\n      x: x + roadWidth / 32 + roadWidth / 64,\n      y: y - roadWidth / 64,\n    })\n    points.push({ x: x + (roadWidth * 2) / 32, y: y + (roadWidth * 4) / 32 })\n    points.push({ x: x + (roadWidth * 5) / 64, y: y + (roadWidth * 2) / 32 })\n    points.push({\n      x: x + (roadWidth * 3) / 32 + roadWidth / 32 / 4,\n      y: y - roadWidth / 64,\n    })\n    points.push({\n      x: x + (roadWidth * 7) / 64,\n      y: y + roadWidth / 4 - (roadWidth * 11) / 64,\n    })\n    points.push({\n      x: x + (roadWidth * 5) / 64,\n      y: y + roadWidth / 4 - (roadWidth * 3) / 32,\n    })\n    points.push({\n      x: x + roadWidth / 32 - roadWidth / 32 / 4,\n      y: y + (roadWidth * 7) / 32 - (roadWidth * 3) / 64,\n    })\n    points.push({\n      x: x + roadWidth / 32,\n      y: y + roadWidth / 4 - roadWidth / 32,\n    })\n  }\n  return points\n}\n\n/**\n * @name wsx\n * @Date 2021-10-15 10:46:14\n * @introduction 简述\n * @description 取红绿灯左 右的绘制数据  非机动车左/直\n * @param {参数类型} point：中心点为\n * @param {参数类型} type：left/right\n * @return {返回类型说明}\n * @exception [违例类型] [违例类型说明]\n */\nexport function getDirectionLightData(point: any, type: any) {\n  const roadWidth = CrossConst.roadWidth\n  let { x, y } = point\n  y = y - roadWidth / 3\n  const points = []\n  const pointInfo: any = {\n    point1: [],\n    point2: [],\n    polygon1: [],\n    polygon2: [],\n    polygon3: [],\n  }\n  if (type === 'left') {\n    x = x + roadWidth / 3\n    points.push({ x: x - roadWidth / 3 / 5, y: y + roadWidth / 3 })\n    points.push({\n      x: x - roadWidth / 3 + roadWidth / 3 / 6 + roadWidth / 3 / 15,\n      y: y + (roadWidth * 2) / 3 / 5 - roadWidth / 3 / 10,\n    })\n    points.push({\n      x: x - roadWidth / 3 - roadWidth / 3 / 5 + roadWidth / 3 / 15,\n      y: y + (roadWidth * 2) / 3 / 5 - roadWidth / 3 / 10,\n    })\n    points.push({\n      x: x - (roadWidth * 4) / 3 / 5 + roadWidth / 3 / 15,\n      y: y + roadWidth / 3 - roadWidth / 3 / 6,\n    })\n    points.push({\n      x: x - (roadWidth * 8) / 3 / 5,\n      y: y + roadWidth / 3 - roadWidth / 3 / 6,\n    })\n    points.push({\n      x: x - (roadWidth * 8) / 3 / 5,\n      y: y + roadWidth / 3 + roadWidth / 3 / 6,\n    })\n    points.push({\n      x: x - (roadWidth * 4) / 3 / 5 + roadWidth / 3 / 15,\n      y: y + roadWidth / 3 + roadWidth / 3 / 6,\n    })\n    points.push({\n      x: x - roadWidth / 3 - roadWidth / 3 / 5 + roadWidth / 3 / 15,\n      y: y + (roadWidth * 8) / 3 / 5 + roadWidth / 3 / 10,\n    })\n    points.push({\n      x: x - roadWidth / 3 + roadWidth / 3 / 6 + roadWidth / 3 / 15,\n      y: y + (roadWidth * 8) / 3 / 5 + roadWidth / 3 / 10,\n    })\n    points.push({ x: x - roadWidth / 3 / 5, y: y + roadWidth / 3 })\n  } else if (type === 'right') {\n    x = x - roadWidth / 3\n    points.push({ y: y + roadWidth / 3, x: x + roadWidth / 3 / 5 })\n    points.push({\n      y: y + (roadWidth * 2) / 3 / 5 - roadWidth / 3 / 10,\n      x: x + roadWidth / 3 - roadWidth / 3 / 6 - roadWidth / 3 / 15,\n    })\n    points.push({\n      y: y + (roadWidth * 2) / 3 / 5 - roadWidth / 3 / 10,\n      x: x + roadWidth / 3 + roadWidth / 3 / 5 - roadWidth / 3 / 15,\n    })\n    points.push({\n      y: y + roadWidth / 3 - roadWidth / 3 / 6,\n      x: x + (roadWidth * 4) / 3 / 5 - roadWidth / 3 / 15,\n    })\n    points.push({\n      y: y + roadWidth / 3 - roadWidth / 3 / 6,\n      x: x + (roadWidth * 8) / 3 / 5,\n    })\n    points.push({\n      y: y + roadWidth / 3 + roadWidth / 3 / 6,\n      x: x + (roadWidth * 8) / 3 / 5,\n    })\n    points.push({\n      y: y + roadWidth / 3 + roadWidth / 3 / 6,\n      x: x + (roadWidth * 4) / 3 / 5 - roadWidth / 3 / 15,\n    })\n    points.push({\n      y: y + (roadWidth * 8) / 3 / 5 + roadWidth / 3 / 10,\n      x: x + roadWidth / 3 + roadWidth / 3 / 5 - roadWidth / 3 / 15,\n    })\n    points.push({\n      y: y + (roadWidth * 8) / 3 / 5 + roadWidth / 3 / 10,\n      x: x + roadWidth / 3 - roadWidth / 3 / 6 - roadWidth / 3 / 15,\n    })\n    points.push({ y: y + roadWidth / 3, x: x + roadWidth / 3 / 5 })\n  } else if (type === 'nonLeft' || type === 'nonCenter') {\n    // x = roadWidth / 3\n    y += roadWidth / 3\n    pointInfo.point1 = {\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + roadWidth / 64,\n      y: y,\n    }\n    pointInfo.point2 = {\n      x: x + ((roadWidth / 3) * 8) / 5 / 3 - roadWidth / 64,\n      y: y,\n    }\n    // 区域点位1\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + roadWidth / 64,\n      y: y,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3,\n      y: y - (roadWidth * 3) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 3) / 64,\n      y: y - (roadWidth * 3) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 6) / 64,\n      y: y - (roadWidth * 10) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 4) / 64,\n      y: y - (roadWidth * 12) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 5) / 64,\n      y: y - (roadWidth * 14) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 9) / 64,\n      y: y - (roadWidth * 14) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 9) / 64,\n      y: y - (roadWidth * 12.5) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 6) / 64,\n      y: y - (roadWidth * 12.5) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 5.7) / 64,\n      y: y - (roadWidth * 12) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 7.8) / 64,\n      y: y - (roadWidth * 10) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 17) / 64,\n      y: y - (roadWidth * 10) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 19) / 64,\n      y: y - (roadWidth * 12) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 16) / 64,\n      y: y - (roadWidth * 13) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 17) / 64,\n      y: y - (roadWidth * 13.5) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 21) / 64,\n      y: y - (roadWidth * 13.5) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 22) / 64,\n      y: y - (roadWidth * 12) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 21) / 64,\n      y: y - (roadWidth * 11.5) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 19) / 64,\n      y: y - (roadWidth * 10) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x + ((roadWidth / 3) * 8) / 5 / 3 - roadWidth / 64,\n      y: y,\n    })\n    pointInfo.polygon1.push({ x: x - roadWidth / 128, y: y })\n    pointInfo.polygon1.push({ x: x, y: y - (roadWidth * 1.2) / 64 })\n    pointInfo.polygon1.push({\n      x: x + ((roadWidth / 3) * 8) / 5 / 3 - (roadWidth * 2.5) / 64,\n      y: y - (roadWidth * 1.2) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 18) / 64,\n      y: y - (roadWidth * 9) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 7) / 64,\n      y: y - (roadWidth * 9) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 4) / 64,\n      y: y - (roadWidth * 2) / 64,\n    })\n    pointInfo.polygon1.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + roadWidth / 64,\n      y: y,\n    })\n    // 区域点位2\n    pointInfo.polygon2.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 6.5) / 64,\n      y: y + (-roadWidth * 9.5) / 64,\n    })\n    pointInfo.polygon2.push({ x: x, y: y - (roadWidth * 1.2) / 64 })\n    pointInfo.polygon2.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 17) / 64,\n      y: y - (roadWidth * 10) / 64,\n    })\n    pointInfo.polygon2.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 18) / 64,\n      y: y - (roadWidth * 9) / 64,\n    })\n    pointInfo.polygon2.push({ x: x + roadWidth / 64, y: y - 1 })\n    pointInfo.polygon2.push({ x: x - roadWidth / 64, y: y })\n    pointInfo.polygon2.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 6) / 64,\n      y: y - (roadWidth * 8) / 64,\n    })\n    pointInfo.polygon2.push({\n      x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 6.5) / 64,\n      y: y - (roadWidth * 9.5) / 64,\n    })\n\n    // 方向点位\n    if (type === 'nonLeft') {\n      pointInfo.polygon3.push({\n        x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 1) / 64,\n        y: y + (roadWidth * 8) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 1) / 64,\n        y: y + (roadWidth * 12) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 16) / 64,\n        y: y + (roadWidth * 12) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 13) / 64,\n        y: y + (roadWidth * 16) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 15) / 64,\n        y: y + (roadWidth * 16) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 22) / 64,\n        y: y + (roadWidth * 10) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 15) / 64,\n        y: y + (roadWidth * 4) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 13) / 64,\n        y: y + (roadWidth * 4) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 16) / 64,\n        y: y + (roadWidth * 8) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - ((roadWidth / 3) * 8) / 5 / 3 + (roadWidth * 22) / 64,\n        y: y + (roadWidth * 8) / 64,\n      })\n    } else if (type === 'nonCenter') {\n      pointInfo.polygon3.push({\n        x: x - (roadWidth * 2) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5,\n      })\n      pointInfo.polygon3.push({\n        x: x + (roadWidth * 2) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5,\n      })\n      pointInfo.polygon3.push({\n        x: x + (roadWidth * 2) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 11) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x + (roadWidth * 2) / 64 + (roadWidth * 4) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 8) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x + (roadWidth * 2) / 64 + (roadWidth * 4) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 12) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 17) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - (roadWidth * 2) / 64 - (roadWidth * 4) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 12) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - (roadWidth * 2) / 64 - (roadWidth * 4) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 8) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - (roadWidth * 2) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 11) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - (roadWidth * 2) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5,\n      })\n    } else if (type === 'nonLeftCenter') {\n      pointInfo.polygon3.push({\n        x: x - (roadWidth * 2) / 64,\n        y: y + (roadWidth * 5) / 16,\n      })\n      pointInfo.polygon3.push({\n        x: x + (roadWidth * 2) / 64,\n        y: y + (roadWidth * 5) / 16,\n      })\n      pointInfo.polygon3.push({\n        x: x + (roadWidth * 2) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 11) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x + (roadWidth * 2) / 64 + (roadWidth * 4) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 8) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x + (roadWidth * 2) / 64 + (roadWidth * 4) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 12) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 17) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - (roadWidth * 2) / 64 - (roadWidth * 4) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 12) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - (roadWidth * 2) / 64 - (roadWidth * 4) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 8) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - (roadWidth * 2) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 11) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - (roadWidth * 2) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 6) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - (roadWidth * 8) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 6) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - (roadWidth * 8) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 10) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - (roadWidth * 12) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 4) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - (roadWidth * 8) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5 + (roadWidth * 2) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - (roadWidth * 8) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 2) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - (roadWidth * 2) / 64,\n        y: y + ((roadWidth / 3) * 4) / 5 - (roadWidth * 2) / 64,\n      })\n      pointInfo.polygon3.push({\n        x: x - (roadWidth * 2) / 64,\n        y: y + (roadWidth * 5) / 16,\n      })\n    }\n    return pointInfo\n  }\n  return points\n}\n\n/**\n * @name wsx\n * @Date 2021-08-02 13:36:29\n * @introduction 获取车道流向点位\n * @description 详细描述\n * @param {参数类型} laneNumber 进口车道序号1/2/3\n * @param {参数类型} laneFlow 流向1/2/3\n * @param {参数类型} CrossConst 路口模型配置参数\n * @param {参数类型} self 当前进口到信息\n * @return 无返回类型\n * @exception [违例类型] [违例类型说明]\n */\nexport function getWaitAreaPoint(\n  laneNumber: any,\n  laneFlow: any,\n  CrossConst: any,\n  self: any\n) {\n  const points = []\n  // 绘制的顶点\n  let { x: x1, y: y1 } = self.point.H0[self.in - laneNumber + 1]\n  let { x: x2, y: y2 } = self.point.H0[self.in - laneNumber]\n  const roadWidth = CrossConst.roadWidth\n  const offset = CrossConst.manRoadLength + CrossConst.manCarInterval\n  // 左转\n  if (laneFlow === 1) {\n    points.push({ x: x1, y: y1 + offset })\n    points.push({\n      x: x1 - roadWidth / 16,\n      y: y1 + offset + (roadWidth * 5) / 8,\n    })\n    points.push({\n      x: x1 - (roadWidth * 3) / 16,\n      y: y1 + offset + (roadWidth * 9) / 8,\n    })\n    points.push({\n      x: x1 - (roadWidth * 6) / 16,\n      y: y1 + offset + (roadWidth * 13) / 8,\n    })\n    points.push({\n      x: x1 - (roadWidth * 9) / 16,\n      y: y1 + offset + (roadWidth * 15) / 8,\n    })\n    points.push({\n      x: x1 - (roadWidth * 12) / 16,\n      y: y1 + offset + (roadWidth * 16) / 8,\n    })\n    points.push({\n      x: x2 - (roadWidth * 15) / 16,\n      y: y2 + offset + (roadWidth * 18) / 8,\n    })\n    points.push({\n      x: x2 - (roadWidth * 12) / 16,\n      y: y2 + offset + (roadWidth * 16) / 8,\n    })\n    points.push({\n      x: x2 - (roadWidth * 9) / 16,\n      y: y2 + offset + (roadWidth * 15) / 8,\n    })\n    points.push({\n      x: x2 - (roadWidth * 6) / 16,\n      y: y2 + offset + (roadWidth * 13) / 8,\n    })\n    points.push({\n      x: x2 - (roadWidth * 3) / 16,\n      y: y2 + offset + (roadWidth * 9) / 8,\n    })\n    points.push({ x: x2, y: y2 + offset })\n  } else if (laneFlow === 2) {\n    // 直行\n    points.push({ x: x1, y: y1 + offset })\n    points.push({ x: x1, y: y1 + offset + 2 * roadWidth })\n    points.push({ x: x2, y: y2 + offset + 2 * roadWidth })\n    points.push({ x: x2, y: y2 + offset })\n  }\n  return points\n}\n","/* eslint-disable */\nlet phaseMap = new Map();\nphaseMap.set(1, 'A');\nphaseMap.set(2, 'B');\nphaseMap.set(3, 'C');\nphaseMap.set(4, 'D');\nphaseMap.set(5, 'E');\nphaseMap.set(6, 'F');\nphaseMap.set(7, 'G');\nphaseMap.set(8, 'H');\nphaseMap.set(9, 'I');\nphaseMap.set(10, 'J');\nphaseMap.set(11, 'K');\nphaseMap.set(12, 'L');\nphaseMap.set(13, 'M');\nphaseMap.set(14, 'N');\nphaseMap.set(15, 'O');\nphaseMap.set(16, 'P');\nphaseMap.set(17, 'Q');\nphaseMap.set(18, 'R');\nphaseMap.set(19, 'S');\nphaseMap.set(20, 'T');\nphaseMap.set(21, 'U');\nphaseMap.set(22, 'V');\nphaseMap.set(23, 'W');\nphaseMap.set(24, 'X');\nphaseMap.set(25, 'Y');\nphaseMap.set(26, 'Z');\nphaseMap.set(27, 'a');\nphaseMap.set(28, 'b');\nphaseMap.set(29, 'c');\nphaseMap.set(30, 'd');\nphaseMap.set(31, 'e');\nphaseMap.set(32, 'f');\n\n// 流向类型字典\nlet enterFlowMap = new Map();\nenterFlowMap.set(1, \"左转\");\nenterFlowMap.set(2, \"直行\");\nenterFlowMap.set(3, \"右转\");\nenterFlowMap.set(4, \"人行\");\nenterFlowMap.set(5, \"左直\");\nenterFlowMap.set(6, \"直右\");\nenterFlowMap.set(7, \"通行\");\nenterFlowMap.set(8, \"掉头\");\nenterFlowMap.set(9, \"左掉头\");\nenterFlowMap.set(10, \"人行1\");\nenterFlowMap.set(11, \"人行2\");\nenterFlowMap.set(12, \"非机动车左\");\nenterFlowMap.set(13, \"非机动车直\");\nenterFlowMap.set(14, \"非机动车左直\");\nenterFlowMap.set(32, \"可变车道\");\n\nlet enterDirectionMap = new Map();\nenterDirectionMap.set(1, \"东\");\nenterDirectionMap.set(2, \"南\");\nenterDirectionMap.set(3, \"西\");\nenterDirectionMap.set(4, \"北\");\nenterDirectionMap.set(5, \"方向1\");\nenterDirectionMap.set(6, \"方向2\");\nenterDirectionMap.set(7, \"方向3\");\nenterDirectionMap.set(8, \"方向4\");\nenterDirectionMap.set(9, \"方向5\");\nenterDirectionMap.set(10, \"方向6\");\n\nexport {\n  phaseMap,\n  enterFlowMap,\n  enterDirectionMap\n};","export const adjacentIcon = 'data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAlCAYAAADFniADAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADJmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMwNjcgNzkuMTU3NzQ3LCAyMDE1LzAzLzMwLTIzOjQwOjQyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjFFM0Y5QTYyNTkzMTFFN0EwNkVBMTUzMDlERkJGOUMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjFFM0Y5QTcyNTkzMTFFN0EwNkVBMTUzMDlERkJGOUMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCMUUzRjlBNDI1OTMxMUU3QTA2RUExNTMwOURGQkY5QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCMUUzRjlBNTI1OTMxMUU3QTA2RUExNTMwOURGQkY5QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PphkrBIAAAQ3SURBVFhH1ZjbaxxlGId3mt3ZndnZzaYm64GI0juhtLUFoQ29KBVRkFKpTTStVqoUWw+FllJavWih9KK3/QMqNkUIVsQ7ofSm1BrUoFRFQYQeTMxGm7iZTbqbPfj7zb4ZsnPIzG6zgT7wZvZ7Z+ebZ97v229movTcnoo0Q+7JjIJNHKEiYogoYhWC+Rqiiigj5hElRDF7Z5r50ISWggxPbiA0BAXCQqE5hAk5ygYSKAWZDmzSCMo8KJTLQ65Sb3rDsvsCIYpkEcshRKz+pF9ffKVwYCc2XYhmhioM7K8L/bP6nnhK4YAMNsl6q20Ych4XLimpkF5vtR3dq2INUvgCx7rdFXLCijXMMVsKO/gr8yznCpCR81ssrhTLuNyTOiw8rz2MlhQsuTAu18++VTTxsCvFlXpJTk7N9e77p/CMNJum7++ZXexDmn5YHkqtVmPpHuNnJrw4NjX71JBZGsb9Qn9ei70+1J38WXaFYuN4/q275eoZTJq/3jDiu891abdllxPeNydYKd5cfYUO35t9GkKf477QiyNWX5mbHx6cLKyT3YFsHMu/QyF8VNjHRbN4mX3W97qwfPiHd3tP3rs3u2a4YAk9ISleSufV+/PDuyfNDZLyZcNY/sDdSvU0PtoXzb7YJ/uWlBOVw/cIPrBaDfxQKqsvT5jXeHWSagBXM7MlHt37Rdb4XlINrB/LHxqvVD+Spou4onx7p7dzlzQXU2SlrBnvZJMaLa1TO07gEouSagAVS10vlodeyZnPScpm7Vj+w6WEYkrkz7cN9X1pOolSiuHJ14+mrj6rduyHGB85XGDip74pli/tyJmbJUWhI7lK9bg0XUDoj4OpxKunMtq4pJwoHD57vvjx0oS5dbRUvgAJz7WM0qjsvluVSt9kpXZY0i4g9PuRdGLgaDoxKSlPKPU4t/WmP6zGSLF80U8M8KnScyoQVYn8djyt9X+Qjv8rKT+qHDquDYF8lTVubI5H98DelJSTpYR+CSlEapQK9dxMvswaI30Qw0EzkgoEQjc/7tQGQgqRMqX41hEaLgF9iehgGDEI/Xg2o/e/m4o388o0Tym+BjXF5R5jdFsiNoCD/5OUCwiNnuvSX3vTUPOSCkuJUlyH+BrUFJ/1JH/arlliripgYfwOQoODSTX0MAuc38VV8qLouQ4Fcak7efMFLdYPMXu+QGjk/Gp9bwtC5D59WCni94sK5NPu5K8vilhCUW580q3v2anHWu3POs5+GcUDFl+nWn7Q451/hx6b2J6ItVR1MIcqWTKLpfiMzBfPwIW0DXAK5RbenBeGLyKJ6XprxZleECK2FMEOlr5Qb60Y/MdHw5A3SBF8gWvPbL3VdjiPXOuYS4rgixzGdlesgPN4rvSeUkQqxoOaXlgDYH9T0r8nvlIEB3Ksc4hWf+ZOrP6kX18ezv/kOYEchdr4P89I5H8Men4/6V5CMgAAAABJRU5ErkJggg=='\nexport const bikeIcon = 'data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAJpSURBVFhH7Za9axRBGIdPERv/gDQKQdTC0g9sLCKIYCUIKQRTCcE/QGIlSWslWvqBEEEhIEQLITYRFIKYTgvBIoIoopWIiFisz++ddzdz437MXe4a8YGHmX3nndm53Z256f1nlBRFMYNL+MFVfcabx4vfrIklTxsP3GA93KfirRuz7untkHgAV3HKQ62QN4sxh71JbVMYT2TWm5oh6UvILR57qBXyFkO6Me0x3dh+AGU8wUXFWvFEseqhVsjbCOnFZ1zBX3YVmMTdoWpseLeK7V4OBAPtx4v4gMs9IdqbwFO406422eGliOv1aJpO9QSoT+A0XsPX2MRvfIKX0b4FyvgVdK8GTxT6EDXQI/yqQAN69DH2HQjqp/GdRQPde4In5nLE+6R7wBs3Jm8v8OSUT3gbz+ILBYR3MbhM94KYvD1AkHwHv+EaXsFD3mRwrVdjeKiCkN63lqVWhlS9e+0PAgM2TmAYhlqGbTCvoziP1cc4Uhi47wlQ7EIt0Vv4HmMmrdMoYdBqAqB3nC7DmKz/k2w0IMYTSPmB2ohKlvGcdx8OBjiI9/E71qHHfg+1AvZh3QTnfLjBofPdMEYnVz1/IVz+xbINmJCzCuIP6Sae2AaU1y2yyRw3eeX1kgUvxRnaL3g9Hzo1rntCe/GhNdajb+ZSqBrd54EUOjVOoISmk/jUkvrRBLZ8Hvjo5TMv6ziON/A8ringvMT4DJCeFfJg5vG77ENt9tsC5TGs6UiWdcwbCAbVtlvyE495k9rS88C8N40WBk7/+/VPmMZWPH08cIPqnFBD/nlgK3Ajve/nqKP9eM4D/xi93h907cp7q/WVWwAAAABJRU5ErkJggg=='\n","\nimport Konva from \"konva\";\nimport { defineComponent, reactive, toRefs, ref } from \"vue\";\nimport {\n  getDrawFlowData,\n  getLaneFlowPoint,\n  getRealPhasePoint,\n  getInterPhaseflowData,\n  getFootLightData,\n  getDirectionLightData,\n} from \"./js/flowPoint\";\nimport { CrossInfo, Util, CrossConst } from \"./js/interModel\";\nimport { phaseMap } from \"./js/common\";\nimport { adjacentIcon, bikeIcon } from \"./assets/iconBase64\";\nexport default defineComponent({\n  name: \"tf-inter-model\",\n  props: {\n    // 绘制配置参数\n    option: {\n      type: Object,\n      default: () => {\n        return {};\n      },\n    },\n  },\n  setup(props, { attrs, slots, emit, expose }) {\n    let modelStage: any = null,\n      baseLayer: any = null,\n      realLayer: any = null,\n      phaseStage: any = null,\n      phaseLayer: any = null,\n      cross: any = null,\n      clientWidth: number = 0,\n      clientHeight: number = 0,\n      baseLayerWidth: number = 0,\n      phaseWidth: number = 0,\n      hoverBack: any = null,\n      hoverText: any = null,\n      ctrlWay: any = null,\n      nearImg: any = null,\n      bikeImg: any = null;\n    const tfInterModel = ref();\n    const scTfInterBox = ref();\n    const scTfPhaseBox = ref();\n    const state = reactive({\n      phaseWidth: 100,\n      drawOption: {\n        centerLineMode: false, // 是否道路中线对齐\n        drawPhase: true, // 是否绘制左侧相位\n        showRoadAsideLine: true, // 显示道路边线\n        showLaneDashedLine: true, // 显示道路虚线\n        showManRoadLine: true, // 显示斑马线\n        showStopLine: true, // 显示停车线\n        showManRoad: true, // 显示行人车道\n        showLaneFlow: true, // 显示车道流向\n        showRoadName: true, // 显示路口名称\n        laneFlowOffetStopLine: 0, // 车道流向离停车线的距离 车道宽度的倍数\n\n        routeNameColor: \"#000000\", // 默认路口名称颜色\n        defaultFlowColor: \"#008aaf\", // 默认流向颜色\n        HighLightFlowColor: \"#00ec00\", // 高亮流向颜色\n        saturationFlowColor: \"#ffffff\", // 饱和度流向颜色\n        phaseBackColor: \"#ffffff\", // 相位背景颜色\n        laneBackColor: \"#283349\", // 车道背景颜色\n        phaseNumColor: \"#446a86\", // 相位号颜色\n        redColor: \"#FF0000\", // 红色\n        greenColor: \"#00EC00\", // 绿色\n        yellowColor: \"#E1E100\", // 黄色\n        greyColor: \"#cccccc\", // 灰色\n      },\n      interType: 0, // 0：普通路口  1：父子路口 2：匝道路口\n    });\n    const methods = {\n      /**\n       * @name wsx\n       * @Date 2021-08-03 09:48:24\n       * @introduction 初始化配置参数\n       * @description 详细描述\n       * @param {参数类型} 参数 参数说明\n       * @return {返回类型说明}\n       * @exception [违例类型] [违例类型说明]\n       */\n      getDrawOption() {\n        state.drawOption = Object.assign(\n          {\n            centerLineMode: false, // 是否道路中线对齐\n            drawPhase: true, // 是否绘制左侧相位\n            showRoadAsideLine: true, // 显示道路边线\n            showLaneDashedLine: true, // 显示道路虚线\n            showManRoadLine: true, // 显示斑马线\n            showStopLine: true, // 显示停车线\n            showManRoad: true, // 显示行人车道\n            showLaneFlow: true, // 显示车道流向\n            showRoadName: true, // 显示路口名称\n            laneFlowOffetStopLine: 0, // 车道流向离停车线的距离 车道宽度的倍数\n\n            routeNameColor: \"#000000\", // 默认路口名称颜色\n            defaultFlowColor: \"#008aaf\", // 默认流向颜色\n            HighLightFlowColor: \"#00ec00\", // 高亮流向颜色\n            saturationFlowColor: \"#ffffff\", // 饱和度流向颜色\n            phaseBackColor: \"#ffffff\", // 相位背景颜色\n            laneBackColor: \"#283349\", // 车道背景颜色\n            phaseNumColor: \"#446a86\", // 相位号颜色\n            redColor: \"#FF0000\", // 红色\n            greenColor: \"#00EC00\", // 绿色\n            yellowColor: \"#E1E100\", // 黄色\n            greyColor: \"#cccccc\", // 灰色\n          },\n          props.option\n        );\n      },\n\n      clearHandler() {\n        modelStage && modelStage.destroy();\n        // 基础\n        baseLayer && baseLayer.destroy();\n        // 实时信息\n        realLayer && realLayer.destroy();\n        phaseStage && phaseStage.destroy();\n        phaseLayer && phaseLayer.destroy();\n        // 相邻路口\n        // this.adjacentLayrt && this.adjacentLayrt.destroy()\n        modelStage = null;\n        baseLayer = null;\n        realLayer = null;\n        phaseStage = null;\n        phaseLayer = null;\n        // 路口数据\n        cross = null;\n      },\n      /**\n       * @name wsx\n       * @Date 2021-07-21 19:37:23\n       * @introduction 绘制路口模型\n       * @description 详细描述\n       * @param {参数类型} 参数 参数说明\n       * @return {返回类型说明}\n       * @exception [违例类型] [违例类型说明]\n       */\n      init(interData: any) {\n        if (modelStage) {\n          this.clearHandler();\n        }\n        state.interType = interData.is_have_son;\n        methods.getDrawOption();\n        console.log();\n        clientWidth = tfInterModel.value.clientWidth;\n        clientHeight = tfInterModel.value.clientHeight;\n        if (!clientWidth || !clientHeight) {\n          return;\n        }\n        baseLayerWidth = Math.min(clientWidth, clientHeight);\n        // 1、初始化canvas场景：Stage\n        modelStage = new Konva.Stage({\n          // scale: { x: 1, y: -1 },\n          // container: this.$el,\n          container: scTfInterBox.value,\n          width: clientWidth,\n          height: clientHeight,\n        });\n        // 1.1 保障路口基础图层是正方形，居中\n        let width, height;\n        let x = 0;\n        let y = 0;\n        // eslint-disable-next-line prefer-const\n        width = height = baseLayerWidth;\n        if (clientWidth > clientHeight) {\n          x = (clientWidth - clientHeight) / 2;\n        } else {\n          y = -(clientWidth - clientHeight) / 2;\n        }\n        baseLayer = new Konva.Layer({\n          x: state.drawOption.drawPhase\n            ? x + width / 2 + width / 12\n            : x + width / 2,\n          y: y + height / 2,\n        });\n        baseLayer.height = height;\n        baseLayer.width = height;\n        modelStage.add(baseLayer);\n        methods.drawInter(interData);\n      },\n      /**\n       * @name wsx\n       * @Date 2021-07-26 13:21:03\n       * @introduction 简述\n       * @description 详细描述\n       * @param {参数类型} interData 路口模型数据\n       * @return {返回类型说明}\n       * @exception [违例类型] [违例类型说明]\n       */\n      drawInter(interData: any) {\n        const me = this;\n        const drawInterData = this.resetInterData(interData);\n        cross = new CrossInfo(drawInterData);\n        // 根据数据绘画\n        const roadPolygonShape = new Konva.Shape({\n          stroke: \"#23324b\",\n          strokeWidth: 5,\n          fill: state.drawOption.laneBackColor,\n          // a Konva.Canvas renderer is passed into the sceneFunc function\n          sceneFunc(context: any, shape: any) {\n            context.beginPath();\n            const roadPolygon = cross.entranceArray\n              .map((info: any) => {\n                return info.polygonData.RoadPolygon;\n              })\n              .flat();\n            roadPolygon.forEach((element: any, index: number) => {\n              if (index === 0) {\n                context.moveTo(element[0], -element[1]);\n              } else {\n                context.lineTo(element[0], -element[1]);\n              }\n            });\n            context.closePath();\n            context.fillStrokeShape(shape);\n          },\n        });\n        baseLayer.add(roadPolygonShape);\n\n        // 过滤匝道\n        if (state.interType === 3) {\n          drawMethods.drawRoundabout();\n        }\n\n        cross.entranceArray.map((info: any, index: number) => {\n          // 1、白色划线部分：人行道、车道线、虚线\n          const whitePolygonShape = new Konva.Shape({\n            stroke: \"#ffffff\",\n            fill: \"#ffffff\",\n            strokeWidth: 1,\n            opacity: 1,\n            sceneFunc(context: any, shape: any) {\n              context.beginPath();\n              // 人行道\n              if (state.drawOption.showManRoadLine) {\n                info.lineData.manRoadLine.forEach((info: any) => {\n                  info.forEach((element: any, index: number) => {\n                    if (index === 0) {\n                      context.moveTo(element[0], -element[1]);\n                    } else {\n                      context.lineTo(element[0], -element[1]);\n                    }\n                  });\n                });\n              }\n              // 车道边线\n              if (state.drawOption.showRoadAsideLine) {\n                info.lineData.carRoadLine0.forEach((info: any, i: number) => {\n                  info.forEach((element: any, index: number) => {\n                    if (index === 0) {\n                      context.moveTo(element[0], -element[1]);\n                    } else {\n                      context.lineTo(element[0], -element[1]);\n                    }\n                  });\n                });\n              }\n              // 车道停车线\n              if (state.drawOption.showStopLine) {\n                info.lineData.carRoadLine1.forEach((info: any, i: number) => {\n                  info.forEach((element: any, index: any) => {\n                    if (index === 0) {\n                      context.moveTo(element[0], -element[1]);\n                    } else {\n                      context.lineTo(element[0], -element[1]);\n                    }\n                  });\n                });\n              }\n              // 虚线\n              if (\n                state.drawOption.showLaneDashedLine &&\n                state.interType !== 2\n              ) {\n                info.lineData.carRoadLine2.forEach((info: any) => {\n                  info.forEach((element: any, index: any) => {\n                    if (index === 0) {\n                      context.moveTo(element[0], -element[1]);\n                    } else {\n                      context.lineTo(element[0], -element[1]);\n                    }\n                  });\n                });\n              }\n              context.closePath();\n              context.fillStrokeShape(shape);\n            },\n          });\n          baseLayer.add(whitePolygonShape);\n\n          // 普通路口-父子路口\n          if (state.interType !== 2) {\n            // 显示道路虚线\n            if (state.drawOption.showLaneDashedLine) {\n              // 绘制公交专用车道/潮汐车道\n              const yellowPolygonShape = new Konva.Shape({\n                stroke: state.drawOption.yellowColor,\n                fill: state.drawOption.yellowColor,\n                strokeWidth: 1,\n                opacity: 1,\n                sceneFunc(context: any, shape: any) {\n                  context.beginPath();\n                  info.lineData.carRoadLine4.forEach((info: any) => {\n                    info.forEach((element: any, index: any) => {\n                      if (index === 0) {\n                        context.moveTo(element[0], -element[1]);\n                      } else {\n                        context.lineTo(element[0], -element[1]);\n                      }\n                    });\n                  });\n                  context.closePath();\n                  context.fillStrokeShape(shape);\n                },\n              });\n              baseLayer.add(yellowPolygonShape);\n\n              // 进口绘制辅道分割线\n              const option = {\n                stroke: state.drawOption.greenColor,\n                strokeWidth: 2,\n              };\n              drawMethods.drawLine(info.lineData.fdsplitLine, option);\n\n              // 待驶区\n              info.correctPoint.pointWaitArea.forEach((it: any) => {\n                const lineData: any = [];\n                it.forEach((itt: any) => {\n                  lineData.push(itt.x);\n                  lineData.push(-itt.y);\n                });\n                let greenLine = new Konva.Line({\n                  points: lineData,\n                  stroke: \"#ffffff\",\n                  strokeWidth: 1,\n                  lineJoin: \"round\",\n                  dash: [3, 5],\n                  lineCap: \"round\",\n                  // tension: 0.5\n                });\n                baseLayer.add(greenLine);\n              });\n            }\n\n            // 绘制人行道\n            if (state.drawOption.showManRoad) {\n              const manRoadPolygonShape = new Konva.Shape({\n                fill: \"black\",\n                sceneFunc(context: any, shape: any) {\n                  context.beginPath();\n                  const data = [\n                    info.polygonData.walkwayPolygonR,\n                    cross.entranceArray[\n                      index === 0 ? cross.entranceArray.length - 1 : index - 1\n                    ].polygonData.walkwayPolygonL,\n                  ].flat();\n                  data.forEach((element, index) => {\n                    if (index === 0) {\n                      context.moveTo(element[0], -element[1]);\n                    } else {\n                      context.lineTo(element[0], -element[1]);\n                    }\n                  });\n                  context.closePath();\n                  context.fillStrokeShape(shape);\n                },\n              });\n              baseLayer.add(manRoadPolygonShape);\n            }\n          } else {\n            // 匝道\n            if (state.drawOption.showLaneDashedLine) {\n              info.lineData.carRoadLine2.forEach((info: any) => {\n                var dash = new Konva.Line({\n                  points: [info[0][0], -info[0][1], info[1][0], -info[1][1]],\n                  stroke: \"#ffffff\",\n                  strokeWidth: 1,\n                  lineJoin: \"round\",\n                  dash: [8, 8],\n                });\n                baseLayer.add(dash);\n              });\n            }\n          }\n\n          // 车道分割线部分：单黄线/双黄线/绿化带\n          if (info.road_center_mode === \"greenArea\") {\n            drawMethods.drawPolygon(info.lineData.carRoadLine3[0], {\n              fill: state.drawOption.greenColor,\n              stroke: state.drawOption.greenColor,\n            });\n          } else {\n            drawMethods.drawLine(info.lineData.carRoadLine3, {\n              stroke: state.drawOption.yellowColor,\n            });\n          }\n\n          // 4、车道名称\n          if (state.drawOption.showRoadName) {\n            var roadText = new Konva.Text({\n              x: info.correctPoint.roadName.x,\n              y: -info.correctPoint.roadName.y,\n              text: info.name,\n              fontSize: 12,\n              fontFamily: \"Calibri\",\n              fill: state.drawOption.routeNameColor,\n              rotation: drawMethods.getTextRotationByDegree(info.degree),\n            });\n            drawMethods.offsetText(roadText, info.degree);\n            baseLayer.add(roadText);\n          }\n          // 绘制车道流向\n          if (state.drawOption.showLaneFlow) {\n            // 车道流向\n            const laneFlowPolygonShape = new Konva.Shape({\n              stroke: \"white\",\n              strokeWidth: 1.5,\n              sceneFunc(context: any, shape: any) {\n                const data = info.polygonData.laneFlowPolygon;\n                data.forEach((it: any, i: any) => {\n                  context.beginPath();\n                  it.forEach((itt: any, j: any) => {\n                    if (j === 0) {\n                      context.moveTo(itt[0], -itt[1]);\n                    } else {\n                      context.lineTo(itt[0], -itt[1]);\n                    }\n                  });\n                  context.closePath();\n                  context.fillStrokeShape(shape);\n                });\n              },\n            });\n            baseLayer.add(laneFlowPolygonShape);\n          }\n        });\n        // 要在后面绘制，防止覆盖\n        cross.entranceArray.map((info: any, index: any) => {\n          if (state.interType !== 2) {\n            // 绘制右转渠化\n            info.canalization && drawMethods.drawCanalization(info.en_id);\n            // 二次过街绘制 安全岛\n            info.twice_crossing_street &&\n              drawMethods.drawTwiceIsland(info.en_id);\n            // 添加非机动车标志\n            drawMethods.drawBikeLogo(info);\n          }\n        });\n        baseLayer.draw();\n      },\n\n      // 重置路口数据\n      resetInterData(interData: any) {\n        // 判断是否有右转渠化\n        const newData = JSON.parse(\n          JSON.stringify({\n            ...interData,\n            drawOption: state.drawOption,\n            baseWidth: baseLayerWidth,\n            clientWidth: clientWidth,\n            clientHeight: clientHeight,\n            expandManRadian: false,\n            centerLineMode: state.drawOption.centerLineMode,\n          })\n        );\n        if (state.interType === 3) {\n          newData.expandManRadian = true;\n        }\n        newData.entrances.forEach((it: any, i: any) => {\n          if (it.canalization && it.canalization !== 0) {\n            newData.expandManRadian = true;\n            // 有单独出口的要添加右出口的出口车道\n            if (it.canalization === 2 || it.canalization === 4) {\n              const entrance =\n                newData.entrances[i > 0 ? i - 1 : newData.entrances.length - 1];\n              entrance.exit_lanes.push({\n                id: entrance.exit_lanes.length + 1,\n                lane_flow: 2,\n              });\n            }\n          }\n        });\n        return newData;\n      },\n    };\n    //---------------------------------------------drawMixins---------------------------------------------\n    const drawMethods = {\n      initLayer() {\n        realLayer && realLayer.destroy();\n        let width, height;\n        let x = 0;\n        let y = 0;\n        width = height = baseLayerWidth;\n        if (clientWidth > clientHeight) {\n          x = (clientWidth - clientHeight) / 2;\n        } else {\n          y = -(clientWidth - clientHeight) / 2;\n        }\n        realLayer = new Konva.Layer({\n          x: state.drawOption.drawPhase\n            ? x + width / 2 + width / 12\n            : x + width / 2,\n          y: y + height / 2,\n        });\n        realLayer.height = height;\n        realLayer.width = height;\n        modelStage.add(realLayer);\n      },\n      // 根据方向id获取进口id\n      getEnidWithDirection(enter_port_direction: any) {\n        let en_id = null;\n        const item: any = cross.entrances.find((it: any) => {\n          return it.orientation === enter_port_direction;\n        });\n        if (item) {\n          en_id = item.en_id;\n        }\n        return en_id;\n      },\n      // 绘制进口流向\n      drawRoadFlow(movements: any, cb: any) {\n        const sortMovement = this.getSortMovement(movements);\n        sortMovement.forEach((it: any, i: any) => {\n          if (cross.entranceArray[i].in) {\n            // 主道流向\n            it.flowList.forEach((itt: any, j: any) => {\n              if (itt.if_control) {\n                const entrance = cross.entranceArray[it.en_id - 1];\n                const startPoint = this.getStartPoint(\n                  itt.movements_type,\n                  j,\n                  it,\n                  \"main\"\n                );\n                const flowData = getDrawFlowData(\n                  startPoint,\n                  CrossConst.roadWidth,\n                  itt.movements_type,\n                  entrance\n                );\n                const rotateFlowData = this.getRotateData(\n                  flowData,\n                  entrance.angle\n                );\n                this.drawRoadFlowWithData(rotateFlowData, itt, cb);\n              }\n            });\n            // 辅道流向\n            it.fdflowList.forEach((itt: any, j: any) => {\n              if (itt.if_control) {\n                const entrance = cross.entranceArray[it.en_id - 1];\n                const startPoint = this.getStartPoint(\n                  itt.movements_type,\n                  j,\n                  it,\n                  \"fd\"\n                );\n                const flowData = getDrawFlowData(\n                  startPoint,\n                  CrossConst.roadWidth,\n                  itt.movements_type,\n                  entrance,\n                  \"fd\"\n                );\n                const rotateFlowData = this.getRotateData(\n                  flowData,\n                  entrance.angle\n                );\n                this.drawRoadFlowWithData(rotateFlowData, itt, cb);\n              }\n            });\n          }\n        });\n      },\n\n      // 绘制进口流向\n      drawRoadFlowWithData(rotateFlowData: any, itt: any, cb: any) {\n        let roadFlowPolygonShape = new Konva.Shape({\n          stroke: itt.if_release\n            ? state.drawOption.HighLightFlowColor\n            : state.drawOption.defaultFlowColor,\n          fill: itt.if_release\n            ? state.drawOption.HighLightFlowColor\n            : state.drawOption.defaultFlowColor,\n          strokeWidth: 1,\n          info: itt,\n          sceneFunc(context: any, shape: any) {\n            context.beginPath();\n            rotateFlowData.forEach((itt: any, j: any) => {\n              if (j === 0) {\n                context.moveTo(itt.x, -itt.y);\n              } else {\n                context.lineTo(itt.x, -itt.y);\n              }\n            });\n            context.closePath();\n            context.fillStrokeShape(shape);\n          },\n        });\n        if (cb) {\n          roadFlowPolygonShape.on(\"click\", function (e: any) {\n            cb(e.target.attrs.info);\n          });\n        }\n        baseLayer.add(roadFlowPolygonShape);\n      },\n\n      // 获取旋转后点位\n      getRotateData(flowData: any, angle: any) {\n        let rotatePoins: any = [];\n        if (Array.isArray(flowData)) {\n          rotatePoins = [];\n          flowData.forEach((info, index) => {\n            if (Array.isArray(info)) {\n              rotatePoins[index] = [];\n              info.map((it) => {\n                rotatePoins[index].push(\n                  Util.pointRotateAngel(it, -angle, [0, 0])\n                );\n              });\n            } else {\n              rotatePoins.push(Util.pointRotateAngel(info, -angle, [0, 0]));\n            }\n          });\n        } else {\n          rotatePoins = Util.pointRotateAngel(flowData, -angle, [0, 0]);\n        }\n        return rotatePoins;\n      },\n\n      // 获取进口主道数量以及辅道数量\n      getEntranceLaneNum(enterInfo: any) {\n        let mainIn = enterInfo.in;\n        let fdIn = 0;\n        const index = enterInfo.motor_lanes.findIndex(\n          (it: any) => it.lane_type === 4\n        );\n        if (index > -1) {\n          fdIn = mainIn - index - 1;\n          mainIn = index + 1;\n        }\n        return { mainIn, fdIn };\n      },\n\n      /**\n       * @name wsx\n       * @Date 2021-08-24 17:15:03\n       * @introduction 获取绘制路口流向起始点位 左下角点位\n       * @description 详细描述\n       * @param {参数类型} 参数 en_id 进口id  movementsType 流向类型 j第几个流向  laneFlowTotal车道流向数量 ,type:主道'main'辅道'fd'\n       * @return {返回类型说明}\n       * @exception [违例类型] [违例类型说明]\n       */\n      getStartPoint(movementsType: any, j: any, it: any, type: any) {\n        const { en_id, laneFlowTotal, fdlaneFlowTotal } = it;\n        let enterInfo = cross.entranceArray[en_id - 1];\n        const { mainIn } = this.getEntranceLaneNum(enterInfo);\n        // 绘制的顶点\n        const { x: x1, y: y1 } = enterInfo.point.H0[enterInfo.in];\n        const { y: y2 } = enterInfo.point.H0[enterInfo.in - 1];\n        const roadWidth = CrossConst.roadWidth;\n        let laneOffset = y2 - y1;\n        let offsetX = 0;\n        let offsetY = -2 * roadWidth;\n        let startPoint = [0, 0];\n        if (\n          movementsType === 4 ||\n          movementsType === 10 ||\n          movementsType === 11\n        ) {\n          // 人行流向\n          offsetX = 0;\n          offsetY +=\n            CrossConst.manCarInterval +\n            CrossConst.manRoadLength / 2 +\n            2 * roadWidth;\n        } else if (\n          movementsType === 12 ||\n          movementsType === 13 ||\n          movementsType === 14\n        ) {\n          if (fdlaneFlowTotal) {\n            // 存在辅道流向\n            if (enterInfo.in <= laneFlowTotal + fdlaneFlowTotal) {\n              offsetX =\n                (laneFlowTotal + fdlaneFlowTotal) * roadWidth +\n                (roadWidth * (j - laneFlowTotal) * 3) / 4;\n              offsetY +=\n                laneOffset * (laneFlowTotal + fdlaneFlowTotal) +\n                (laneOffset * (j - laneFlowTotal) * 3) / 4;\n            } else {\n              offsetX =\n                enterInfo.in * roadWidth +\n                (roadWidth * (j - laneFlowTotal) * 3) / 4;\n              offsetY +=\n                laneOffset * enterInfo.in +\n                (laneOffset * (j - laneFlowTotal) * 3) / 4;\n            }\n          } else {\n            // 不存在辅道流向\n            if (enterInfo.in <= laneFlowTotal) {\n              offsetX =\n                laneFlowTotal * roadWidth +\n                (roadWidth * (j - laneFlowTotal) * 3) / 4;\n              offsetY +=\n                laneOffset * laneFlowTotal +\n                (laneOffset * (j - laneFlowTotal) * 3) / 4;\n            } else {\n              offsetX =\n                enterInfo.in * roadWidth +\n                (roadWidth * (j - laneFlowTotal) * 3) / 4;\n              offsetY +=\n                laneOffset * enterInfo.in +\n                (laneOffset * (j - laneFlowTotal) * 3) / 4;\n            }\n          }\n        } else {\n          if (fdlaneFlowTotal) {\n            // 存在辅道流向\n            if (enterInfo.in <= laneFlowTotal + fdlaneFlowTotal) {\n              if (type === \"main\") {\n                offsetX += CrossConst.roadWidth * j;\n                offsetY += laneOffset * j;\n              } else if (type === \"fd\") {\n                offsetX += CrossConst.roadWidth * (j + laneFlowTotal);\n                offsetY += laneOffset * (j + laneFlowTotal);\n              }\n            } else {\n              // 只有一个流向的话，根据流向确定位置\n              if (type === \"main\") {\n                if (laneFlowTotal === 1) {\n                  // 流向直\n                  if (movementsType === 2 || movementsType === 7) {\n                    offsetX += (CrossConst.roadWidth * (mainIn - 1)) / 2;\n                    offsetY +=\n                      laneOffset * ((CrossConst.roadWidth * (mainIn - 1)) / 2);\n                  }\n                  // 流向带右边\n                  if (movementsType === 3 || movementsType === 6) {\n                    offsetX += CrossConst.roadWidth * (mainIn - 1);\n                    offsetY += laneOffset * (mainIn - 1);\n                  }\n                }\n                if (laneFlowTotal > 1) {\n                  offsetX +=\n                    ((CrossConst.roadWidth * (enterInfo.in - 1)) /\n                      (laneFlowTotal - 1)) *\n                    j;\n                  offsetY +=\n                    ((laneOffset * (enterInfo.in - 1)) / (laneFlowTotal - 1)) *\n                    j;\n                }\n              } else if (type === \"fd\") {\n                offsetX +=\n                  ((CrossConst.roadWidth * (enterInfo.in - 1)) /\n                    (laneFlowTotal + fdlaneFlowTotal - 1)) *\n                  (j + laneFlowTotal);\n                offsetY +=\n                  ((laneOffset * (enterInfo.in - 1)) /\n                    (laneFlowTotal + fdlaneFlowTotal - 1)) *\n                  (j + laneFlowTotal);\n              }\n            }\n          } else {\n            // 不存在辅道流向\n            if (enterInfo.in <= laneFlowTotal) {\n              offsetX += CrossConst.roadWidth * j;\n              offsetY += laneOffset * j;\n            } else {\n              // 只有一个流向的话，根据流向确定位置\n              if (laneFlowTotal === 1) {\n                // 流向直\n                if (movementsType === 2 || movementsType === 7) {\n                  offsetX += (CrossConst.roadWidth * (enterInfo.in - 1)) / 2;\n                  offsetY +=\n                    laneOffset *\n                    ((CrossConst.roadWidth * (enterInfo.in - 1)) / 2);\n                }\n                // 流向带右边\n                if (movementsType === 3 || movementsType === 6) {\n                  offsetX += CrossConst.roadWidth * (enterInfo.in - 1);\n                  offsetY += laneOffset * (enterInfo.in - 1);\n                }\n              }\n              if (laneFlowTotal > 1) {\n                offsetX +=\n                  ((CrossConst.roadWidth * (enterInfo.in - 1)) /\n                    (laneFlowTotal - 1)) *\n                  j;\n                offsetY +=\n                  ((laneOffset * (enterInfo.in - 1)) / (laneFlowTotal - 1)) * j;\n              }\n            }\n          }\n        }\n        startPoint = [x1 + offsetX, y1 + offsetY];\n        return startPoint;\n      },\n\n      // 流向按照进口-左至右绘制顺序排序 enter_port_direction\n      getSortMovement(movements: any) {\n        let sortMovement: any = [];\n        cross.entranceArray.forEach((it: any, i: any) => {\n          const enterMove = movements.filter((itt: any) => {\n            const en_id = drawMethods.getEnidWithDirection(\n              itt.enter_port_direction\n            );\n            return en_id === it.en_id && itt.if_control;\n          });\n          // 流向带左\n          const leftArray = enterMove.filter((itt: any) => {\n            return (\n              (itt.movements_type === 1 ||\n                itt.movements_type === 5 ||\n                itt.movements_type === 8 ||\n                itt.movements_type === 9) &&\n              !itt.fd_flow\n            );\n          });\n          // 辅道流向左边\n          const leftFdArray = enterMove.filter((itt: any) => {\n            return (\n              (itt.movements_type === 1 ||\n                itt.movements_type === 5 ||\n                itt.movements_type === 8 ||\n                itt.movements_type === 9) &&\n              itt.fd_flow\n            );\n          });\n          // 流向直\n          const centerArray = enterMove.filter((itt: any) => {\n            return (\n              (itt.movements_type === 2 || itt.movements_type === 7) &&\n              !itt.fd_flow\n            );\n          });\n          // 辅道流向直\n          const centerFdArray = enterMove.filter((itt: any) => {\n            return (\n              (itt.movements_type === 2 || itt.movements_type === 7) &&\n              itt.fd_flow\n            );\n          });\n          // 流向带右\n          const rightArray = enterMove.filter((itt: any) => {\n            return (\n              (itt.movements_type === 3 || itt.movements_type === 6) &&\n              !itt.fd_flow\n            );\n          });\n          // 辅道流向带右\n          const rightFdArray = enterMove.filter((itt: any) => {\n            return (\n              (itt.movements_type === 3 || itt.movements_type === 6) &&\n              itt.fd_flow\n            );\n          });\n          // 流向人行\n          const manArray = enterMove.filter((itt: any) => {\n            return (\n              (itt.movements_type === 4 ||\n                itt.movements_type === 10 ||\n                itt.movements_type === 11) &&\n              !itt.fd_flow\n            );\n          });\n          // 非机动车左  直  左直\n          const nonArray = enterMove.filter((itt: any) => {\n            return (\n              (itt.movements_type === 12 ||\n                itt.movements_type === 13 ||\n                itt.movements_type === 14) &&\n              !itt.fd_flow\n            );\n          });\n          sortMovement.push({\n            en_id: it.en_id,\n            laneFlowTotal:\n              leftArray.length + centerArray.length + rightArray.length,\n            flowList: [\n              ...leftArray,\n              ...centerArray,\n              ...rightArray,\n              ...nonArray,\n              ...manArray,\n            ],\n            fdlaneFlowTotal:\n              leftFdArray.length + centerFdArray.length + rightFdArray.length,\n            fdflowList: [...leftFdArray, ...centerFdArray, ...rightFdArray],\n          });\n        });\n        return sortMovement;\n      },\n\n      // 绘制流向饱和度\n      drawFlowSaturation(flowSaturation: any) {\n        flowSaturation.forEach((it: any, i: any) => {\n          const enterInfo = cross.entranceArray[it.enter_port_direction - 1];\n          if (enterInfo.in) {\n            const flowData =\n              enterInfo.polygonData.roadFlowPolygon[it.movements_type - 1];\n            // 绘制饱和度流向\n            const roadFlowPolygonShape = new Konva.Shape({\n              stroke: state.drawOption.saturationFlowColor,\n              fill: state.drawOption.saturationFlowColor,\n              strokeWidth: 1,\n              info: it,\n              sceneFunc(context: any, shape: any) {\n                context.beginPath();\n                flowData.forEach((itt: any, j: any) => {\n                  if (j === 0) {\n                    context.moveTo(itt[0], -itt[1]);\n                  } else {\n                    context.lineTo(itt[0], -itt[1]);\n                  }\n                });\n                context.closePath();\n                context.fillStrokeShape(shape);\n              },\n            });\n            baseLayer.add(roadFlowPolygonShape);\n\n            const { x, y } =\n              enterInfo.correctPoint.pointRoadFlowText[it.movements_type - 1];\n            // 绘制饱和度\n            let saturationText = new Konva.Text({\n              x: x,\n              y: -y,\n              text: it.data,\n              fontSize: 12,\n              fontFamily: \"Calibri\",\n              fill: state.drawOption.saturationFlowColor,\n              rotation: this.getTextRotationByDegree(enterInfo.degree),\n            });\n            this.offsetText(saturationText, enterInfo.degree);\n            baseLayer.add(saturationText);\n          }\n        });\n      },\n      // 绘制车道或者进出口背景\n      fillEntranceOrLaneBack(fillData: any) {\n        fillData.forEach((it: any) => {\n          const enterInfo = cross.entranceArray[it.en_id - 1];\n          const inNum = enterInfo.in;\n          const outNum = enterInfo.out;\n          let index1 = 0;\n          let index2 = 0;\n          let polygonData = [];\n          // 1进口填充\n          if (it.fillType === 1) {\n            // 进口方向\n            if (it.fillDirection === 1) {\n              index1 = 0;\n              index2 = inNum;\n            } else if (it.fillDirection === 2) {\n              // 出口方向\n              index1 =\n                inNum + this.getOutLineOffset(enterInfo.road_center_mode);\n              index2 =\n                inNum +\n                outNum +\n                this.getOutLineOffset(enterInfo.road_center_mode);\n            }\n          } else if (it.fillType === 2) {\n            // 2车道填充\n            if (it.fillDirection === 1) {\n              index1 = inNum - it.laneNumber + 1;\n              index2 = inNum - it.laneNumber;\n            } else if (it.fillDirection === 2) {\n              // 出口方向\n              index1 =\n                inNum +\n                it.laneNumber +\n                this.getOutLineOffset(enterInfo.road_center_mode);\n              index2 =\n                inNum +\n                it.laneNumber +\n                this.getOutLineOffset(enterInfo.road_center_mode) -\n                1;\n            }\n          }\n          const H0 = enterInfo.point.H0;\n          const H2 = enterInfo.point.H2;\n          let point1 = Util.pointRotateAngel(H0[index1], -enterInfo.angle);\n          let point2 = Util.pointRotateAngel(H0[index2], -enterInfo.angle);\n          let point3 = Util.pointRotateAngel(H2[index2], -enterInfo.angle);\n          let point4 = Util.pointRotateAngel(H2[index1], -enterInfo.angle);\n          if (it.length) {\n            point3 = Util.pointRotateAngel(\n              {\n                x: H0[index2].x,\n                y: H0[index2].y - CrossConst.roadWidth * it.length,\n              },\n              -enterInfo.angle\n            );\n            point4 = Util.pointRotateAngel(\n              {\n                x: H0[index1].x,\n                y: H0[index1].y - CrossConst.roadWidth * it.length,\n              },\n              -enterInfo.angle\n            );\n          }\n          polygonData = [\n            [point1.x, point1.y],\n            [point2.x, point2.y],\n            [point3.x, point3.y],\n            [point4.x, point4.y],\n          ];\n          this.drawPolygon(polygonData, it.style);\n        });\n      },\n\n      getOutLineOffset(roadCenterMode: any) {\n        let offset = 0;\n        if (roadCenterMode && roadCenterMode !== \"singleYellowLine\") {\n          offset = 1;\n        }\n        return offset;\n      },\n\n      // 绘制进口高亮\n      drawEntranceHighLight(lightData: any) {\n        lightData.forEach((it: any) => {\n          const enterInfo = cross.entranceArray[it.en_id - 1];\n          const inNum = enterInfo.in;\n          let lineDatas = [];\n          const H0 = enterInfo.point.H0;\n          const H2 = enterInfo.point.H2;\n          let point1 = Util.pointRotateAngel(H0[0], -enterInfo.angle);\n          let point2 = Util.pointRotateAngel(H0[inNum], -enterInfo.angle);\n          let point3 = Util.pointRotateAngel(H2[inNum], -enterInfo.angle);\n          let point4 = Util.pointRotateAngel(H2[0], -enterInfo.angle);\n          if (it.length) {\n            point3 = Util.pointRotateAngel(\n              {\n                x: H0[inNum].x,\n                y: H0[inNum].y - CrossConst.roadWidth * it.length,\n              },\n              -enterInfo.angle\n            );\n            point4 = Util.pointRotateAngel(\n              { x: H0[0].x, y: H0[0].y - CrossConst.roadWidth * it.length },\n              -enterInfo.angle\n            );\n          }\n          lineDatas = [\n            [\n              [point1.x, point1.y],\n              [point2.x, point2.y],\n            ],\n            [\n              [point2.x, point2.y],\n              [point3.x, point3.y],\n            ],\n            [\n              [point1.x, point1.y],\n              [point4.x, point4.y],\n            ],\n          ];\n          this.drawLine(lineDatas, it.style);\n        });\n      },\n\n      // 绘制相邻关系\n      drawAdjacentInfo(adjacentList: any, cb: any) {\n        const me = this;\n        const adjacentMap: any = {};\n        adjacentList.forEach((it: any) => {\n          adjacentMap[it.entrance_id] = it;\n        });\n        cross.entranceArray.forEach((info: any) => {\n          const adjacentInfo = adjacentMap[info.en_id];\n          if (adjacentInfo) {\n            const point = this.getNearPoint(info);\n            let img = new Konva.Image({\n              image: nearImg,\n              width: CrossConst.roadWidth * 1.5,\n              height: CrossConst.roadWidth * 1.5,\n              x: point.x,\n              y: -point.y,\n              info: adjacentInfo,\n              rotation: this.getImgRotationByDegree(info.degree, 2),\n            });\n            this.offsetImg(img, info.degree, 2);\n            if (cb) {\n              img.on(\"click\", function (e: any) {\n                const info = e.target.attrs.info;\n                cb(info);\n              });\n              img.on(\"mouseover\", function (e: any) {\n                const { x, y } = e.target.attrs;\n                me.drawHoverText(x, y, adjacentInfo.hoverText);\n              });\n              img.on(\"mouseout\", function (e: any) {\n                hoverText.remove();\n                hoverBack.remove();\n              });\n            }\n            baseLayer.add(img);\n          }\n        });\n      },\n      // 获取绘制相邻路口箭头的点位\n      getNearPoint(curEntrance: any) {\n        const { degree } = curEntrance;\n        const width =\n          (state.drawOption.drawPhase\n            ? (clientWidth * 5) / 12\n            : clientWidth / 2) -\n          2 * CrossConst.roadWidth;\n        const height = clientHeight / 2 - 2 * CrossConst.roadWidth;\n        let x = 0;\n        let y = 0;\n        if (degree >= 0 && degree < 45) {\n          x = width;\n          y = -width * Math.tan(Util.toRadian(degree));\n        } else if (degree >= 45 && degree < 90) {\n          const calDegree = 90 - degree;\n          x = height * Math.tan(Util.toRadian(calDegree));\n          y = -height;\n        } else if (degree >= 90 && degree < 135) {\n          const calDegree = degree - 90;\n          x = -height * Math.tan(Util.toRadian(calDegree));\n          y = -height;\n        } else if (degree >= 135 && degree < 180) {\n          const calDegree = 180 - degree;\n          x = -width;\n          y = -width * Math.tan(Util.toRadian(calDegree));\n        } else if (degree >= 180 && degree < 225) {\n          const calDegree = degree - 180;\n          x = -width;\n          y = width * Math.tan(Util.toRadian(calDegree));\n        } else if (degree >= 225 && degree < 270) {\n          const calDegree = 270 - degree;\n          x = -height * Math.tan(Util.toRadian(calDegree));\n          y = height;\n        } else if (degree >= 270 && degree < 315) {\n          const calDegree = degree - 270;\n          x = height * Math.tan(Util.toRadian(calDegree));\n          y = height;\n        } else if (degree >= 315 && degree <= 360) {\n          const calDegree = 360 - degree;\n          x = width;\n          y = width * Math.tan(Util.toRadian(calDegree));\n        }\n        return { x, y };\n      },\n\n      // 绘制非机动车标志\n      drawBikeLogo(info: any) {\n        const imageList = [\n          info.correctPoint.roadPole,\n          info.correctPoint.roadPoleL,\n        ];\n        imageList.forEach((it, i) => {\n          const { x, y } = it;\n          let img = new Konva.Image({\n            image: bikeImg,\n            width: 0.5 * CrossConst.roadWidth,\n            height: 0.5 * CrossConst.roadWidth,\n            x: x,\n            y: -y,\n            rotation: this.getImgRotationByDegree(info.degree, 2),\n          });\n          this.offsetImg(img, info.degree, 2);\n          baseLayer.add(img);\n        });\n      },\n\n      // 绘制车道图标\n      drawLaneImg(laneImgs: any, cb: any) {\n        this.loadImg(laneImgs, (res: any) => {\n          laneImgs.forEach((it: any, i: any) => {\n            const enterInfo = cross.entranceArray[it.en_id - 1];\n            if (enterInfo) {\n              const { x, y } = this.getStopLinePointByLaneNum(it, enterInfo);\n              let img = new Konva.Image({\n                image: res[i],\n                width: 1 * CrossConst.roadWidth,\n                height: 1 * CrossConst.roadWidth,\n                x: x,\n                y: -y,\n                info: it,\n                rotation: this.getImgRotationByDegree(\n                  enterInfo.degree,\n                  it.rotateType\n                ),\n              });\n              this.offsetImg(img, enterInfo.degree, it.rotateType);\n              if (cb) {\n                img.on(\"click\", function (e: any) {\n                  const info = e.target.attrs.info;\n                  cb(info);\n                });\n              }\n              baseLayer.add(img);\n            }\n          });\n        });\n      },\n\n      // 提前加载图片\n      loadImg(imageList: any, cb: any) {\n        const loadImgs: any = [];\n        imageList.forEach((it: any) => {\n          const imgload = new window.Promise((resolve, reject) => {\n            const image = new Image();\n            image.onload = function () {\n              resolve(image);\n            };\n            image.src = it.imgUrl;\n          });\n          loadImgs.push(imgload);\n        });\n        window.Promise.all(loadImgs)\n          .then((res) => {\n            if (cb) {\n              cb(res);\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      },\n\n      /**\n       * @name wsx\n       * @Date 2021-08-04 11:05:28\n       * @introduction 获取根据车道id获取车道中心跟停车线偏移一定距离的旋转后的点位\n       * @description 详细描述\n       * @param {参数类型} laneNumber：车道号\n       * @param {参数类型} inNumber：进口车道数\n       * @param {参数类型} offetStopLine：偏移量 车道宽度的倍数\n       * @param {参数类型} H0：停车线跟车道的交点数组\n       * @param {参数类型} angle：车道角度\n       * @return {返回类型说明}\n       * @exception [违例类型] [违例类型说明]\n       */\n      getStopLinePointByLaneNum(it: any, enterInfo: any) {\n        let index = enterInfo.in - it.laneNumber + 1;\n        if (it.laneDirection === 2) {\n          index =\n            enterInfo.in +\n            it.laneNumber +\n            this.getOutLineOffset(enterInfo.road_center_mode);\n        }\n        const { x, y } = enterInfo.point.H0[index];\n        const orgPoint = {\n          x: x + CrossConst.roadWidth / 2,\n          y: y - (it.offetStopLine + 0.5) * CrossConst.roadWidth,\n        };\n        const armPoint = Util.pointRotateAngel(orgPoint, -enterInfo.angle);\n        return armPoint;\n      },\n\n      // 获取图片旋转角度\n      getImgRotationByDegree(degree: any, rotateType = 1) {\n        if (rotateType === 2) {\n          return degree - 90;\n        }\n        let rotation = degree;\n        if (degree > 0 && degree <= 90) {\n          rotation = degree - 90;\n        } else if (degree > 90 && degree <= 180) {\n          rotation = degree - 180;\n        } else if (degree > 180 && degree <= 270) {\n          rotation = degree - 270;\n        }\n        return rotation;\n      },\n      // 添加图片偏移量\n      offsetImg(element: any, degree: any, rotateType = 1) {\n        if (rotateType === 1) {\n          if (degree > 0 && degree <= 90) {\n            element.offsetX(element.width() / 2);\n          } else if (degree > 90 && degree <= 180) {\n            element.offsetX(element.width());\n            element.offsetY(element.height() / 2);\n          } else if (degree > 180 && degree <= 270) {\n            element.offsetX(element.width() / 2);\n            element.offsetY(element.height());\n          } else {\n            element.offsetY(element.height() / 2);\n          }\n        } else if (rotateType === 2) {\n          if (degree >= 0 && degree <= 90) {\n            element.offsetX(element.width() / 2);\n          } else if (degree > 90 && degree <= 180) {\n            element.offsetX(element.width() / 2);\n          } else if (degree > 180 && degree <= 270) {\n            element.offsetX(element.width() / 2);\n          } else {\n            element.offsetX(element.width() / 2);\n          }\n        }\n      },\n\n      // 获取文字旋转角度\n      getTextRotationByDegree(degree: any) {\n        let rotation = degree;\n        if (degree > 90 && degree < 270) {\n          rotation = degree + 180;\n        }\n        return rotation;\n      },\n      // 添加字偏移量\n      offsetText(element: any, degree: any) {\n        if (degree > 90 && degree < 270) {\n          element.offsetX(element.width());\n          element.offsetY(element.height() / 2);\n        } else {\n          element.offsetY(element.height() / 2);\n        }\n      },\n      // 绘制可变车道-获取数据\n      drawVariableLane(variableLaneData: any, click = false, cb: any) {\n        variableLaneData.forEach((it: any, i: any) => {\n          const enterInfo = cross.entranceArray[it.entrance_id - 1];\n          if (enterInfo) {\n            const flowData = getLaneFlowPoint(\n              it.lane_id,\n              it.status,\n              CrossConst,\n              enterInfo,\n              null\n            );\n            const rotateFlowData = this.getRotateData(\n              flowData,\n              enterInfo.angle\n            );\n            this.drawVariableFlow(rotateFlowData);\n            if (click) {\n              const clickPoint = getLaneFlowPoint(\n                it.lane_id,\n                \"variableClick\",\n                CrossConst,\n                enterInfo,\n                null\n              );\n              const rotateFlowData = this.getRotateData(\n                clickPoint,\n                enterInfo.angle\n              );\n              this.drawVariableClickPoint(rotateFlowData[0], it, cb);\n            }\n          }\n        });\n      },\n      // 绘制可变车道 - 绘制\n      drawVariableFlow(rotateFlowData: any) {\n        // 车道流向\n        const laneFlowPolygonShape = new Konva.Shape({\n          stroke: state.drawOption.yellowColor,\n          strokeWidth: 2,\n          sceneFunc(context: any, shape: any) {\n            context.beginPath();\n            rotateFlowData.forEach((it: any, i: any) => {\n              if (i === 0) {\n                context.moveTo(it.x, -it.y);\n              } else {\n                context.lineTo(it.x, -it.y);\n              }\n            });\n            context.closePath();\n            context.fillStrokeShape(shape);\n          },\n        });\n        baseLayer.add(laneFlowPolygonShape);\n      },\n      // 绘制可变车道可以点击的点\n      drawVariableClickPoint(point: any, info: any, cb: any) {\n        let clickPoint = new Konva.Circle({\n          x: point.x,\n          y: -point.y,\n          radius: CrossConst.roadWidth / 4,\n          info: info,\n          fill: state.drawOption.yellowColor,\n        });\n        baseLayer.add(clickPoint);\n        if (cb) {\n          clickPoint.on(\"click\", function (e: any) {\n            const info = e.target.attrs.info;\n            cb(info);\n          });\n        }\n      },\n      // 绘制二次过街安全岛\n      drawTwiceIsland(en_id: any) {\n        let index = en_id - 1;\n        const curEntrance = cross.entranceArray[index];\n        // 获取绘制安全岛点位\n        const { y } = curEntrance.point.H0[curEntrance.in];\n        const greenWidth = CrossConst.greenWidth; // 绿化带宽度\n        // const doubleYellowLineInterval = CrossConst.doubleYellowLineInterval // 双黄线宽度\n        const manRoadLength = CrossConst.manRoadLength; // 双黄线宽度\n        const manCarInterval = CrossConst.manCarInterval; // 双黄线宽度\n        const points: any = [];\n        const width = greenWidth;\n        // 单黄线\n        if (curEntrance.road_center_mode === \"singleYellowLine\") {\n          // const { x: x, y: y } = Util.pointRotateAngel(topPoint, -curEntrance.angle)\n        }\n        this.drawPolygon(points, { fill: \"#2e8348\", opacity: 0.8 });\n        const { x: x1, y: y1 } = Util.pointRotateAngel(\n          { x: -width, y: y + manCarInterval },\n          -curEntrance.angle\n        );\n        const { x: x2, y: y2 } = Util.pointRotateAngel(\n          { x: width, y: y + manCarInterval },\n          -curEntrance.angle\n        );\n        const { x: x3, y: y3 } = Util.pointRotateAngel(\n          { x: width, y: y + manCarInterval + manRoadLength },\n          -curEntrance.angle\n        );\n        const { x: x4, y: y4 } = Util.pointRotateAngel(\n          { x: -width, y: y + manCarInterval + manRoadLength },\n          -curEntrance.angle\n        );\n        points.push([x1, y1]);\n        points.push([x2, y2]);\n        points.push([x3, y3]);\n        points.push([x4, y4]);\n        drawMethods.drawPolygon(points, { fill: \"#2e8348\", opacity: 0.8 });\n      },\n      // 绘制右转渠化 en_id 进口车道id 根据渠化类型，展示不通渠化\n      drawCanalization(en_id: any) {\n        let index = en_id - 1;\n        const len = cross.entranceArray.length;\n        const curEntrance = cross.entranceArray[index];\n        const rightEntrance =\n          cross.entranceArray[index > 0 ? index - 1 : len - 1];\n        let topPoint = curEntrance.point.AR;\n        if (curEntrance.canalization === 1 || curEntrance.canalization === 2) {\n          let bottomPoint = {\n            x: curEntrance.point.BRO.x,\n            y:\n              curEntrance.point.BRO.y +\n              CrossConst.manCarInterval +\n              CrossConst.manRoadLength +\n              CrossConst.roadWidth,\n          };\n          let rightPoint = {\n            x: rightEntrance.point.BLO.x,\n            y:\n              rightEntrance.point.BLO.y +\n              CrossConst.manCarInterval +\n              CrossConst.manRoadLength +\n              CrossConst.roadWidth,\n          };\n          if (curEntrance.canalization === 2) {\n            topPoint.y = topPoint.y + CrossConst.roadWidth;\n            rightPoint.x = rightPoint.x + CrossConst.roadWidth;\n            rightPoint.y = rightPoint.y - CrossConst.roadWidth;\n          }\n          const { x: x, y: y } = Util.pointRotateAngel(\n            topPoint,\n            -curEntrance.angle\n          );\n          const { x: x1, y: y1 } = Util.pointRotateAngel(\n            bottomPoint,\n            -curEntrance.angle\n          );\n          const { x: x3, y: y3 } = Util.pointRotateAngel(\n            rightPoint,\n            -rightEntrance.angle\n          );\n          let canalizationPoints = [[x, y]];\n          const circlePoint = Util.getArcPoint([x1, y1], [x3, y3]);\n          canalizationPoints = canalizationPoints.concat(circlePoint);\n          canalizationPoints.push([x, y]);\n\n          const quhuaArea = [];\n          quhuaArea.push(canalizationPoints);\n          const lineNum = 4;\n          const stepX3 = Math.floor(x3 - x) / lineNum;\n          const stepY3 = Math.floor(y3 - y) / lineNum;\n          const stepX1 = Math.floor(x1 - x) / lineNum;\n          const stepY1 = Math.floor(y1 - y) / lineNum;\n          for (let i = 1; i <= lineNum / 2; i++) {\n            const rowLine = [\n              [x + i * stepX3, y + i * stepY3],\n              [x + i * stepX1, y + i * stepY1],\n            ];\n            quhuaArea.push(rowLine);\n          }\n          this.drawLine(quhuaArea);\n        } else if (\n          curEntrance.canalization === 3 ||\n          curEntrance.canalization === 4\n        ) {\n          let offsetDistanceY = [\n            CrossConst.manCarInterval +\n              CrossConst.manRoadLength +\n              1.5 * CrossConst.roadWidth,\n            CrossConst.manCarInterval,\n            -1 * CrossConst.roadWidth,\n            -3 * CrossConst.roadWidth,\n            -3 * CrossConst.roadWidth,\n          ];\n          let offsetDistanceX = [0, 0, 0, 0, CrossConst.walkwayWidth];\n          const { x: cx, y: cy } = curEntrance.point.BR;\n          const colPoints = offsetDistanceY.map((it, i) => {\n            const itX = offsetDistanceX[i];\n            const { x: x, y: y } = Util.pointRotateAngel(\n              { x: cx - 1 + itX, y: cy + it },\n              -curEntrance.angle\n            );\n            return [x, y];\n          });\n\n          let { x: rx, y: ry } = rightEntrance.point.BL;\n          // 固体岛有专门出口\n          if (curEntrance.canalization === 4) {\n            rx += CrossConst.roadWidth;\n            offsetDistanceY = [\n              CrossConst.manCarInterval +\n                CrossConst.manRoadLength +\n                0.5 * CrossConst.roadWidth,\n              CrossConst.manCarInterval,\n              -1 * CrossConst.roadWidth,\n              -1 * CrossConst.roadWidth,\n              -1 * CrossConst.roadWidth,\n            ];\n            offsetDistanceX = [\n              0,\n              0,\n              0,\n              CrossConst.roadWidth,\n              CrossConst.roadWidth + CrossConst.walkwayWidth,\n            ];\n          }\n          const rowPoints = offsetDistanceY.map((it, i) => {\n            const itX = offsetDistanceX[i];\n            const { x: x, y: y } = Util.pointRotateAngel(\n              { x: rx + 1 - itX, y: ry + it },\n              -rightEntrance.angle\n            );\n            return [x, y];\n          });\n          this.getGtdPolygonData(rowPoints, colPoints);\n          this.getGtdLineData(rowPoints, colPoints);\n        }\n      },\n      // 获取绘制固体岛的数据\n      getGtdLineData(rowPoints: any, colPoints: any) {\n        const quhuaArea = [];\n        let rangeArea: any = [];\n        const circlePoint0 = Util.getArcPoint(colPoints[0], rowPoints[0]);\n        const circlePoint1 = Util.getArcPoint(colPoints[2], rowPoints[2]);\n        rangeArea = rangeArea.concat(circlePoint1);\n        for (let i = circlePoint0.length - 1; i > 0; i--) {\n          rangeArea.push(circlePoint0[i]);\n        }\n        rangeArea = rangeArea.concat(circlePoint1);\n        quhuaArea.push(rangeArea);\n        const circlePoint2 = Util.getArcPoint(colPoints[3], rowPoints[3]);\n        quhuaArea.push(circlePoint2);\n        // 绘制渠化白色线条\n        this.drawLine(quhuaArea);\n      },\n      // 获取绘制固体岛区域的数据\n      getGtdPolygonData(rowPoints: any, colPoints: any) {\n        const circlePoint0 = Util.getArcPoint(colPoints[0], rowPoints[0]);\n        const circlePoint1 = Util.getArcPoint(colPoints[2], rowPoints[2]);\n        const circlePoint2 = Util.getArcPoint(colPoints[3], rowPoints[3]);\n        const circlePoint3 = Util.getArcPoint(colPoints[4], rowPoints[4]);\n        // 固体岛绿色区域\n        let gtdGreenPolygon = [];\n        for (let i = circlePoint0.length - 1; i > 0; i--) {\n          gtdGreenPolygon.push(circlePoint0[i]);\n        }\n        gtdGreenPolygon = gtdGreenPolygon.concat(circlePoint1);\n        this.drawPolygon(gtdGreenPolygon, { fill: \"green\" });\n\n        // 固体岛红色区域\n        // const gtdRedPolygon = []\n        // 固体岛道路区域\n        let gtdRoadPolygon = [];\n        for (let i = circlePoint1.length - 1; i > 0; i--) {\n          gtdRoadPolygon.push(circlePoint1[i]);\n        }\n        gtdRoadPolygon = gtdRoadPolygon.concat(circlePoint2);\n        this.drawPolygon(gtdRoadPolygon, { fill: \"#23324b\" });\n        // 固体岛非机动车区域\n        let gtdNonMotorPolygon = [];\n        for (let i = circlePoint3.length - 1; i > 0; i--) {\n          gtdNonMotorPolygon.push(circlePoint3[i]);\n        }\n        gtdNonMotorPolygon = gtdNonMotorPolygon.concat(circlePoint2);\n        this.drawPolygon(gtdNonMotorPolygon, { fill: \"#000000\" });\n      },\n      // 绘制线条 color = '#fff'\n      drawLine(lineDatas: any, option = {}) {\n        const param = {\n          stroke: \"green\",\n          strokeWidth: 1,\n          ...option,\n        };\n        lineDatas.forEach((it: any) => {\n          const points: any = [];\n          it.forEach((itt: any) => {\n            points.push(itt[0]);\n            points.push(-itt[1]);\n          });\n          const line = new Konva.Line({\n            points: points,\n            ...param,\n          });\n          baseLayer.add(line);\n        });\n      },\n      // 绘制区域\n      drawPolygon(polygonData: any, option: any) {\n        if (!polygonData) {\n          return;\n        }\n        const param = {\n          fill: \"#fff\",\n          strokeWidth: 1,\n          // stroke: '#fff',\n          ...option,\n        };\n        const polygonShape = new Konva.Shape({\n          // stroke: borderColor ? borderColor : '',\n          strokeWidth: 1,\n          // opacity: 1,\n          ...param,\n          // a Konva.Canvas renderer is passed into the sceneFunc function\n          sceneFunc(context: any, shape: any) {\n            context.beginPath();\n            polygonData.forEach((element: any, index: any) => {\n              if (index === 0) {\n                context.moveTo(element[0], -element[1]);\n              } else {\n                context.lineTo(element[0], -element[1]);\n              }\n            });\n            context.closePath();\n            context.fillStrokeShape(shape);\n          },\n        });\n        baseLayer.add(polygonShape);\n      },\n\n      // 绘制hovertext\n      drawHoverText(x: any, y: any, text: any) {\n        hoverText = new Konva.Text({\n          x: x,\n          y: y,\n          text: text,\n          fontSize: 12,\n          fontFamily: \"Calibri\",\n          fill: \"#fff\",\n        });\n        let width = hoverText.width();\n        hoverBack = new Konva.Rect({\n          x: x,\n          y: y,\n          width: width + 10,\n          height: 20,\n          fill: \"#3b4859\",\n          shadowBlur: 10,\n          cornerRadius: 10,\n        });\n        if (x > 0) {\n          hoverText.offsetX(width);\n          hoverBack.offsetX(width + 5);\n        } else {\n          hoverBack.offsetX(5);\n        }\n        hoverBack.offsetY(4);\n        baseLayer.add(hoverBack);\n        baseLayer.add(hoverText);\n      },\n\n      // 绘制环岛\n      drawRoundabout() {\n        const { roadWidth, manRoadLength, manCarInterval } = CrossConst;\n        // 环岛半径\n        let circlrRadia = 5 * roadWidth;\n        // 进口环岛障碍物\n        cross.entranceArray.forEach((it: any) => {\n          let polygonData = [];\n          const { H0 } = it.point;\n          let { x, y } = H0[it.in];\n          y = y + manRoadLength + manCarInterval + 4;\n          const offsetY = Math.max((-y - 2 * roadWidth) / 3, 0);\n          circlrRadia = Math.min(circlrRadia, offsetY * 2);\n          const { x: x1, y: y1 } = Util.pointRotateAngel(\n            { x: x - roadWidth / 2, y: y + offsetY },\n            -it.angle\n          );\n          const { x: x2, y: y2 } = Util.pointRotateAngel({ x, y }, -it.angle);\n          const { x: x3, y: y3 } = Util.pointRotateAngel(\n            { x: x + roadWidth / 2, y: y + offsetY },\n            -it.angle\n          );\n          const circlePoint = Util.getArcPoint([x3, y3], [x1, y1]);\n          polygonData.push([x2, y2]);\n          polygonData = polygonData.concat(circlePoint);\n          this.drawPolygon(polygonData, { fill: \"#2e8348\", opacity: 0.8 });\n        });\n        // 环岛中心岛\n        let circle = new Konva.Circle({\n          x: 0,\n          y: 0,\n          radius: Math.max(circlrRadia, roadWidth),\n          fill: \"#2e8348\",\n        });\n        baseLayer.add(circle);\n\n        let dashCircle = new Konva.Circle({\n          x: 0,\n          y: 0,\n          radius: Math.max(circlrRadia, roadWidth) + roadWidth,\n          stroke: \"#fff\",\n          opacity: 0.5,\n          strokeWidth: 1,\n          dash: [6, 6],\n        });\n        baseLayer.add(dashCircle);\n      },\n    };\n    //---------------------------------------------drawRealMixins---------------------------------------------//\n    const drawRealMethods = {\n      // 绘制实时信息\n      drawRealInfo(realInfo: any, movements: any) {\n        drawMethods.initLayer();\n        // 设置实时信息基础信息\n        this.setRealBaseInfo(realInfo);\n        // 绘制左边相位\n        this.drawPhases(realInfo, movements);\n        // 绘制倒计时\n        this.drawPhaseRemainTime(realInfo.current_phase_remaining_time);\n        // 绘制行人灯\n        cross.is_have_son !== 2 && this.drawWalkMan(realInfo, movements);\n        // 绘制路口模型中间流向\n        this.drawInterPhase(realInfo, movements);\n        // 绘制红绿灯\n        this.drawGreenRedLight(realInfo, movements);\n      },\n      setRealBaseInfo(realInfo: any) {\n        const { ctrl_way } = realInfo;\n        ctrlWay = ctrl_way;\n      },\n      // 绘制左边相位\n      drawPhases(realInfo: any, movements: any) {\n        // 创建相位图层\n        phaseStage && phaseStage.destroy();\n        phaseLayer && phaseLayer.destroy();\n\n        phaseWidth = baseLayerWidth / 6;\n        phaseStage = new Konva.Stage({\n          container: scTfPhaseBox.value,\n          width: phaseWidth,\n          height: Math.max(clientHeight, phaseWidth * realInfo.phase_num),\n        });\n        phaseLayer = new Konva.Layer({\n          x: 0,\n          y: 0,\n        });\n        phaseLayer.width = phaseWidth;\n        phaseLayer.height = Math.max(\n          clientHeight,\n          phaseWidth * realInfo.phase_num\n        );\n        phaseStage.add(phaseLayer);\n        let phaseBack = new Konva.Rect({\n          x: 0,\n          y: 0,\n          width: phaseWidth,\n          height: Math.max(clientHeight, phaseWidth * realInfo.phase_num),\n          fill: state.drawOption.phaseBackColor,\n        });\n        phaseLayer.add(phaseBack);\n        // 如果关灯，就不要绘制具体相位了\n        if (realInfo.ctrl_way === 7) {\n          return;\n        }\n        realInfo.phase_movements_info.forEach((it: any, i: any) => {\n          if (it) {\n            const phaseNum = i + 1;\n            // 主道流向\n            const phaseList = this.getEntrancePhaseList(it, movements, \"main\");\n            // 辅道流向\n            const fdPhaseList = this.getEntrancePhaseList(it, movements, \"fd\");\n            this.darwPhaseWithPhaseList(realInfo, phaseList, phaseNum, \"main\");\n            this.darwPhaseWithPhaseList(realInfo, fdPhaseList, phaseNum, \"fd\");\n          }\n        });\n        this.slideToCurPhase(realInfo.current_phase_num);\n      },\n\n      // 绘制具体相位\n      darwPhaseWithPhaseList(\n        realInfo: any,\n        phaseList: any,\n        phaseNum: any,\n        road_type: any\n      ) {\n        const phasePolygonShap: any = [];\n        phaseList.forEach((it: any, i: any) => {\n          const enterFlowPoint: any = [];\n          if (cross.is_have_son !== 2 || i === 2) {\n            it.forEach((itt: any, j: any) => {\n              const phasePoints = getRealPhasePoint(\n                phaseNum,\n                itt,\n                phaseWidth,\n                road_type\n              );\n              enterFlowPoint.push(phasePoints);\n            });\n          }\n          const rotatePoints = this.rotatePoint(phaseNum, i, enterFlowPoint);\n          phasePolygonShap.push(rotatePoints);\n        });\n        this.drawPhaseBox(\n          phaseWidth,\n          phaseNum,\n          phasePolygonShap,\n          realInfo.current_phase_num\n        );\n      },\n\n      // 滚动到当前相位\n      slideToCurPhase(currentPhaseNum: any) {\n        scTfPhaseBox.value.scrollTop = phaseWidth * (currentPhaseNum - 1);\n      },\n      // 绘制每一个相位\n      drawPhaseBox(\n        phaseWidth: any,\n        phaseNum: any,\n        realPhasePolygonShap: any,\n        currentPhase: any\n      ) {\n        // 绘制相位框\n        let phase = new Konva.Rect({\n          x: 2,\n          y: (phaseNum - 1) * phaseWidth + 2,\n          width: phaseWidth - 4,\n          height: phaseWidth - 4,\n          // fill: '#000',\n          stroke: currentPhase === phaseNum ? \"#ff0000\" : \"#446a86\",\n          strokeWidth: 2,\n        });\n        phaseLayer.add(phase);\n\n        // 绘制相位编号 A B C\n        let phaseCode = new Konva.Text({\n          x: 2 + 2,\n          y: phaseNum * phaseWidth - 18,\n          text: phaseMap.get(phaseNum),\n          fontSize: 16,\n          fontFamily: \"Calibri\",\n          fill: state.drawOption.phaseNumColor,\n        });\n        phaseLayer.add(phaseCode);\n\n        // 绘制每个相位流向\n        realPhasePolygonShap.forEach((it: any) => {\n          it.forEach((itt: any) => {\n            let phaseFlowPolygonShape = new Konva.Shape({\n              stroke: state.drawOption.greenColor,\n              fill: state.drawOption.greenColor,\n              strokeWidth: 1,\n              sceneFunc(context: any, shape: any) {\n                context.beginPath();\n                itt.forEach((ittt: any, j: any) => {\n                  if (j === 0) {\n                    context.moveTo(ittt.x, -ittt.y);\n                  } else {\n                    context.lineTo(ittt.x, -ittt.y);\n                  }\n                });\n                context.closePath();\n                context.fillStrokeShape(shape);\n              },\n            });\n            phaseLayer.add(phaseFlowPolygonShape);\n          });\n        });\n      },\n      // 根据10进制的相位信息,以及流向配置/获取相位信息\n      getEntrancePhaseList(\n        DecMovements: any,\n        movementParas: any,\n        road_type: any\n      ) {\n        let moveList = DecMovements.toString(2).split(\"\");\n        moveList.reverse();\n        const movenents = this.getPhaseListWithBin(\n          moveList,\n          movementParas,\n          \"phase\",\n          road_type\n        );\n        return movenents;\n      },\n      /**\n       * @name wsx\n       * @Date 2022-03-03 16:25:52\n       * @introduction 根据二进制的相位信息,以及流向配置/获取相位信息\n       * @param {参数类型} 参数 参数说明\n       * @param {参数类型} type:'inter' 路口中央的流向1红/2黄/3绿  'phase'方案的流向1放行/2取消 flowType:main fd 主流向还是辅道流向\n       * @return {返回类型说明}\n       * @exception [违例类型] [违例类型说明]\n       */\n      getPhaseListWithBin(\n        moveList: any,\n        movementParas: any,\n        type = \"inter\",\n        road_type = \"main\"\n      ) {\n        const movenents: any = [];\n        let movementMap: any = {};\n        movementParas.forEach((it: any) => {\n          movementMap[it.num_movements] = it;\n        });\n        cross.entranceArray.forEach((it: any, i: any) => {\n          const list: any = [];\n          moveList.forEach((itt: any, j: any) => {\n            const flow = movementMap[j + 1];\n            let bool = false;\n            if (road_type === \"fd\") {\n              if (flow && flow.fd_flow) {\n                bool = true;\n              }\n            } else {\n              if (flow && !flow.fd_flow) {\n                bool = true;\n              }\n            }\n            if (\n              flow &&\n              flow.enter_port_direction === it.en_id &&\n              flow.if_control &&\n              bool\n            ) {\n              if (type === \"phase\") {\n                if (Number(itt)) {\n                  list.push(flow.movements_type);\n                }\n              } else if (type === \"run\") {\n                if (Number(itt) === 2 || Number(itt) === 3) {\n                  list.push(flow.movements_type);\n                }\n              } else {\n                if (Number(itt) !== 1 && Number(itt) !== 0) {\n                  list.push(flow.movements_type);\n                  // }\n                } else {\n                  if (Number(itt) !== 1 && Number(itt) !== 0) {\n                    list.push(flow.movements_type);\n                  }\n                }\n              }\n            }\n          });\n          const phaseMovemenes = this.getPhaseMovementType(list);\n          movenents.push(phaseMovemenes);\n        });\n        return movenents;\n        // return [[1, 2], [1, 2, 3, 4], [1, 2], [1, 2, 3, 4]]\n      },\n\n      /**\n       * @name wsx\n       * @Date 2022-03-03 17:23:22\n       * @introduction 简述\n       * @description  获取绿灯相位信息列表\n       * @param {参数类型} type 0灰/1红/2黄/3绿  road_type 主道辅道\n       * @return {返回类型说明}\n       * @exception [违例类型] [违例类型说明]\n       */\n      getTypePhaseListWithBin(\n        moveList: any,\n        movementParas: any,\n        type = 1,\n        road_type = \"main\"\n      ) {\n        const movenents: any = [];\n        let movementMap: any = {};\n        movementParas.forEach((it: any) => {\n          movementMap[it.num_movements] = it;\n        });\n        const fdFlow = road_type !== \"main\";\n        cross.entranceArray.forEach((it: any, i: any) => {\n          const list: any = [];\n          moveList.forEach((itt: any, j: any) => {\n            const flow = movementMap[j + 1];\n            if (flow) {\n              flow.fd_flow = !!flow.fd_flow;\n              const en_id = drawMethods.getEnidWithDirection(\n                flow.enter_port_direction\n              );\n              if (\n                en_id === it.en_id &&\n                flow.if_control &&\n                flow.fd_flow === fdFlow\n              ) {\n                if (Number(itt) === type) {\n                  list.push(flow.movements_type);\n                }\n              }\n            }\n          });\n          const phaseMovemenes = this.getPhaseMovementType(list);\n          movenents.push(phaseMovemenes);\n        });\n        return movenents;\n        // return [[1, 2], [1, 2, 3, 4], [1, 2], [1, 2, 3, 4]]\n      },\n\n      // 路口流向转换成相位流向\n      getPhaseMovementType(phaseMovemenes: any) {\n        const movemenes: any = [];\n        // 相位上展示的基础流向\n        const baseFlowType = [1, 2, 3, 4, 8, 10, 11, 12, 13];\n        phaseMovemenes.forEach((it: any) => {\n          if (baseFlowType.includes(it)) {\n            movemenes.push(it);\n          } else if (it === 5) {\n            movemenes.push(1);\n            movemenes.push(2);\n          } else if (it === 6) {\n            movemenes.push(2);\n            movemenes.push(3);\n          } else if (it === 7) {\n            movemenes.push(1);\n            movemenes.push(2);\n            movemenes.push(3);\n          } else if (it === 9) {\n            movemenes.push(1);\n            movemenes.push(8);\n          } else if (it === 14) {\n            movemenes.push(12);\n            movemenes.push(13);\n          }\n        });\n        /* eslint-disable */\n        return Array.from(new Set(movemenes));\n      },\n      // 实时相位信息旋转 i 0 / 1 /2  进口序号\n      rotatePoint(phaseNum: any, i: any, phasePoints: any) {\n        const enterInfo = cross.entranceArray[i];\n        const phaseCenterPoint = [\n          phaseWidth / 2 + 2,\n          -phaseWidth * (phaseNum - 0.5) - 2,\n        ];\n        let rotatePoins: any = [];\n        if (Array.isArray(phasePoints)) {\n          rotatePoins = [];\n          phasePoints.forEach((info, index) => {\n            if (Array.isArray(info)) {\n              rotatePoins[index] = [];\n              info.map((it) => {\n                rotatePoins[index].push(\n                  Util.pointRotateByPoint(\n                    it,\n                    -enterInfo.angle,\n                    phaseCenterPoint\n                  )\n                );\n              });\n            } else {\n              rotatePoins.push(\n                Util.pointRotateByPoint(\n                  info,\n                  -enterInfo.angle,\n                  phaseCenterPoint\n                )\n              );\n            }\n          });\n        } else {\n          rotatePoins = Util.pointRotateByPoint(\n            phasePoints,\n            -enterInfo.angle,\n            phaseCenterPoint\n          );\n        }\n        return rotatePoins;\n      },\n      // 绘制路口模型上当前流向 current_phase_num\n      drawInterPhase(realInfo: any, movements: any) {\n        const phaseList = this.getPhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          \"inter\",\n          \"main\"\n        );\n        const fdPhaseList = this.getPhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          \"inter\",\n          \"fd\"\n        );\n        this.drawInterPhaseWithPhaseList(\n          realInfo,\n          movements,\n          phaseList,\n          \"main\"\n        );\n        this.drawInterPhaseWithPhaseList(\n          realInfo,\n          movements,\n          fdPhaseList,\n          \"fd\"\n        );\n      },\n      drawInterPhaseWithPhaseList(\n        realInfo: any,\n        movements: any,\n        phaseList: any,\n        road_type: any\n      ) {\n        phaseList.forEach((it: any, i: any) => {\n          it.forEach((itt: any, j: any) => {\n            const entrance = cross.entranceArray[i];\n            // 匝道并且不是第三个进口就不绘制\n            if (cross.is_have_son !== 2 || entrance.en_id === 3) {\n              if (cross.entranceArray[i].in) {\n                const flowData = getInterPhaseflowData(\n                  itt,\n                  entrance,\n                  road_type\n                );\n                const rotateFlowData = drawMethods.getRotateData(\n                  flowData,\n                  entrance.angle\n                );\n                const color = this.getInterPhaseFlowColor(\n                  realInfo.movements_state,\n                  movements,\n                  i,\n                  itt,\n                  road_type\n                );\n                this.drawInterPhaseFlow(rotateFlowData, color);\n              }\n            }\n          });\n        });\n      },\n\n      // 获取绘制路口中流向的颜色\n      getInterPhaseFlowColor(\n        movements_state: any,\n        movementParas: any,\n        index: any,\n        flowType: any,\n        road_type: any\n      ) {\n        let color = state.drawOption.yellowColor;\n        // 当前进口\n        const curEntrance = cross.entranceArray[index];\n        const fdFlow = road_type !== \"main\";\n        let greenFlowList: any = [];\n        movementParas.forEach((it: any) => {\n          if (it.if_control) {\n            const en_id = drawMethods.getEnidWithDirection(\n              it.enter_port_direction\n            );\n            if (en_id === curEntrance.en_id && it.fd_flow === fdFlow) {\n              if (movements_state[it.num_movements - 1] === 3) {\n                greenFlowList.push(it.movements_type);\n              }\n            }\n          }\n        });\n        const greenPhaseMovemenes = this.getPhaseMovementType(greenFlowList);\n        if (greenPhaseMovemenes.includes(flowType)) {\n          color = state.drawOption.greenColor;\n        }\n        return color;\n      },\n\n      // 绘制路口上的相位的单个流向\n      drawInterPhaseFlow(rotateFlowData: any, color: any) {\n        let interPhaseFlowPolygonShape = new Konva.Shape({\n          stroke: color,\n          fill: color,\n          strokeWidth: 1,\n          sceneFunc(context: any, shape: any) {\n            context.beginPath();\n            rotateFlowData.forEach((it: any, i: any) => {\n              if (i === 0) {\n                context.moveTo(it.x, -it.y);\n              } else {\n                context.lineTo(it.x, -it.y);\n              }\n            });\n            context.closePath();\n            context.fillStrokeShape(shape);\n          },\n        });\n        // this.baseLayer.add(interPhaseFlowPolygonShape)\n        realLayer.add(interPhaseFlowPolygonShape);\n      },\n      // 绘制相位倒计时\n      drawPhaseRemainTime(time: any) {\n        let remainTime = new Konva.Text({\n          x: 0,\n          y: 0,\n          text: time,\n          fontSize: 14,\n          fontFamily: \"Calibri\",\n          fill: \"#ffffff\",\n          cornerRadius: 10,\n        });\n        remainTime.offsetX(remainTime.width() / 2);\n        remainTime.offsetY(remainTime.height() / 2);\n        let circle = new Konva.Circle({\n          x: 0,\n          y: 0,\n          radius: (CrossConst.roadWidth * 2) / 3,\n          fill: \"#3a3b45\",\n        });\n        realLayer.add(circle);\n        realLayer.add(remainTime);\n      },\n      // 绘制人行灯\n      drawWalkMan(realInfo: any, movements: any) {\n        const phaseList = this.getPhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          \"run\",\n          \"main\"\n        );\n        const greyPhaseList = drawRealMethods.getTypePhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          0,\n          \"main\"\n        );\n        const redPhaseList = drawRealMethods.getTypePhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          1,\n          \"main\"\n        );\n        const yellowPhaseList = drawRealMethods.getTypePhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          2,\n          \"main\"\n        );\n        const greenPhaseList = drawRealMethods.getTypePhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          3,\n          \"main\"\n        );\n        phaseList.forEach((it: any, i: any) => {\n          const greyPhases = greyPhaseList[i];\n          const redPhases = redPhaseList[i];\n          const yellowPhases = yellowPhaseList[i];\n          const greenPhases = greenPhaseList[i];\n          let runColor = this.getRuncolor(\n            \"run\",\n            greyPhases,\n            redPhases,\n            yellowPhases,\n            greenPhases\n          );\n          let run1Color = this.getRuncolor(\n            \"run1\",\n            greyPhases,\n            redPhases,\n            yellowPhases,\n            greenPhases\n          );\n          let run2Color = this.getRuncolor(\n            \"run2\",\n            greyPhases,\n            redPhases,\n            yellowPhases,\n            greenPhases\n          );\n          const entrance = cross.entranceArray[i];\n          const manPoint = this.getEntranceManPoint(entrance);\n          // 人行数据 绿灯\n          if (it.includes(4)) {\n            drawRealMethods.drawFootLight(\n              manPoint[0],\n              \"green\",\n              entrance.angle,\n              runColor\n            );\n            drawRealMethods.drawFootLight(\n              manPoint[3],\n              \"green\",\n              entrance.angle,\n              runColor\n            );\n          } else {\n            if (it.includes(10) || it.includes(11)) {\n              if (it.includes(10)) {\n                // 人行1\n                drawRealMethods.drawFootLight(\n                  manPoint[0],\n                  \"green\",\n                  entrance.angle,\n                  run1Color\n                );\n                drawRealMethods.drawFootLight(\n                  manPoint[1],\n                  \"green\",\n                  entrance.angle,\n                  run1Color\n                );\n              } else {\n                drawRealMethods.drawFootLight(\n                  manPoint[0],\n                  \"red\",\n                  entrance.angle,\n                  run1Color\n                );\n                drawRealMethods.drawFootLight(\n                  manPoint[1],\n                  \"red\",\n                  entrance.angle,\n                  run1Color\n                );\n              }\n              if (it.includes(11)) {\n                // 人行2\n                drawRealMethods.drawFootLight(\n                  manPoint[2],\n                  \"green\",\n                  entrance.angle,\n                  run2Color\n                );\n                drawRealMethods.drawFootLight(\n                  manPoint[3],\n                  \"green\",\n                  entrance.angle,\n                  run2Color\n                );\n              } else {\n                // 人行2\n                drawRealMethods.drawFootLight(\n                  manPoint[2],\n                  \"red\",\n                  entrance.angle,\n                  run2Color\n                );\n                drawRealMethods.drawFootLight(\n                  manPoint[3],\n                  \"red\",\n                  entrance.angle,\n                  run2Color\n                );\n              }\n            } else {\n              //红灯\n              drawRealMethods.drawFootLight(\n                manPoint[0],\n                \"red\",\n                entrance.angle,\n                runColor\n              );\n              drawRealMethods.drawFootLight(\n                manPoint[3],\n                \"red\",\n                entrance.angle,\n                runColor\n              );\n            }\n          }\n        });\n      },\n      // 获取每个车道的人行等绘制位置\n      getEntranceManPoint(entrance: any) {\n        // 车道相对高度差\n        const laneOffsetHeight =\n          (entrance.point.H0[0].y - entrance.point.H0[1].y) / 2;\n        const offsetY =\n          CrossConst.manCarInterval +\n          CrossConst.manRoadLength / 2 +\n          laneOffsetHeight;\n        const offsetX = CrossConst.roadWidth / 2;\n        const manPoint: any = [];\n        const outOfsset = drawMethods.getOutLineOffset(\n          entrance.road_center_mode\n        );\n        const pointIndex = [\n          1,\n          entrance.in,\n          entrance.in + 1 + outOfsset,\n          entrance.in + entrance.out + outOfsset,\n        ];\n        pointIndex.forEach((it) => {\n          manPoint.push([\n            entrance.point.H0[it].x + offsetX,\n            entrance.point.H0[it].y + offsetY,\n          ]);\n        });\n        return manPoint;\n      },\n      // 绘制绿灯通行/红灯禁止通行\n      drawFootLight(point: any, type: any, angle: any, color: any) {\n        const centerPoint = Util.pointRotateAngel(\n          { x: point[0], y: point[1] },\n          -angle,\n          [0, 0]\n        );\n        let circle = new Konva.Circle({\n          x: centerPoint.x,\n          y: -centerPoint.y,\n          radius: (CrossConst.roadWidth * 2) / 5,\n          fill: \"#000\",\n        });\n        realLayer.add(circle);\n        const manData = getFootLightData(centerPoint, type);\n\n        let interPhaseFlowPolygonShape = new Konva.Shape({\n          stroke: color,\n          fill: color,\n          strokeWidth: 0.2,\n          sceneFunc(context: any, shape: any) {\n            context.beginPath();\n            manData.forEach((it: any, k: any) => {\n              if (k === 0) {\n                context.moveTo(it.x, -it.y);\n              } else {\n                context.lineTo(it.x, -it.y);\n              }\n            });\n            context.closePath();\n            context.fillStrokeShape(shape);\n          },\n        });\n        realLayer.add(interPhaseFlowPolygonShape);\n      },\n      // 绘制红绿灯\n      drawGreenRedLight(realInfo: any, movements: any) {\n        // 主道红绿灯\n        this.drawGreenRedLightWithType(realInfo, movements, \"main\");\n        // 绘制辅道红绿灯\n        this.drawGreenRedLightWithType(realInfo, movements, \"fd\");\n      },\n      // 绘制红绿灯\n      drawGreenRedLightWithType(\n        realInfo: any,\n        movements: any,\n        road_type = \"main\"\n      ) {\n        const phaseList = this.getPhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          \"inter\",\n          road_type\n        );\n        const greyPhaseList = this.getTypePhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          0,\n          road_type\n        );\n        const redPhaseList = this.getTypePhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          1,\n          road_type\n        );\n        const yellowPhaseList = this.getTypePhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          2,\n          road_type\n        );\n        const greenPhaseList = this.getTypePhaseListWithBin(\n          realInfo.movements_state,\n          movements,\n          3,\n          road_type\n        );\n        phaseList.forEach((it: any, i: any) => {\n          if (it.length || road_type === \"main\") {\n            const greyPhases = greyPhaseList[i];\n            const redPhases = redPhaseList[i];\n            const yellowPhases = yellowPhaseList[i];\n            const greenPhases = greenPhaseList[i];\n            // 获取绘制红绿灯位置的点\n            const { points, angle } = this.getEntranceLightPoint(i, road_type);\n            const xAngle = this.getxAngle(points, angle);\n            // 绘制红绿灯背景\n            this.drawLightHandler(\n              points[1],\n              \"back\",\n              angle,\n              null,\n              xAngle,\n              road_type\n            );\n            let leftColor = this.getLightcolor(\n              \"left\",\n              greyPhases,\n              redPhases,\n              yellowPhases,\n              greenPhases\n            );\n            let centerColor = this.getLightcolor(\n              \"center\",\n              greyPhases,\n              redPhases,\n              yellowPhases,\n              greenPhases\n            );\n            let rightColor = this.getLightcolor(\n              \"right\",\n              greyPhases,\n              redPhases,\n              yellowPhases,\n              greenPhases\n            );\n            // 绘制红绿灯左转\n            this.drawLightHandler(points[0], \"left\", angle, leftColor, xAngle);\n            // 绘制红绿灯直行\n            this.drawLightHandler(points[1], \"center\", angle, centerColor);\n            // 绘制红绿灯右转\n            this.drawLightHandler(\n              points[2],\n              \"right\",\n              angle,\n              rightColor,\n              xAngle\n            );\n            // 绘制非机动车左转\n            if (\n              redPhases.includes(12) ||\n              yellowPhases.includes(12) ||\n              greenPhases.includes(12)\n            ) {\n              let nonLeftColor = this.getLightcolor(\n                \"nonLeft\",\n                greyPhases,\n                redPhases,\n                yellowPhases,\n                greenPhases\n              );\n              if (nonLeftColor) {\n                this.drawLightHandler(\n                  points[3],\n                  \"nonBack\",\n                  angle,\n                  null,\n                  xAngle,\n                  road_type\n                );\n                this.drawLightHandler(\n                  points[3],\n                  \"nonLeft\",\n                  angle,\n                  nonLeftColor,\n                  xAngle\n                );\n              }\n            }\n            // 绘制非机动车直行\n            if (\n              redPhases.includes(13) ||\n              yellowPhases.includes(13) ||\n              greenPhases.includes(13)\n            ) {\n              let nonCenterColor = this.getLightcolor(\n                \"nonCenter\",\n                greyPhases,\n                redPhases,\n                yellowPhases,\n                greenPhases\n              );\n              if (nonCenterColor) {\n                this.drawLightHandler(\n                  points[4],\n                  \"nonBack\",\n                  angle,\n                  null,\n                  xAngle,\n                  road_type\n                );\n                this.drawLightHandler(\n                  points[4],\n                  \"nonCenter\",\n                  angle,\n                  nonCenterColor,\n                  xAngle\n                );\n              }\n            }\n          }\n        });\n      },\n\n      // 获取红绿灯颜色\n      getLightcolor(\n        type: any,\n        greyPhases: any,\n        redPhases: any,\n        yellowPhases: any,\n        greenPhases: any\n      ) {\n        const phaseMap = [\n          { phase: greyPhases, color: state.drawOption.greyColor },\n          { phase: redPhases, color: state.drawOption.redColor },\n          { phase: yellowPhases, color: state.drawOption.yellowColor },\n          { phase: greenPhases, color: state.drawOption.greenColor },\n        ];\n        let color = \"\";\n        if (type === \"left\") {\n          // const flowMap = [1, 5, 7, 8, 9]\n          phaseMap.forEach((it) => {\n            if (\n              it.phase.includes(1) ||\n              it.phase.includes(5) ||\n              it.phase.includes(7) ||\n              it.phase.includes(8) ||\n              it.phase.includes(9)\n            ) {\n              color = it.color;\n            }\n          });\n        } else if (type === \"center\") {\n          // const flowMap = [2, 5, 6, 7]\n          phaseMap.forEach((it) => {\n            if (\n              it.phase.includes(2) ||\n              it.phase.includes(5) ||\n              it.phase.includes(6) ||\n              it.phase.includes(7)\n            ) {\n              color = it.color;\n            }\n          });\n        } else if (type === \"right\") {\n          // const flowMap = [3, 6, 7]\n          phaseMap.forEach((it) => {\n            if (\n              it.phase.includes(3) ||\n              it.phase.includes(6) ||\n              it.phase.includes(7)\n            ) {\n              color = it.color;\n            }\n          });\n        } else if (type === \"nonLeft\") {\n          // const flowMap = [12]\n          phaseMap.forEach((it) => {\n            if (it.phase.includes(12)) {\n              color = it.color;\n            }\n          });\n        } else if (type === \"nonCenter\") {\n          // const flowMap = [13]\n          phaseMap.forEach((it) => {\n            if (it.phase.includes(13)) {\n              color = it.color;\n            }\n          });\n        }\n        return color;\n      },\n\n      // 获取人行颜色\n      getRuncolor(\n        type: any,\n        greyPhases: any,\n        redPhases: any,\n        yellowPhases: any,\n        greenPhases: any\n      ) {\n        // 关灯\n        if (ctrlWay === 7) {\n          return state.drawOption.greyColor;\n        } else if (ctrlWay === 9) {\n          return state.drawOption.redColor;\n        }\n        const phaseMap = [\n          { phase: greenPhases, color: state.drawOption.greenColor },\n          { phase: yellowPhases, color: state.drawOption.yellowColor },\n          { phase: redPhases, color: state.drawOption.redColor },\n          { phase: greyPhases, color: state.drawOption.greyColor },\n        ];\n        let color = state.drawOption.redColor;\n        if (type === \"run\") {\n          phaseMap.forEach((it) => {\n            if (it.phase.includes(4)) {\n              color = it.color;\n            }\n          });\n        } else if (type === \"run1\") {\n          phaseMap.forEach((it) => {\n            if (it.phase.includes(10)) {\n              color = it.color;\n            }\n          });\n        } else if (type === \"run2\") {\n          phaseMap.forEach((it) => {\n            if (it.phase.includes(11)) {\n              color = it.color;\n            }\n          });\n        }\n        return color;\n      },\n\n      // 获取绘制红绿灯的绘制位置\n      getEntranceLightPoint(i: any, road_type = \"main\") {\n        const enNum = cross.entranceArray.length;\n        let points = [];\n        let angle = [];\n\n        if (enNum === 2) {\n          // 一字路口\n          // 获取到对面的进口\n          const drawEntrance = cross.entranceArray[(i + 1) % 2];\n          const pointInfo = this.calculateEntranceLightPoint(\n            drawEntrance,\n            road_type\n          );\n          points = pointInfo.points;\n          angle = pointInfo.angle;\n        } else if (enNum === 3) {\n          // T型路口\n          const entrance = cross.entranceArray[i];\n          const leftIndex = (i + 4) % 3;\n          const rightIndex = i - 1 >= 0 ? i - 1 : 2;\n          if ((entrance.degreeLeft + 360 - entrance.degree) % 360 >= 180) {\n            const drawEntrance = cross.entranceArray[leftIndex];\n            const pointInfo = this.calculateEntranceLightPoint(\n              drawEntrance,\n              road_type\n            );\n            points = pointInfo.points;\n            angle = pointInfo.angle;\n          } else if (\n            (entrance.degree + 360 - entrance.degreeRight) % 360 >=\n            180\n          ) {\n            const drawEntrance = cross.entranceArray[rightIndex];\n            const pointInfo = this.calculateEntranceLightPoint(\n              drawEntrance,\n              road_type\n            );\n            points = pointInfo.points;\n            angle = pointInfo.angle;\n          } else {\n            // 画路口对面\n            const drawEntrance = cross.entranceArray[i];\n            const prevEntrance = cross.entranceArray[rightIndex];\n            const nextEntrance = cross.entranceArray[leftIndex];\n            const pointInfo = this.calculateEntranceFaceLightPoint(\n              drawEntrance,\n              prevEntrance,\n              nextEntrance,\n              road_type\n            );\n            points = pointInfo.points;\n            angle = pointInfo.angle + 180;\n          }\n        } else if (enNum === 4) {\n          // 十字路口\n          // 获取到对面的进口\n          const drawEntrance = cross.entranceArray[(i + 2) % 4];\n          const pointInfo = this.calculateEntranceLightPoint(\n            drawEntrance,\n            road_type\n          );\n          points = pointInfo.points;\n          angle = pointInfo.angle;\n        } else {\n          // 五岔路口 以及以上\n          const drawEntrance = cross.entranceArray[i];\n          const pointInfo = this.calculateCircleLightPoint(\n            drawEntrance,\n            road_type\n          );\n          points = pointInfo.points;\n          angle = pointInfo.angle;\n        }\n        return { points, angle };\n      },\n      // 计算绘制在进口的点位\n      calculateEntranceLightPoint(drawEntrance: any, road_type: any) {\n        // 红绿灯半径\n        const radius = CrossConst.roadWidth / 3;\n        let points = [];\n        let angle = [];\n        const inNum = drawEntrance.in;\n        const outNum = drawEntrance.out;\n        const margin = 1;\n        const fdOffset = road_type === \"fd\" ? CrossConst.roadWidth : 0;\n        const laneOffsetHeight =\n          (drawEntrance.point.H0[0].y - drawEntrance.point.H0[1].y) / 2;\n        const offsetHeight =\n          (drawEntrance.point.H0[0].y - drawEntrance.point.H0[1].y) /\n          CrossConst.roadWidth;\n        const centerPoint = [\n          drawEntrance.point.H0[inNum].x - (CrossConst.roadWidth * outNum) / 2,\n          drawEntrance.point.H0[inNum].y -\n            laneOffsetHeight * outNum -\n            radius -\n            margin -\n            fdOffset,\n        ];\n        const rightPoint = [\n          centerPoint[0] - radius * 2 - margin,\n          centerPoint[1] - offsetHeight * (radius * 2 + margin),\n        ];\n        const leftPoint = [\n          centerPoint[0] + radius * 2 + margin,\n          centerPoint[1] + offsetHeight * (radius * 2 + margin),\n        ];\n        const nonLeftPoint = [\n          centerPoint[0] - radius * 6,\n          centerPoint[1] - offsetHeight * (radius * 5),\n        ]; //非机动车左\n        const nonCenterPoint = [\n          centerPoint[0] - radius * 8 - margin,\n          centerPoint[1] - offsetHeight * (radius * 8 + margin),\n        ]; //非机动车直\n        points = [\n          leftPoint,\n          centerPoint,\n          rightPoint,\n          nonLeftPoint,\n          nonCenterPoint,\n        ];\n        angle = drawEntrance.angle;\n        return { points, angle };\n      },\n      // 计算三岔路口对面红绿灯的点位\n      calculateEntranceFaceLightPoint(\n        drawEntrance: any,\n        prevEntrance: any,\n        nextEntrance: any,\n        road_type: any\n      ) {\n        const radius = CrossConst.roadWidth / 3;\n        let points = [];\n        let angle = [];\n        const inNum = drawEntrance.in;\n        const margin = 1;\n        const fdOffset = road_type === \"fd\" ? CrossConst.roadWidth : 0;\n        const offsetHeight =\n          (drawEntrance.point.H0[0].y - drawEntrance.point.H0[1].y) /\n          CrossConst.roadWidth;\n        const centerPoint = [\n          drawEntrance.point.H0[0].x - (CrossConst.roadWidth * inNum) / 2,\n          ((nextEntrance.out + prevEntrance.in) / 2) * CrossConst.roadWidth +\n            radius * 2 +\n            margin +\n            fdOffset,\n        ];\n        const rightPoint = [\n          centerPoint[0] - radius * 2 - margin,\n          centerPoint[1] - offsetHeight * (radius * 2 + margin),\n        ];\n        const leftPoint = [\n          centerPoint[0] + radius * 2 + margin,\n          centerPoint[1] + offsetHeight * (radius * 2 + margin),\n        ];\n        points = [leftPoint, centerPoint, rightPoint];\n        angle = drawEntrance.angle + 180;\n        return { points, angle };\n      },\n      // 计算五岔路口 以及以上红绿灯的点位\n      calculateCircleLightPoint(drawEntrance: any, road_type: any) {\n        // 红绿灯半径\n        const radius = CrossConst.roadWidth / 3;\n        let points = [];\n        let angle = [];\n        const margin = 1;\n        const offsetHeight =\n          (drawEntrance.point.H0[0].y - drawEntrance.point.H0[1].y) /\n          CrossConst.roadWidth;\n        const fdOffset = road_type === \"fd\" ? CrossConst.roadWidth : 0;\n        const centerPoint = [\n          // drawEntrance.point.H0[0].x - CrossConst.roadWidth * inNum / 2,\n          0 - CrossConst.roadWidth,\n          CrossConst.roadWidth * 2.8 - fdOffset,\n        ];\n        const rightPoint = [\n          centerPoint[0] - radius * 2 - margin,\n          centerPoint[1] - offsetHeight * (radius * 2 + margin),\n        ];\n        const leftPoint = [\n          centerPoint[0] + radius * 2 + margin,\n          centerPoint[1] + offsetHeight * (radius * 2 + margin),\n        ];\n        points = [leftPoint, centerPoint, rightPoint];\n        angle = drawEntrance.angle + 180;\n        return { points, angle };\n      },\n\n      // 获取绘制红绿灯\n      drawLightHandler(\n        point: any,\n        drawType: any,\n        angle: any,\n        color: any,\n        xAngle = 0,\n        road_type = \"main\"\n      ) {\n        // 红绿灯半径\n        const radius = CrossConst.roadWidth / 3;\n        const centerPoint = Util.pointRotateAngel(\n          { x: point[0], y: point[1] },\n          -angle,\n          [0, 0]\n        );\n        // 绘制红绿灯背景\n        if (drawType === \"back\") {\n          let lightBack = new Konva.Rect({\n            x: centerPoint.x,\n            y: -centerPoint.y,\n            width: radius * 6 + 8,\n            height: radius * 2 + 2,\n            fill: road_type === \"main\" ? \"#fff\" : \"#999\",\n            rotation: xAngle,\n            cornerRadius: radius,\n          });\n          lightBack.offsetX(lightBack.width() / 2);\n          lightBack.offsetY(lightBack.height() / 2);\n          realLayer.add(lightBack);\n        } else if (drawType === \"nonBack\") {\n          let lightBack = new Konva.Rect({\n            x: centerPoint.x,\n            y: -centerPoint.y,\n            width: radius * 2 + 2,\n            height: radius * 2 + 2,\n            fill: road_type === \"main\" ? \"#888\" : \"#666\",\n            rotation: xAngle,\n            cornerRadius: radius,\n          });\n          lightBack.offsetX(lightBack.width() / 2);\n          lightBack.offsetY(lightBack.height() / 2);\n          realLayer.add(lightBack);\n        } else {\n          // 红绿灯黑底\n          let circle = new Konva.Circle({\n            x: centerPoint.x,\n            y: -centerPoint.y,\n            radius: CrossConst.roadWidth / 3,\n            fill: \"#000\",\n          });\n          realLayer.add(circle);\n          if (drawType === \"center\") {\n            let centerCircle = new Konva.Circle({\n              x: centerPoint.x,\n              y: -centerPoint.y,\n              radius: CrossConst.roadWidth / 3,\n              fill: color,\n            });\n            realLayer.add(centerCircle);\n          } else if (drawType === \"left\" || drawType === \"right\") {\n            const lightData = getDirectionLightData(\n              { x: point[0], y: point[1] },\n              drawType\n            );\n            const rotateLightData = drawMethods.getRotateData(lightData, angle);\n            let lightPolygonShape = new Konva.Shape({\n              stroke: color,\n              fill: color,\n              strokeWidth: 0.2,\n              sceneFunc(context: any, shape: any) {\n                context.beginPath();\n                rotateLightData.forEach((it: any, k: any) => {\n                  if (k === 0) {\n                    context.moveTo(it.x, -it.y);\n                  } else {\n                    context.lineTo(it.x, -it.y);\n                  }\n                });\n                context.closePath();\n                context.fillStrokeShape(shape);\n              },\n            });\n            realLayer.add(lightPolygonShape);\n          } else if (drawType === \"nonLeft\" || drawType === \"nonCenter\") {\n            console.log(drawType);\n            const ponitInfo: any = getDirectionLightData(\n              { x: point[0], y: point[1] },\n              drawType\n            );\n            const { point1, point2, polygon1, polygon2, polygon3 } = ponitInfo;\n            const rotatePoint1 = drawMethods.getRotateData(point1, angle);\n            const rotatePoint2 = drawMethods.getRotateData(point2, angle);\n            const rotatePolygon1 = drawMethods.getRotateData(polygon1, angle);\n            const rotatePolygon2 = drawMethods.getRotateData(polygon2, angle);\n            const rotatePolygon3 = drawMethods.getRotateData(polygon3, angle);\n            // 绘制两个圆\n            let circle1 = new Konva.Circle({\n              x: rotatePoint1.x,\n              y: -rotatePoint1.y,\n              radius: ((CrossConst.roadWidth / 3) * 4) / 5 / 3,\n              fill: color,\n            });\n            let circle2 = new Konva.Circle({\n              x: rotatePoint1.x,\n              y: -rotatePoint1.y,\n              radius: ((CrossConst.roadWidth / 3) * 4) / 5 / 4,\n              fill: \"#000000\",\n            });\n            let circle3 = new Konva.Circle({\n              x: rotatePoint2.x,\n              y: -rotatePoint2.y,\n              radius: ((CrossConst.roadWidth / 3) * 4) / 5 / 3,\n              fill: color,\n            });\n            let circle4 = new Konva.Circle({\n              x: rotatePoint2.x,\n              y: -rotatePoint2.y,\n              radius: ((CrossConst.roadWidth / 3) * 4) / 5 / 4,\n              fill: \"#000000\",\n            });\n\n            let polygonShape1 = new Konva.Shape({\n              stroke: color,\n              fill: color,\n              strokeWidth: 0.2,\n              sceneFunc(context, shape) {\n                context.beginPath();\n                rotatePolygon1.forEach((it: any, k: any) => {\n                  if (k === 0) {\n                    context.moveTo(it.x, -it.y);\n                  } else {\n                    context.lineTo(it.x, -it.y);\n                  }\n                });\n                context.closePath();\n                context.fillStrokeShape(shape);\n              },\n            });\n            let polygonShape2 = new Konva.Shape({\n              stroke: color,\n              fill: color,\n              strokeWidth: 0.2,\n              sceneFunc(context, shape) {\n                context.beginPath();\n                rotatePolygon2.forEach((it: any, k: any) => {\n                  if (k === 0) {\n                    context.moveTo(it.x, -it.y);\n                  } else {\n                    context.lineTo(it.x, -it.y);\n                  }\n                });\n                context.closePath();\n                context.fillStrokeShape(shape);\n              },\n            });\n            let polygonShape3 = new Konva.Shape({\n              stroke: color,\n              fill: color,\n              strokeWidth: 0.2,\n              sceneFunc(context, shape) {\n                context.beginPath();\n                rotatePolygon3.forEach((it: any, k: any) => {\n                  if (k === 0) {\n                    context.moveTo(it.x, -it.y);\n                  } else {\n                    context.lineTo(it.x, -it.y);\n                  }\n                });\n                context.closePath();\n                context.fillStrokeShape(shape);\n              },\n            });\n\n            realLayer.add(circle1);\n            realLayer.add(circle2);\n            realLayer.add(circle3);\n            realLayer.add(circle4);\n            realLayer.add(polygonShape1);\n            realLayer.add(polygonShape2);\n            realLayer.add(polygonShape3);\n          }\n        }\n      },\n      // 获取红绿灯偏移角度\n      getxAngle(points: any, angle: any) {\n        const [point1, point2] = points;\n        const P1 = Util.pointRotateAngel(\n          { x: point1[0], y: point1[1] },\n          -angle,\n          [0, 0]\n        );\n        const P2 = Util.pointRotateAngel(\n          { x: point2[0], y: point2[1] },\n          -angle,\n          [0, 0]\n        );\n        // 因为点位y跟直角坐标系是相反的，所以P1.y - P2.y\n        const degree = Math.atan2(P1.y - P2.y, P2.x - P1.x);\n        return degree * (180 / Math.PI);\n      },\n      // 红绿灯点位旋转车道倾斜角度\n      getRotateLightData2(rotateLightData: any, xAngle: any, centerPoint: any) {\n        const rotateLightData2: any = [];\n        rotateLightData.forEach((it: any) => {\n          const point = Util.pointRotateByPoint(it, xAngle, [\n            centerPoint.x,\n            centerPoint.y,\n          ]);\n          rotateLightData2.push(point);\n        });\n        return rotateLightData2;\n      },\n    };\n    //---------------------------------------------imageLoadMixins---------------------------------------------//\n    const imageLoadMethods = {\n      initImg() {\n        // 相邻路口图片\n        nearImg = new Image();\n        nearImg.src = adjacentIcon;\n\n        // 非机动车道自行车图片\n        const bikeImg = new Image();\n        bikeImg.src = bikeIcon;\n      },\n    };\n    imageLoadMethods.initImg();\n    return {\n      ...toRefs(state),\n      tfInterModel,\n      scTfInterBox,\n      scTfPhaseBox,\n      ...methods,\n      ...drawMethods,\n      ...drawRealMethods,\n      ...imageLoadMethods,\n    };\n  },\n});\n","import { render } from \"./interModel.vue?vue&type=template&id=53dddc24\"\nimport script from \"./interModel.vue?vue&type=script&lang=ts\"\nexport * from \"./interModel.vue?vue&type=script&lang=ts\"\n\nimport \"./interModel.vue?vue&type=style&index=0&id=53dddc24&lang=scss\"\nscript.render = render\n\nexport default script","import { App } from 'vue'\nimport interModel from './src/interModel.vue'\n \n// 定义 install 方法， App 作为参数\ninterModel.install = (app: App): void => {\n    app.component(interModel.name, interModel)\n}\n \nexport default interModel","import { App } from 'vue'\nimport tfInterModel from './interModel'\n \n// 所有组件列表\nconst components = [ tfInterModel ]\n \n// 定义 install 方法， App 作为参数\nconst install = (app: App): void => {\n    // 遍历注册所有组件\n    components.map((component) => app.component(component.name, component))\n}\n \nexport {\n  tfInterModel\n}\n \nexport default {\n    install\n}","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  /* global Symbol -- safe */\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n"],"sourceRoot":""}